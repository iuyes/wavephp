-- phpMyAdmin SQL Dump
-- version 3.5.1
-- http://www.phpmyadmin.net
--
-- 主机: localhost
-- 生成日期: 2013 年 07 月 17 日 18:28
-- 服务器版本: 5.5.24-log
-- PHP 版本: 5.4.3

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- 数据库: `wave_blog`
--

-- --------------------------------------------------------

--
-- 表的结构 `articles`
--

CREATE TABLE IF NOT EXISTS `articles` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `add_author` bigint(20) unsigned NOT NULL DEFAULT '0',
  `add_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `content` longtext NOT NULL,
  `title` text NOT NULL,
  `post_excerpt` text NOT NULL,
  `status` varchar(20) NOT NULL DEFAULT 'publish',
  `comment_status` varchar(20) NOT NULL DEFAULT 'open',
  `modify_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `post_parent` bigint(20) unsigned NOT NULL DEFAULT '0',
  `guid` varchar(255) NOT NULL DEFAULT '',
  `menu_order` int(11) NOT NULL DEFAULT '0',
  `post_type` varchar(20) NOT NULL DEFAULT 'post',
  `post_mime_type` varchar(100) NOT NULL DEFAULT '',
  `comment_count` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `type_status_date` (`post_type`,`status`,`add_date`,`id`),
  KEY `post_parent` (`post_parent`),
  KEY `post_author` (`add_author`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=538 ;

--
-- 转存表中的数据 `articles`
--

INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(4, 1, '2011-06-28 20:03:59', '热烈庆祝自己在2011年6月28日星期二创建WordPress for SAE 成功，第一次拥有在互联网上自己的博客，哈哈！！！\r\n\r\n再接再厉，望开发出好的应用！！！', '今天创建WordPress for SAE 成功', '', 'publish', 'open', '2012-12-21 16:21:26', 0, 'http://xpmyblog.sinaapp.com/?p=4', 0, 'post', '', 0),
(5, 1, '2011-06-28 20:03:03', '热烈庆祝自己在2011年6月28日星期二', '今天创建WordPress for SAE 成功', '', 'inherit', 'open', '2011-06-28 20:03:03', 4, '', 0, 'revision', '', 0),
(8, 1, '2011-06-28 20:03:59', '热烈庆祝自己在2011年6月28日星期二创建WordPress for SAE 成功，第一次拥有在互联网上自己的博客，哈哈！！！\r\n\r\n再接再厉，望开发出好的应用！！！', '今天创建WordPress for SAE 成功', '', 'inherit', 'open', '2011-06-28 20:03:59', 4, 'http://xpmyblog.sinaapp.com/?p=8', 0, 'revision', '', 0),
(11, 1, '2011-06-28 21:09:29', '[caption id="attachment_12" align="alignnone" width="300" caption="保时捷boxster新款"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china.jpg"><img class="size-medium wp-image-12" title="boxster-black-edition" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china-300x203.jpg" alt="魅不可挡" width="300" height="203" /></a>[/caption]\r\n\r\n帅气的保时捷boxster新款——black-edition。\r\n\r\n魅不可挡，以黑为尚。这是设计师和工程师始终秉承“Porsche Intelligent Performance”理念共同设计与诠释的结果。一款限量版车型，让您与众不同，令人艳羡– Boxster Black Edition。\r\n\r\n<a href="http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster">http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster</a> 可以从这里进官网体验下。', '帅气的保时捷boxster-black-edition', '', 'publish', 'open', '2012-12-21 16:17:15', 0, 'http://xpmyblog.sinaapp.com/?p=11', 0, 'post', '', 3),
(12, 1, '2011-06-28 21:06:47', '保时捷boxster新款boxster-black-edition', 'boxster-black-edition', '保时捷boxster新款', 'inherit', 'open', '2011-06-28 21:06:47', 11, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china.jpg', 0, 'attachment', 'image/jpeg', 0),
(15, 1, '2011-06-28 21:10:00', '[caption id="attachment_12" align="alignnone" width="300" caption="保时捷boxster新款"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china.jpg"><img class="size-medium wp-image-12" title="boxster-black-edition" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china-300x203.jpg" alt="魅不可挡" width="300" height="203" /></a>[/caption]\r\n\r\n帅气的保时捷boxster新款——black-edition。\r\n\r\n魅不可挡，以黑为尚。这是设计师和工程师始终秉承“Porsche Intelligent Performance”理念共同设计与诠释的结果。一款限量版车型，让您与众不同，令人艳羡– Boxster Black Edition。', '帅气的保时捷boxster-black-edition', '', 'inherit', 'open', '2011-06-28 21:10:00', 11, 'http://xpmyblog.sinaapp.com/?p=15', 0, 'revision', '', 0),
(16, 1, '2011-06-29 13:14:19', '235 kW (320 hp) / 7,200 rpm\r\n\r\n0-100 km/h 加速用时：5.0 s\r\n\r\n最高时速：265 km/h\r\n\r\n<a href="http://www.porsche.com/china/zh/models/boxster/boxster-spyder/">http://www.porsche.com/china/zh/models/boxster/boxster-spyder/</a>\r\n\r\n那个视频很好。\r\n\r\n[caption id="attachment_17" align="alignnone" width="300" caption="保时捷跑车"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900.jpg"><img class="size-medium wp-image-17" title="保时捷-boxster-spyder" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900-300x187.jpg" alt="保时捷-boxster-spyder" width="300" height="187" /></a>[/caption]\r\n\r\n&nbsp;', 'boxster-spyder 纵弛不羁', '', 'publish', 'open', '2012-12-21 16:17:07', 0, 'http://xpmyblog.sinaapp.com/?p=16', 0, 'post', '', 1),
(17, 1, '2011-06-29 13:13:17', '我很喜欢的一款车', '保时捷-boxster-spyder', '保时捷跑车', 'inherit', 'open', '2011-06-29 13:13:17', 16, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900.jpg', 0, 'attachment', 'image/jpeg', 0),
(18, 1, '2011-06-29 13:09:06', '235 kW (320 hp) / 7,200 rpm\n\n0-100 km/h 加速用时：5.0 s\n\n最高时速：265 km/h\n\n<a href="http://www.porsche.com/china/zh/models/boxster/boxster-spyder/">http://www.porsche.com/china/zh/models/boxster/boxster-spyder/</a>\n\n&nbsp;\n\n&nbsp;', 'boxster-spyder 纵弛不羁', '', 'inherit', 'open', '2011-06-29 13:09:06', 16, 'http://xpmyblog.sinaapp.com/?p=18', 0, 'revision', '', 0),
(20, 1, '2011-07-11 15:22:42', '从这上面<a href="http://www.bananawolf.com/html/2011/06/628.html">http://www.bananawolf.com/html/2011/06/628.html</a>转载\r\n\r\n《Android SDK 开发范例大全》\r\n\r\n这本书上在安装开发环境方面讲的不是很详细，而且只有Win上的环境配置方法，没有Ubuntu上的环境配置方法。现代我们就来看看Ubuntu上怎么安装Eclipse+Android的开发环境。\r\n\r\n1. 安装JDK6\r\n\r\n先确认已经添加了软件源，在系统－系统管理－软件源－其它软件，确保已经选中http://archive.canonical.com/ubuntu lucid partner这个源。\r\n<pre>sudo apt-get install sun-java6-jdk</pre>\r\n设置系统环境变量\r\n<pre>export JAVA_HOME=/usr/lib/jvm/java-6-sun    (根据具体的安装路径)\r\nexport ANDROID_JAVA_HOME=$JAVA_HOME</pre>\r\n2. 安装Eclipse\r\n\r\n在应用程序－Ubuntu软件中心 中查找安装\r\n\r\n3.安装Android SDK\r\n\r\n在<a href="http://developer.android.com/sdk">http://developer.android.com/sdk</a>上下载<a href="http://dl.google.com/android/android-sdk_r11-linux_x86.tgz">android-sdk_r11-linux_x86.tgz</a>\r\n然后解压到/opt下\r\n<pre>sudo tar xzvf android-sdk_r11-linux_x86.tgz -C /opt\r\n# 修改目录权限，\r\nsudo chown -R root:root /opt/android-sdk-linux_x86   root为你当前用户或者\r\nsudo chmod 777 /opt/android-sdk-linux_x86</pre>\r\n添加PATH路径\r\n<pre>sudo gedit ~/.bashrc</pre>\r\n在文件最后输入\r\n<pre># android sdk\r\nexport PATH=${PATH}：/opt/android-sdk-linux_x86/tools</pre>\r\n4.安装ADT插件\r\n打开上面安装的Eclipse-help-Install New Software\r\n\r\nwork width为http://dl-ssl.google.com/Android/eclipse/\r\n选择安装android development tools\r\n\r\n如果安装过程中出现错误：The operation cannot be completed. See the details\r\n则表明需要安装WST，输入地址http://download.eclipse.org/releases/galileo/\r\n选择最后一项的最后一个子项WST即可，如果安装WST的过程出现错误：An error occurred while installing the items\r\nsession context was:(profile=PlatformProfile, phase=org.eclipse.equinox.internal.provisional.p2.engine.phases.Install, operand=null –&gt; [R]org.eclipse.ant.ui 3.4.1.v20090901_r351, action=org.eclipse.equinox.internal.p2.touchpoint.eclipse.actions.InstallBundleAction).\r\nThe artifact file for osgi.bundle,org.eclipse.ant.ui,3.4.1.v20090901_r351 was not found.\r\n有可能没有安装Eclipse 的eclipse-pde或eclipse-jdt插件\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n5.设置SDK－HOME\r\n在Eclipse 中window-Preferences-&gt;android中浏览选择Android SDK的安装目录即/opt/android-sdk-linux_x86\r\n\r\n更新Android SDK Tools，\r\n在Eclipse – window – Android SDK and AVD Manager – Installed packages 选择 Android SDK Tools, revision 11点击Update All\r\n\r\n至此，Eclipse+Android 环境基本配置完成。', 'Ubuntu上怎么安装Eclipse Android 开发环境', '', 'publish', 'open', '2012-12-21 16:24:06', 0, 'http://xpmyblog.sinaapp.com/?p=20', 0, 'post', '', 0),
(21, 1, '2011-07-11 15:22:05', '', 'Ubuntu上怎么安装Eclipse Android 开发环境', '', 'inherit', 'open', '2011-07-11 15:22:05', 20, 'http://xpmyblog.sinaapp.com/?p=21', 0, 'revision', '', 0),
(22, 1, '2011-07-11 15:26:20', '从这上面<a href="http://www.bananawolf.com/html/2011/06/628.html">http://www.bananawolf.com/html/2011/06/628.html</a>转载\n\n《Android SDK 开发范例大全》\n\n这本书上在安装开发环境方面讲的不是很详细，而且只有Win上的环境配置方法，没有Ubuntu上的环境配置方法。现代我们就来看看Ubuntu上怎么安装Eclipse+Android的开发环境。\n\n1. 安装JDK6\n\n先确认已经添加了软件源，在系统－系统管理－软件源－其它软件，确保已经选中http://archive.canonical.com/ubuntu lucid partner这个源。\n<pre>sudo apt-get install sun-java6-jdk</pre>\n设置系统环境变量\n<pre>export JAVA_HOME=/usr/lib/jvm/java-6-sun    (根据具体的安装路径)\nexport ANDROID_JAVA_HOME=$JAVA_HOME</pre>\n2. 安装Eclipse\n\n在应用程序－Ubuntu软件中心 中查找安装\n\n3.安装Android SDK\n\n在<a href="http://developer.android.com/sdk">http://developer.android.com/sdk</a>上下载<a href="http://dl.google.com/android/android-sdk_r11-linux_x86.tgz">android-sdk_r11-linux_x86.tgz</a>\n然后解压到/opt下\n<pre>sudo tar xzvf android-sdk_r11-linux_x86.tgz -C /opt\n# 修改目录权限，\nsudo chown -R root:root /opt/android-sdk-linux_x86   root为你当前用户或者\nsudo chmod 777 /opt/android-sdk-linux_x86</pre>\n添加PATH路径\n<pre>sudo gedit ~/.bashrc</pre>\n在文件最后输入\n<pre># android sdk\nexport PATH=${PATH}：/opt/android-sdk-linux_x86/tools</pre>\n4.安装ADT插件\n打开上面安装的Eclipse-help-Install New Software\n\nwork width为http://dl-ssl.google.com/Android/eclipse/\n选择安装android development tools\n\n如果安装过程中出现错误：The operation cannot be completed. See the details\n则表明需要安装WST，输入地址http://download.eclipse.org/releases/galileo/\n选择最后一项的最后一个子项WST即可，如果安装WST的过程出现错误：An error occurred while installing the items\nsession context was:(profile=PlatformProfile, phase=org.eclipse.equinox.internal.provisional.p2.engine.phases.Install, operand=null –&gt; [R]org.eclipse.ant.ui 3.4.1.v20090901_r351, action=org.eclipse.equinox.internal.p2.touchpoint.eclipse.actions.InstallBundleAction).\nThe artifact file for osgi.bundle,org.eclipse.ant.ui,3.4.1.v20090901_r351 was not found.\n有可能没有安装Eclipse 的eclipse-pde或eclipse-jdt插件\n<pre>sudo apt-get install eclipse-pde\nsudo apt-get install eclipse-jdt</pre>\n5.设置SDK－HOME\n在Eclipse 中window-Preferences-&gt;android中浏览选择Android SDK的安装目录即/opt/android-sdk-linux_x86\n\n更新Android SDK Tools，\n在Eclipse – window – Android SDK and AVD Manager – Installed packages 选择 Android SDK Tools, revision 11点击Update All\n\n至此，Eclipse+Android 环境基本配置完成。\n\n&nbsp;', 'Ubuntu上怎么安装Eclipse Android 开发环境', '', 'inherit', 'open', '2011-07-11 15:26:20', 20, 'http://xpmyblog.sinaapp.com/?p=22', 0, 'revision', '', 0),
(23, 1, '2011-07-11 15:22:42', '最近Android 不是很热么，我们公司也有相关业务，老总叫我也学习一下！我么当然很乐意去学习这样一个热门的东西，就去书店买一本《Android SDK 开发范例大全》，就算开始学习了。\r\n\r\n这本书上在安装开发环境方面讲的不是很详细，而且只有Win上的环境配置方法，没有Ubuntu上的环境配置方法。现代我们就来看看Ubuntu上怎么安装Eclipse+Android的开发环境。\r\n\r\n1. 安装JDK6\r\n\r\n先确认已经添加了软件源，在系统－系统管理－软件源－其它软件，确保已经选中http://archive.canonical.com/ubuntu lucid partner这个源。\r\n<pre>sudo apt-get install sun-java6-jdk</pre>\r\n设置系统环境变量\r\n<pre>export JAVA_HOME=/usr/lib/jvm/java-6-sun    (根据具体的安装路径)\r\nexport ANDROID_JAVA_HOME=$JAVA_HOME</pre>\r\n2. 安装Eclipse\r\n\r\n在应用程序－Ubuntu软件中心 中查找安装\r\n\r\n3.安装Android SDK\r\n\r\n在<a href="http://developer.android.com/sdk">http://developer.android.com/sdk</a>上下载<a href="http://dl.google.com/android/android-sdk_r11-linux_x86.tgz">android-sdk_r11-linux_x86.tgz</a>\r\n然后解压到/opt下\r\n<pre>sudo tar xzvf android-sdk_r11-linux_x86.tgz -C /opt\r\n# 修改目录权限，\r\nsudo chown -R root:root /opt/android-sdk-linux_x86   root为你当前用户或者\r\nsudo chmod 777 /opt/android-sdk-linux_x86</pre>\r\n添加PATH路径\r\n<pre>sudo gedit ~/.bashrc</pre>\r\n在文件最后输入\r\n<pre># android sdk\r\nexport PATH=${PATH}：/opt/android-sdk-linux_x86/tools</pre>\r\n4.安装ADT插件\r\n打开上面安装的Eclipse-help-Install New Software\r\n\r\nwork width为http://dl-ssl.google.com/Android/eclipse/\r\n选择安装android development tools\r\n\r\n如果安装过程中出现错误：The operation cannot be completed. See the details\r\n则表明需要安装WST，输入地址http://download.eclipse.org/releases/galileo/\r\n选择最后一项的最后一个子项WST即可，如果安装WST的过程出现错误：An error occurred while installing the items\r\nsession context was:(profile=PlatformProfile, phase=org.eclipse.equinox.internal.provisional.p2.engine.phases.Install, operand=null –&gt; [R]org.eclipse.ant.ui 3.4.1.v20090901_r351, action=org.eclipse.equinox.internal.p2.touchpoint.eclipse.actions.InstallBundleAction).\r\nThe artifact file for osgi.bundle,org.eclipse.ant.ui,3.4.1.v20090901_r351 was not found.\r\n有可能没有安装Eclipse 的eclipse-pde或eclipse-jdt插件\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n5.设置SDK－HOME\r\n在Eclipse 中window-Preferences-&gt;android中浏览选择Android SDK的安装目录即/opt/android-sdk-linux_x86\r\n\r\n更新Android SDK Tools，\r\n在Eclipse – window – Android SDK and AVD Manager – Installed packages 选择 Android SDK Tools, revision 11点击Update All\r\n\r\n至此，Eclipse+Android 环境基本配置完成。\r\n\r\n&nbsp;', 'Ubuntu上怎么安装Eclipse Android 开发环境', '', 'inherit', 'open', '2011-07-11 15:22:42', 20, 'http://xpmyblog.sinaapp.com/?p=23', 0, 'revision', '', 0),
(31, 1, '2011-07-11 15:25:17', '从这上面<a href="http://www.bananawolf.com/html/2011/06/628.html">http://www.bananawolf.com/html/2011/06/628.html</a>转载\r\n\r\n《Android SDK 开发范例大全》\r\n\r\n这本书上在安装开发环境方面讲的不是很详细，而且只有Win上的环境配置方法，没有Ubuntu上的环境配置方法。现代我们就来看看Ubuntu上怎么安装Eclipse+Android的开发环境。\r\n\r\n1. 安装JDK6\r\n\r\n先确认已经添加了软件源，在系统－系统管理－软件源－其它软件，确保已经选中http://archive.canonical.com/ubuntu lucid partner这个源。\r\n<pre>sudo apt-get install sun-java6-jdk</pre>\r\n设置系统环境变量\r\n<pre>export JAVA_HOME=/usr/lib/jvm/java-6-sun    (根据具体的安装路径)\r\nexport ANDROID_JAVA_HOME=$JAVA_HOME</pre>\r\n2. 安装Eclipse\r\n\r\n在应用程序－Ubuntu软件中心 中查找安装\r\n\r\n3.安装Android SDK\r\n\r\n在<a href="http://developer.android.com/sdk">http://developer.android.com/sdk</a>上下载<a href="http://dl.google.com/android/android-sdk_r11-linux_x86.tgz">android-sdk_r11-linux_x86.tgz</a>\r\n然后解压到/opt下\r\n<pre>sudo tar xzvf android-sdk_r11-linux_x86.tgz -C /opt\r\n# 修改目录权限，\r\nsudo chown -R root:root /opt/android-sdk-linux_x86   root为你当前用户或者\r\nsudo chmod 777 /opt/android-sdk-linux_x86</pre>\r\n添加PATH路径\r\n<pre>sudo gedit ~/.bashrc</pre>\r\n在文件最后输入\r\n<pre># android sdk\r\nexport PATH=${PATH}：/opt/android-sdk-linux_x86/tools</pre>\r\n4.安装ADT插件\r\n打开上面安装的Eclipse-help-Install New Software\r\n\r\nwork width为http://dl-ssl.google.com/Android/eclipse/\r\n选择安装android development tools\r\n\r\n如果安装过程中出现错误：The operation cannot be completed. See the details\r\n则表明需要安装WST，输入地址http://download.eclipse.org/releases/galileo/\r\n选择最后一项的最后一个子项WST即可，如果安装WST的过程出现错误：An error occurred while installing the items\r\nsession context was:(profile=PlatformProfile, phase=org.eclipse.equinox.internal.provisional.p2.engine.phases.Install, operand=null –&gt; [R]org.eclipse.ant.ui 3.4.1.v20090901_r351, action=org.eclipse.equinox.internal.p2.touchpoint.eclipse.actions.InstallBundleAction).\r\nThe artifact file for osgi.bundle,org.eclipse.ant.ui,3.4.1.v20090901_r351 was not found.\r\n有可能没有安装Eclipse 的eclipse-pde或eclipse-jdt插件\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n5.设置SDK－HOME\r\n在Eclipse 中window-Preferences-&gt;android中浏览选择Android SDK的安装目录即/opt/android-sdk-linux_x86\r\n\r\n更新Android SDK Tools，\r\n在Eclipse – window – Android SDK and AVD Manager – Installed packages 选择 Android SDK Tools, revision 11点击Update All\r\n\r\n至此，Eclipse+Android 环境基本配置完成。\r\n\r\n&nbsp;', 'Ubuntu上怎么安装Eclipse Android 开发环境', '', 'inherit', 'open', '2011-07-11 15:25:17', 20, 'http://xpmyblog.sinaapp.com/?p=31', 0, 'revision', '', 0),
(32, 1, '2011-08-08 11:18:20', 'upload.php文件内容\r\n\r\n<pre class="brush: php;">\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录\r\n\r\n$img_dir = "upload/";\r\n\r\n// 把图片传到服务器\r\n\r\n// 初始化变量\r\n\r\n$uploaded = 0;\r\n\r\n$unuploaded = 0;\r\n\r\n$imgname = $uid.$time;\r\n\r\n//只允许三张图片上传\r\n\r\nfor ($i=0; $i<=2; $i++) {\r\n\r\n//获取当前图片的信息\r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i];\r\n\r\n//如果当前图片不为空\r\n\r\nif (!empty($is_file)) {\r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！\r\n";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！'';\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n/**\r\n* 按比例缩小图片\r\n*\r\n* @param string $im 源文件\r\n* @param int $maxwidth 规定图片宽 324px\r\n* @param int $maxhidth 规定图片高 343px\r\n* @param int $maxwidth 输出文件\r\n*\r\n* 返回文件\r\n*\r\n*/\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n// 载入图像到php到变量中\r\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\r\n$style = strtolower($suffix);\r\nif($style==''jpg'' || $style==''jpeg''){\r\n$originail = imagecreatefromjpeg($im); //jpg\r\n}elseif($style==''png''){\r\n$originail = imagecreatefrompng($im); //png\r\n}elseif($style==''gif''){\r\n$originail = imagecreatefromgif($im); //gif\r\n}\r\n$dims = getimagesize($im); //获取图片大小；\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg )\r\n\r\n$pic_width = $dims[''0''];\r\n$pic_height = $dims[''1''];\r\n\r\nif(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n{\r\n$resizewidth_tag = false;\r\n$resizeheight_tag = false;\r\n\r\nif($maxwidth && $pic_width>$maxwidth)\r\n{\r\n$widthratio = $maxwidth/$pic_width;\r\n$resizewidth_tag = true;\r\n}\r\n\r\nif($maxheight && $pic_height>$maxheight)\r\n{\r\n$heightratio = $maxheight/$pic_height;\r\n$resizeheight_tag = true;\r\n}\r\n\r\nif($resizewidth_tag && $resizeheight_tag)\r\n{\r\nif($widthratio<$heightratio)\r\n$ratio = $widthratio;\r\nelse\r\n$ratio = $heightratio;\r\n}\r\n\r\nif($resizewidth_tag && !$resizeheight_tag)\r\n$ratio = $widthratio;\r\nif($resizeheight_tag && !$resizewidth_tag)\r\n$ratio = $heightratio;\r\n\r\n$newwidth = $pic_width * $ratio;\r\n$newheight = $pic_height * $ratio;\r\n\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n}\r\nelse\r\n{\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n}\r\nreturn imagejpeg($newim,$to);\r\n\r\n}\r\n</pre>', 'PHP按比例缩放图', '', 'publish', 'open', '2012-12-21 16:21:06', 0, 'http://xpmyblog.sinaapp.com/?p=32', 0, 'post', '', 0),
(33, 1, '2011-08-08 11:17:36', 'upload.html 文件内容\n\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n\n<html xmlns="http://www.w3.org/1999/xhtml">\n\n<head>\n\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n<title>上传图片</title>\n<script type="text/javascript" src="jquery-1.4.2.min.js"></script>\n<style>\n.layers{;width:454px;height:271px;overflow:hidden;border:1px solid #73a32a;background:#fff;top:0px;left:0px;}\n.layers h3{height:30px;padding-left:13px;line-height:30px;overflow:hidden;padding-right:10px;background:url(/img/layerh3.png) repeat-x;font-size:14px;font-weight:400;color:#fff; font-family:''微软雅黑''}\n.layers h3 img{float:right;margin-top:10px;cursor:pointer;}\n.layers .p-n{height:30px;overflow:hidden;padding:20px 0 0 40px;}\n.layers .p-n label{float:left;display:block;font-family:''微软雅黑''}\n.layers .p-n input{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:280px;}\n.layers .p-n p{float:left;padding-left:5px;}\n.layers .p-n p span{color:#999;}\n.layers .p-d{ ;overflow:hidden;padding:0 0 0 40px;}\n.layers .p-d label{float:left;display:block; font-family:''微软雅黑''}\n.layers .p-d file{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:200px;}\n.layers .p-d textarea{float:left;width:278px;height:40px;line-height:18px;font-size:12px;padding:5px;border:1px solid #ccc;overflow-x:hidden;overflow-y:auto;}\n.layers .p-d p{float:left;padding-left:5px;}\n.layers .p-d p span{color:#999;}\n.layers .btn{height:30px;overflow:hidden;background:#f3f3f3;padding:7px 10px 0 10px;}\n.layers .btn input{width:49px;height:19px;line-height:19px;text-align:center;border:1px solid #b4c59a;cursor:pointer;background:url(../img/btn.png) repeat-x;float:right;margin-left:10px;}\n.layers .btn input.xj{background-position:0 -19px;color:#486c12;}\n</style>\n<script type="text/javascript">\n\nvar version = parseFloat(navigator.appVersion.split("MSIE")[1]);   \n\nfunction yulan(file,id) {\n\nvar imgurl="";\n\nif(file.value.indexOf(".jpg")<0 && file.value.indexOf(".jpeg")<0 &&   file.value.indexOf(".gif")<0 && file.value.indexOf(".png")<0 && file.value.indexOf(".JPG")<0 && file.value.indexOf(".JPEG")<0 &&   file.value.indexOf(".GIF")<0 && file.value.indexOf(".PNG")<0){\n\nalert(''您选择的不是图片文件''); \n\nreturn false;\n\n}\n\nif(navigator.userAgent.indexOf("Mozilla/5.")>-1){\n\ndocument.getElementById(id).innerHTML = "<img src=''"+file.files[0].getAsDataURL()+"'' width=30px height=30px />";\n\nCheckFileSize(file.files[0].getAsDataURL(),id);\n\nimgurl=file.files[0].getAsDataURL();\n\n}else{\n\nfile.select();\n\nvar img = document.selection.createRange().text;\n\ndocument.getElementById(id).innerHTML = "<img src=''"+img+"'' width=30px height=30px />";\n\nimgurl=img;\n\n}\n\n \n\n}\n\n \n\n</script>\n\n \n\n</head>\n\n<body style="margin:0px; padding:0px; list-style:none;font-size:12px" >\n\n<div id="bjlayer" class="layers"  >\n\n<form id="form1" method="post" action="upload.php" enctype="multipart/form-data">\n\n<h3></span>上传心里测评图画\n\n</h3>\n\n<div id="tu" class="p-d" style="height:50px;">\n\n<label>图画1：</label>\n\n<input type="file" name="imgfile[]" id="imgfile1" onchange="yulan(this,''img1'')"/>\n\n<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>\n\n<input type="hidden" name="MAX_FILE_SIZE" value="204800">\n\n<div id="img1"></div>\n\n   </div>\n\n<div id="tu" class="p-d" style="height:50px;" >\n\n<label>图画2：</label>\n\n        <input type="file" name="imgfile[]" id="imgfile2" onchange="yulan(this,''img2'')"/>\n\n<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>\n\n<input type="hidden" name="MAX_FILE_SIZE" value="204800">\n\n<div id="img2"></div>\n\n</div>\n\n<div id="tu" class="p-d" style="height:50px;" >\n\n<label>图画3：</label>\n\n<input type="file" name="imgfile[]" id="imgfile3" onchange="yulan(this,''img3'')"/>\n\n<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>\n\n<input type="hidden" name="MAX_FILE_SIZE" value="204800">\n\n<div id="img3"></div>\n\n</div>\n\n<div class="btn">\n\n<input type="text"  id="txt_userid" name="txt_userid" value="{$userid}" style="display:none"/>\n\n<input type="text"  id="txt_albumid"  name="txt_albumid"  value="{$albumid}" style="display:none"/>\n\n<input type="button" value="取消" onclick="parent.$.fancybox.close();" />\n\n<input type="submit" value="确定" />\n\n</div>\n\n</from>\n\n</div>\n\n</body>\n\n</html>\n\n \n\nupload.php文件内容\n\n<?php \n\n$uid = 3;\n\n$time = time();\n\n \n\n// 图片目录 \n\n$img_dir = "upload/"; \n\n// 把图片传到服务器 \n\n// 初始化变量 \n\n$uploaded = 0; \n\n$unuploaded = 0;\n\n \n\n$imgname = $uid.$time;\n\n \n\n//只允许五张图片上传 \n\nfor ($i=0; $i<=2; $i++) { \n\n//获取当前图片的信息 \n\n$is_file = $_FILES[''imgfile''][''name''][$i]; \n\n//如果当前图片不为空 \n\nif (!empty($is_file)) { \n\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\n\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\n\n$imgtype = $_FILES[''imgfile''][''type''][$i];\n\nif (in_array($imgtype,$imgtypearr)) {\n\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\n\n//按比例缩放图片\n\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\n\necho $is_file."缩小图片成功！<br>";\n\n}else{\n\necho $is_file."上传图片失败！<br>";\n\n}\n\n}else{\n\necho $is_file.''图片格式不对！<br>'';\n\n}  \n\n}\n\n}\n\n \n\n \n\n/**\n\n * 按比例缩小图片\n\n *\n\n * @param string $im 源文件\n\n * @param int $maxwidth 规定图片宽  330px\n\n * @param int $maxhidth 规定图片高380px\n\n * @param int $maxwidth 输出文件\n\n *\n\n * 返回文件\n\n *\n\n */\n\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\n\n{\n\n// 载入图像到php到变量中 \n\n$suffix = substr(strrchr($im,''.''),1);    //strrchr返回最后的.jpg 或者.jpeg\n\n$style = strtolower($suffix);\n\nif($style==''jpg'' || $style==''jpeg''){\n\n$originail = imagecreatefromjpeg($im);    //jpg\n\n}elseif($style==''png''){\n\n$originail = imagecreatefrompng($im);    //png\n\n}elseif($style==''gif''){\n\n$originail = imagecreatefromgif($im);   //gif\n\n}\n\n$dims = getimagesize($im);    //获取图片大小；\n\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg ) \n\n \n\n    $pic_width = $dims[''0''];\n\n    $pic_height = $dims[''1''];\n\n \n\n    if(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\n\n    {\n\n        if($maxwidth && $pic_width>$maxwidth)\n\n        {\n\n            $widthratio = $maxwidth/$pic_width;\n\n            $resizewidth_tag = true;\n\n        }\n\n \n\n        if($maxheight && $pic_height>$maxheight)\n\n        {\n\n            $heightratio = $maxheight/$pic_height;\n\n            $resizeheight_tag = true;\n\n        }\n\n \n\n        if($resizewidth_tag && $resizeheight_tag)\n\n        {\n\n            if($widthratio<$heightratio)\n\n                $ratio = $widthratio;\n\n            else\n\n                $ratio = $heightratio;\n\n        }\n\n \n\n        if($resizewidth_tag && !$resizeheight_tag)\n\n            $ratio = $widthratio;\n\n        if($resizeheight_tag && !$resizewidth_tag)\n\n            $ratio = $heightratio;\n\n \n\n        $newwidth = $pic_width * $ratio;\n\n        $newheight = $pic_height * $ratio;\n\n \n\n//创建空白图像\n\n$newim = imagecreatetruecolor($newwidth,$newheight);\n\n \n\n//重采样拷贝部分图像并调整大小\n\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\n\n \n\n        return imagejpeg($newim,$to);\n\n    }\n\n    else\n\n    {\n\n        return imagejpeg($im,$to);\n\n    }\n\n}\n\n?>', 'PHP按比例缩放图', '', 'inherit', 'open', '2011-08-08 11:17:36', 32, 'http://xpmyblog.sinaapp.com/?p=33', 0, 'revision', '', 0),
(34, 1, '2011-08-08 11:18:20', 'upload.html 文件内容\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>上传图片</title>\r\n<script type="text/javascript" src="jquery-1.4.2.min.js"></script>\r\n\r\n<style>\r\n.layers{;width:454px;height:271px;overflow:hidden;border:1px solid #73a32a;background:#fff;top:0px;left:0px;}\r\n.layers h3{height:30px;padding-left:13px;line-height:30px;overflow:hidden;padding-right:10px;background:url(/img/layerh3.png) repeat-x;font-size:14px;font-weight:400;color:#fff; font-family:''微软雅黑''}\r\n.layers h3 img{float:right;margin-top:10px;cursor:pointer;}\r\n.layers .p-n{height:30px;overflow:hidden;padding:20px 0 0 40px;}\r\n.layers .p-n label{float:left;display:block;font-family:''微软雅黑''}\r\n.layers .p-n input{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:280px;}\r\n.layers .p-n p{float:left;padding-left:5px;}\r\n.layers .p-n p span{color:#999;}\r\n.layers .p-d{ ;overflow:hidden;padding:0 0 0 40px;}\r\n.layers .p-d label{float:left;display:block; font-family:''微软雅黑''}\r\n.layers .p-d file{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:200px;}\r\n.layers .p-d textarea{float:left;width:278px;height:40px;line-height:18px;font-size:12px;padding:5px;border:1px solid #ccc;overflow-x:hidden;overflow-y:auto;}\r\n.layers .p-d p{float:left;padding-left:5px;}\r\n.layers .p-d p span{color:#999;}\r\n.layers .btn{height:30px;overflow:hidden;background:#f3f3f3;padding:7px 10px 0 10px;}\r\n.layers .btn input{width:49px;height:19px;line-height:19px;text-align:center;border:1px solid #b4c59a;cursor:pointer;background:url(../img/btn.png) repeat-x;float:right;margin-left:10px;}\r\n.layers .btn input.xj{background-position:0 -19px;color:#486c12;}\r\n</style>\r\n<script type="text/javascript">   \r\nfunction yulan(file,id) {	\r\n	var imgurl="";\r\n	if(file.value.indexOf(".jpg")<0 && file.value.indexOf(".jpeg")<0 &&   file.value.indexOf(".gif")<0 && file.value.indexOf(".png")<0 && file.value.indexOf(".JPG")<0 && file.value.indexOf(".JPEG")<0 &&   file.value.indexOf(".GIF")<0 && file.value.indexOf(".PNG")<0){\r\n		alert(''您选择的不是图片文件''); \r\n		return false;\r\n	}\r\n	if(navigator.userAgent.indexOf("Mozilla/5.")>-1){\r\n		document.getElementById(id).innerHTML = "<img src=''"+file.files[0].getAsDataURL()+"'' width=30px height=30px />";\r\n		CheckFileSize(file.files[0].getAsDataURL(),id);\r\n		imgurl=file.files[0].getAsDataURL();\r\n	}else{\r\n		file.select();\r\n		var img = document.selection.createRange().text;\r\n		document.getElementById(id).innerHTML = "<img src=''"+img+"'' width=30px height=30px />";\r\n		imgurl=img;\r\n	}\r\n\r\n}\r\n</script>\r\n\r\n</head>\r\n<body style="margin:0px; padding:0px; list-style:none;font-size:12px" >\r\n<div id="bjlayer" class="layers"  >\r\n<form id="form1" method="post" action="upload.php" enctype="multipart/form-data">\r\n		<h3></span>上传心里测评图画	\r\n		</h3>\r\n		<div id="tu" class="p-d" style="height:50px;">\r\n		<label>图画1：</label>\r\n		<input type="file" name="imgfile[]" id="imgfile1" onchange="yulan(this,''img1'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img1"></div>\r\n	    </div>\r\n		<div id="tu" class="p-d" style="height:50px;" >\r\n		<label>图画2：</label>		\r\n        <input type="file" name="imgfile[]" id="imgfile2" onchange="yulan(this,''img2'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>	\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img2"></div>\r\n		</div>\r\n		<div id="tu" class="p-d" style="height:50px;" >\r\n		<label>图画3：</label>\r\n		<input type="file" name="imgfile[]" id="imgfile3" onchange="yulan(this,''img3'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>	\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img3"></div>\r\n		</div>\r\n		<div class="btn">\r\n		<input type="text"  id="txt_userid" name="txt_userid" value="{$userid}" style="display:none"/>\r\n		<input type="text"  id="txt_albumid"  name="txt_albumid"  value="{$albumid}" style="display:none"/>\r\n		<input type="button" value="取消" onclick="parent.$.fancybox.close();" />\r\n		<input type="submit" value="确定" />\r\n		</div>\r\n</from>\r\n	</div>\r\n</body>\r\n</html>\r\n\r\n \r\nupload.php文件内容\r\n\r\n<?php \r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录 \r\n\r\n$img_dir = "upload/"; \r\n\r\n// 把图片传到服务器 \r\n\r\n// 初始化变量 \r\n\r\n$uploaded = 0; \r\n\r\n$unuploaded = 0;\r\n\r\n \r\n\r\n$imgname = $uid.$time;\r\n\r\n \r\n\r\n//只允许五张图片上传 \r\n\r\nfor ($i=0; $i<=2; $i++) { \r\n\r\n//获取当前图片的信息 \r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i]; \r\n\r\n//如果当前图片不为空 \r\n\r\nif (!empty($is_file)) { \r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！<br>";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！<br>";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！<br>'';\r\n\r\n}  \r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n \r\n\r\n/**\r\n\r\n * 按比例缩小图片\r\n\r\n *\r\n\r\n * @param string $im 源文件\r\n\r\n * @param int $maxwidth 规定图片宽  330px\r\n\r\n * @param int $maxhidth 规定图片高380px\r\n\r\n * @param int $maxwidth 输出文件\r\n\r\n *\r\n\r\n * 返回文件\r\n\r\n *\r\n\r\n */\r\n\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n\r\n{\r\n\r\n// 载入图像到php到变量中 \r\n\r\n$suffix = substr(strrchr($im,''.''),1);    //strrchr返回最后的.jpg 或者.jpeg\r\n\r\n$style = strtolower($suffix);\r\n\r\nif($style==''jpg'' || $style==''jpeg''){\r\n\r\n$originail = imagecreatefromjpeg($im);    //jpg\r\n\r\n}elseif($style==''png''){\r\n\r\n$originail = imagecreatefrompng($im);    //png\r\n\r\n}elseif($style==''gif''){\r\n\r\n$originail = imagecreatefromgif($im);   //gif\r\n\r\n}\r\n\r\n$dims = getimagesize($im);    //获取图片大小；\r\n\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg ) \r\n\r\n \r\n\r\n    $pic_width = $dims[''0''];\r\n\r\n    $pic_height = $dims[''1''];\r\n\r\n \r\n\r\n    if(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n\r\n    {\r\n\r\n        if($maxwidth && $pic_width>$maxwidth)\r\n\r\n        {\r\n\r\n            $widthratio = $maxwidth/$pic_width;\r\n\r\n            $resizewidth_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($maxheight && $pic_height>$maxheight)\r\n\r\n        {\r\n\r\n            $heightratio = $maxheight/$pic_height;\r\n\r\n            $resizeheight_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && $resizeheight_tag)\r\n\r\n        {\r\n\r\n            if($widthratio<$heightratio)\r\n\r\n                $ratio = $widthratio;\r\n\r\n            else\r\n\r\n                $ratio = $heightratio;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && !$resizeheight_tag)\r\n\r\n            $ratio = $widthratio;\r\n\r\n        if($resizeheight_tag && !$resizewidth_tag)\r\n\r\n            $ratio = $heightratio;\r\n\r\n \r\n\r\n        $newwidth = $pic_width * $ratio;\r\n\r\n        $newheight = $pic_height * $ratio;\r\n\r\n \r\n\r\n//创建空白图像\r\n\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n \r\n\r\n//重采样拷贝部分图像并调整大小\r\n\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n\r\n \r\n\r\n        return imagejpeg($newim,$to);\r\n\r\n    }\r\n\r\n    else\r\n\r\n    {\r\n\r\n        return imagejpeg($im,$to);\r\n\r\n    }\r\n\r\n}\r\n\r\n?>', 'PHP按比例缩放图', '', 'inherit', 'open', '2011-08-08 11:18:20', 32, 'http://xpmyblog.sinaapp.com/?p=34', 0, 'revision', '', 0),
(35, 1, '2012-12-03 18:49:41', 'upload.php文件内容\n\n<pre>\n<?php\n\n$uid = 3;\n\n$time = time();\n\n// 图片目录\n\n$img_dir = "upload/";\n\n// 把图片传到服务器\n\n// 初始化变量\n\n$uploaded = 0;\n\n$unuploaded = 0;\n\n$imgname = $uid.$time;\n\n//只允许三张图片上传\n\nfor ($i=0; $i<=2; $i++) {\n\n//获取当前图片的信息\n\n$is_file = $_FILES[''imgfile''][''name''][$i];\n\n//如果当前图片不为空\n\nif (!empty($is_file)) {\n\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\n\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\n\n$imgtype = $_FILES[''imgfile''][''type''][$i];\n\nif (in_array($imgtype,$imgtypearr)) {\n\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\n\n//按比例缩放图片\n\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\n\necho $is_file."缩小图片成功！\n";\n\n}else{\n\necho $is_file."上传图片失败！";\n\n}\n\n}else{\n\necho $is_file.''图片格式不对！'';\n\n}\n\n}\n\n}\n\n/**\n* 按比例缩小图片\n*\n* @param string $im 源文件\n* @param int $maxwidth 规定图片宽 324px\n* @param int $maxhidth 规定图片高 343px\n* @param int $maxwidth 输出文件\n*\n* 返回文件\n*\n*/\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\n{\n// 载入图像到php到变量中\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\n$style = strtolower($suffix);\nif($style==''jpg'' || $style==''jpeg''){\n$originail = imagecreatefromjpeg($im); //jpg\n}elseif($style==''png''){\n$originail = imagecreatefrompng($im); //png\n}elseif($style==''gif''){\n$originail = imagecreatefromgif($im); //gif\n}\n$dims = getimagesize($im); //获取图片大小；\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg )\n\n$pic_width = $dims[''0''];\n$pic_height = $dims[''1''];\n\nif(($maxwidth &amp;&amp; $pic_width &gt; $maxwidth) || ($maxheight &amp;&amp; $pic_height &gt; $maxheight))\n{\n$resizewidth_tag = false;\n$resizeheight_tag = false;\n\nif($maxwidth &amp;&amp; $pic_width&gt;$maxwidth)\n{\n$widthratio = $maxwidth/$pic_width;\n$resizewidth_tag = true;\n}\n\nif($maxheight &amp;&amp; $pic_height&gt;$maxheight)\n{\n$heightratio = $maxheight/$pic_height;\n$resizeheight_tag = true;\n}\n\nif($resizewidth_tag &amp;&amp; $resizeheight_tag)\n{\nif($widthratio&lt;$heightratio)\n$ratio = $widthratio;\nelse\n$ratio = $heightratio;\n}\n\nif($resizewidth_tag &amp;&amp; !$resizeheight_tag)\n$ratio = $widthratio;\nif($resizeheight_tag &amp;&amp; !$resizewidth_tag)\n$ratio = $heightratio;\n\n$newwidth = $pic_width * $ratio;\n$newheight = $pic_height * $ratio;\n\n//创建空白图像\n$newim = imagecreatetruecolor($newwidth,$newheight);\n\n//重采样拷贝部分图像并调整大小\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\n}\nelse\n{\n//创建空白图像\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\n//重采样拷贝部分图像并调整大小\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\n}\nreturn imagejpeg($newim,$to);\n\n}\n?>\n</pre>', 'PHP按比例缩放图', '', 'inherit', 'open', '2012-12-03 18:49:41', 32, 'http://xpmyblog.sinaapp.com/?p=35', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(36, 1, '2011-08-08 11:20:02', 'upload.html 文件内容\r\n<code><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>上传图片</title>\r\n<script type="text/javascript" src="jquery-1.4.2.min.js"></script>\r\n\r\n<style>\r\n.layers{;width:454px;height:271px;overflow:hidden;border:1px solid #73a32a;background:#fff;top:0px;left:0px;}\r\n.layers h3{height:30px;padding-left:13px;line-height:30px;overflow:hidden;padding-right:10px;background:url(/img/layerh3.png) repeat-x;font-size:14px;font-weight:400;color:#fff; font-family:''微软雅黑''}\r\n.layers h3 img{float:right;margin-top:10px;cursor:pointer;}\r\n.layers .p-n{height:30px;overflow:hidden;padding:20px 0 0 40px;}\r\n.layers .p-n label{float:left;display:block;font-family:''微软雅黑''}\r\n.layers .p-n input{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:280px;}\r\n.layers .p-n p{float:left;padding-left:5px;}\r\n.layers .p-n p span{color:#999;}\r\n.layers .p-d{ ;overflow:hidden;padding:0 0 0 40px;}\r\n.layers .p-d label{float:left;display:block; font-family:''微软雅黑''}\r\n.layers .p-d file{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:200px;}\r\n.layers .p-d textarea{float:left;width:278px;height:40px;line-height:18px;font-size:12px;padding:5px;border:1px solid #ccc;overflow-x:hidden;overflow-y:auto;}\r\n.layers .p-d p{float:left;padding-left:5px;}\r\n.layers .p-d p span{color:#999;}\r\n.layers .btn{height:30px;overflow:hidden;background:#f3f3f3;padding:7px 10px 0 10px;}\r\n.layers .btn input{width:49px;height:19px;line-height:19px;text-align:center;border:1px solid #b4c59a;cursor:pointer;background:url(../img/btn.png) repeat-x;float:right;margin-left:10px;}\r\n.layers .btn input.xj{background-position:0 -19px;color:#486c12;}\r\n</style>\r\n<script type="text/javascript">   \r\nfunction yulan(file,id) {	\r\n	var imgurl="";\r\n	if(file.value.indexOf(".jpg")<0 && file.value.indexOf(".jpeg")<0 &&   file.value.indexOf(".gif")<0 && file.value.indexOf(".png")<0 && file.value.indexOf(".JPG")<0 && file.value.indexOf(".JPEG")<0 &&   file.value.indexOf(".GIF")<0 && file.value.indexOf(".PNG")<0){\r\n		alert(''您选择的不是图片文件''); \r\n		return false;\r\n	}\r\n	if(navigator.userAgent.indexOf("Mozilla/5.")>-1){\r\n		document.getElementById(id).innerHTML = "<img src=''"+file.files[0].getAsDataURL()+"'' width=30px height=30px />";\r\n		CheckFileSize(file.files[0].getAsDataURL(),id);\r\n		imgurl=file.files[0].getAsDataURL();\r\n	}else{\r\n		file.select();\r\n		var img = document.selection.createRange().text;\r\n		document.getElementById(id).innerHTML = "<img src=''"+img+"'' width=30px height=30px />";\r\n		imgurl=img;\r\n	}\r\n\r\n}\r\n</script>\r\n\r\n</head>\r\n<body style="margin:0px; padding:0px; list-style:none;font-size:12px" >\r\n<div id="bjlayer" class="layers"  >\r\n<form id="form1" method="post" action="upload.php" enctype="multipart/form-data">\r\n		<h3></span>上传心里测评图画	\r\n		</h3>\r\n		<div id="tu" class="p-d" style="height:50px;">\r\n		<label>图画1：</label>\r\n		<input type="file" name="imgfile[]" id="imgfile1" onchange="yulan(this,''img1'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img1"></div>\r\n	    </div>\r\n		<div id="tu" class="p-d" style="height:50px;" >\r\n		<label>图画2：</label>		\r\n        <input type="file" name="imgfile[]" id="imgfile2" onchange="yulan(this,''img2'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>	\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img2"></div>\r\n		</div>\r\n		<div id="tu" class="p-d" style="height:50px;" >\r\n		<label>图画3：</label>\r\n		<input type="file" name="imgfile[]" id="imgfile3" onchange="yulan(this,''img3'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>	\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img3"></div>\r\n		</div>\r\n		<div class="btn">\r\n		<input type="text"  id="txt_userid" name="txt_userid" value="{$userid}" style="display:none"/>\r\n		<input type="text"  id="txt_albumid"  name="txt_albumid"  value="{$albumid}" style="display:none"/>\r\n		<input type="button" value="取消" onclick="parent.$.fancybox.close();" />\r\n		<input type="submit" value="确定" />\r\n		</div>\r\n</from>\r\n	</div>\r\n</body>\r\n</html></code>\r\n\r\n \r\nupload.php文件内容\r\n\r\n<?php \r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录 \r\n\r\n$img_dir = "upload/"; \r\n\r\n// 把图片传到服务器 \r\n\r\n// 初始化变量 \r\n\r\n$uploaded = 0; \r\n\r\n$unuploaded = 0;\r\n\r\n \r\n\r\n$imgname = $uid.$time;\r\n\r\n \r\n\r\n//只允许五张图片上传 \r\n\r\nfor ($i=0; $i<=2; $i++) { \r\n\r\n//获取当前图片的信息 \r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i]; \r\n\r\n//如果当前图片不为空 \r\n\r\nif (!empty($is_file)) { \r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！<br>";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！<br>";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！<br>'';\r\n\r\n}  \r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n \r\n\r\n/**\r\n\r\n * 按比例缩小图片\r\n\r\n *\r\n\r\n * @param string $im 源文件\r\n\r\n * @param int $maxwidth 规定图片宽  330px\r\n\r\n * @param int $maxhidth 规定图片高380px\r\n\r\n * @param int $maxwidth 输出文件\r\n\r\n *\r\n\r\n * 返回文件\r\n\r\n *\r\n\r\n */\r\n\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n\r\n{\r\n\r\n// 载入图像到php到变量中 \r\n\r\n$suffix = substr(strrchr($im,''.''),1);    //strrchr返回最后的.jpg 或者.jpeg\r\n\r\n$style = strtolower($suffix);\r\n\r\nif($style==''jpg'' || $style==''jpeg''){\r\n\r\n$originail = imagecreatefromjpeg($im);    //jpg\r\n\r\n}elseif($style==''png''){\r\n\r\n$originail = imagecreatefrompng($im);    //png\r\n\r\n}elseif($style==''gif''){\r\n\r\n$originail = imagecreatefromgif($im);   //gif\r\n\r\n}\r\n\r\n$dims = getimagesize($im);    //获取图片大小；\r\n\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg ) \r\n\r\n \r\n\r\n    $pic_width = $dims[''0''];\r\n\r\n    $pic_height = $dims[''1''];\r\n\r\n \r\n\r\n    if(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n\r\n    {\r\n\r\n        if($maxwidth && $pic_width>$maxwidth)\r\n\r\n        {\r\n\r\n            $widthratio = $maxwidth/$pic_width;\r\n\r\n            $resizewidth_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($maxheight && $pic_height>$maxheight)\r\n\r\n        {\r\n\r\n            $heightratio = $maxheight/$pic_height;\r\n\r\n            $resizeheight_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && $resizeheight_tag)\r\n\r\n        {\r\n\r\n            if($widthratio<$heightratio)\r\n\r\n                $ratio = $widthratio;\r\n\r\n            else\r\n\r\n                $ratio = $heightratio;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && !$resizeheight_tag)\r\n\r\n            $ratio = $widthratio;\r\n\r\n        if($resizeheight_tag && !$resizewidth_tag)\r\n\r\n            $ratio = $heightratio;\r\n\r\n \r\n\r\n        $newwidth = $pic_width * $ratio;\r\n\r\n        $newheight = $pic_height * $ratio;\r\n\r\n \r\n\r\n//创建空白图像\r\n\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n \r\n\r\n//重采样拷贝部分图像并调整大小\r\n\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n\r\n \r\n\r\n        return imagejpeg($newim,$to);\r\n\r\n    }\r\n\r\n    else\r\n\r\n    {\r\n\r\n        return imagejpeg($im,$to);\r\n\r\n    }\r\n\r\n}\r\n\r\n?>', 'PHP按比例缩放图', '', 'inherit', 'open', '2011-08-08 11:20:02', 32, 'http://xpmyblog.sinaapp.com/?p=36', 0, 'revision', '', 0),
(37, 1, '2011-08-08 11:22:26', 'upload.html 文件内容\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>上传图片</title>\r\n<script type="text/javascript" src="jquery-1.4.2.min.js"></script>\r\n\r\n<style>\r\n.layers{;width:454px;height:271px;overflow:hidden;border:1px solid #73a32a;background:#fff;top:0px;left:0px;}\r\n.layers h3{height:30px;padding-left:13px;line-height:30px;overflow:hidden;padding-right:10px;background:url(/img/layerh3.png) repeat-x;font-size:14px;font-weight:400;color:#fff; font-family:''微软雅黑''}\r\n.layers h3 img{float:right;margin-top:10px;cursor:pointer;}\r\n.layers .p-n{height:30px;overflow:hidden;padding:20px 0 0 40px;}\r\n.layers .p-n label{float:left;display:block;font-family:''微软雅黑''}\r\n.layers .p-n input{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:280px;}\r\n.layers .p-n p{float:left;padding-left:5px;}\r\n.layers .p-n p span{color:#999;}\r\n.layers .p-d{ ;overflow:hidden;padding:0 0 0 40px;}\r\n.layers .p-d label{float:left;display:block; font-family:''微软雅黑''}\r\n.layers .p-d file{float:left;font-size:12px;padding:4px;height:14px;border:1px solid #ccc;width:200px;}\r\n.layers .p-d textarea{float:left;width:278px;height:40px;line-height:18px;font-size:12px;padding:5px;border:1px solid #ccc;overflow-x:hidden;overflow-y:auto;}\r\n.layers .p-d p{float:left;padding-left:5px;}\r\n.layers .p-d p span{color:#999;}\r\n.layers .btn{height:30px;overflow:hidden;background:#f3f3f3;padding:7px 10px 0 10px;}\r\n.layers .btn input{width:49px;height:19px;line-height:19px;text-align:center;border:1px solid #b4c59a;cursor:pointer;background:url(../img/btn.png) repeat-x;float:right;margin-left:10px;}\r\n.layers .btn input.xj{background-position:0 -19px;color:#486c12;}\r\n</style>\r\n<script type="text/javascript">   \r\nfunction yulan(file,id) {	\r\n	var imgurl="";\r\n	if(file.value.indexOf(".jpg")<0 && file.value.indexOf(".jpeg")<0 &&   file.value.indexOf(".gif")<0 && file.value.indexOf(".png")<0 && file.value.indexOf(".JPG")<0 && file.value.indexOf(".JPEG")<0 &&   file.value.indexOf(".GIF")<0 && file.value.indexOf(".PNG")<0){\r\n		alert(''您选择的不是图片文件''); \r\n		return false;\r\n	}\r\n	if(navigator.userAgent.indexOf("Mozilla/5.")>-1){\r\n		document.getElementById(id).innerHTML = "<img src=''"+file.files[0].getAsDataURL()+"'' width=30px height=30px />";\r\n		CheckFileSize(file.files[0].getAsDataURL(),id);\r\n		imgurl=file.files[0].getAsDataURL();\r\n	}else{\r\n		file.select();\r\n		var img = document.selection.createRange().text;\r\n		document.getElementById(id).innerHTML = "<img src=''"+img+"'' width=30px height=30px />";\r\n		imgurl=img;\r\n	}\r\n\r\n}\r\n</script>\r\n\r\n</head>\r\n<body style="margin:0px; padding:0px; list-style:none;font-size:12px" >\r\n<div id="bjlayer" class="layers"  >\r\n<form id="form1" method="post" action="upload.php" enctype="multipart/form-data">\r\n		<h3></span>上传心里测评图画	\r\n		</h3>\r\n		<div id="tu" class="p-d" style="height:50px;">\r\n		<label>图画1：</label>\r\n		<input type="file" name="imgfile[]" id="imgfile1" onchange="yulan(this,''img1'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img1"></div>\r\n	    </div>\r\n		<div id="tu" class="p-d" style="height:50px;" >\r\n		<label>图画2：</label>		\r\n        <input type="file" name="imgfile[]" id="imgfile2" onchange="yulan(this,''img2'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>	\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img2"></div>\r\n		</div>\r\n		<div id="tu" class="p-d" style="height:50px;" >\r\n		<label>图画3：</label>\r\n		<input type="file" name="imgfile[]" id="imgfile3" onchange="yulan(this,''img3'')"/>\r\n		<p style="float:right; margin-right:40px; color:#FF6600" >上传图片不得大于2M</p>	\r\n		<input type="hidden" name="MAX_FILE_SIZE" value="204800">\r\n		<div id="img3"></div>\r\n		</div>\r\n		<div class="btn">\r\n		<input type="submit" value="确定" />\r\n		</div>\r\n</from>\r\n	</div>\r\n</body>\r\n</html>\r\n \r\nupload.php文件内容\r\n\r\n<?php \r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录 \r\n\r\n$img_dir = "upload/"; \r\n\r\n// 把图片传到服务器 \r\n\r\n// 初始化变量 \r\n\r\n$uploaded = 0; \r\n\r\n$unuploaded = 0;\r\n\r\n \r\n\r\n$imgname = $uid.$time;\r\n\r\n \r\n\r\n//只允许五张图片上传 \r\n\r\nfor ($i=0; $i<=2; $i++) { \r\n\r\n//获取当前图片的信息 \r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i]; \r\n\r\n//如果当前图片不为空 \r\n\r\nif (!empty($is_file)) { \r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！<br>";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！<br>";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！<br>'';\r\n\r\n}  \r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n \r\n\r\n/**\r\n\r\n * 按比例缩小图片\r\n\r\n *\r\n\r\n * @param string $im 源文件\r\n\r\n * @param int $maxwidth 规定图片宽  330px\r\n\r\n * @param int $maxhidth 规定图片高380px\r\n\r\n * @param int $maxwidth 输出文件\r\n\r\n *\r\n\r\n * 返回文件\r\n\r\n *\r\n\r\n */\r\n\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n\r\n{\r\n\r\n// 载入图像到php到变量中 \r\n\r\n$suffix = substr(strrchr($im,''.''),1);    //strrchr返回最后的.jpg 或者.jpeg\r\n\r\n$style = strtolower($suffix);\r\n\r\nif($style==''jpg'' || $style==''jpeg''){\r\n\r\n$originail = imagecreatefromjpeg($im);    //jpg\r\n\r\n}elseif($style==''png''){\r\n\r\n$originail = imagecreatefrompng($im);    //png\r\n\r\n}elseif($style==''gif''){\r\n\r\n$originail = imagecreatefromgif($im);   //gif\r\n\r\n}\r\n\r\n$dims = getimagesize($im);    //获取图片大小；\r\n\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg ) \r\n\r\n \r\n\r\n    $pic_width = $dims[''0''];\r\n\r\n    $pic_height = $dims[''1''];\r\n\r\n \r\n\r\n    if(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n\r\n    {\r\n\r\n        if($maxwidth && $pic_width>$maxwidth)\r\n\r\n        {\r\n\r\n            $widthratio = $maxwidth/$pic_width;\r\n\r\n            $resizewidth_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($maxheight && $pic_height>$maxheight)\r\n\r\n        {\r\n\r\n            $heightratio = $maxheight/$pic_height;\r\n\r\n            $resizeheight_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && $resizeheight_tag)\r\n\r\n        {\r\n\r\n            if($widthratio<$heightratio)\r\n\r\n                $ratio = $widthratio;\r\n\r\n            else\r\n\r\n                $ratio = $heightratio;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && !$resizeheight_tag)\r\n\r\n            $ratio = $widthratio;\r\n\r\n        if($resizeheight_tag && !$resizewidth_tag)\r\n\r\n            $ratio = $heightratio;\r\n\r\n \r\n\r\n        $newwidth = $pic_width * $ratio;\r\n\r\n        $newheight = $pic_height * $ratio;\r\n\r\n \r\n\r\n//创建空白图像\r\n\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n \r\n\r\n//重采样拷贝部分图像并调整大小\r\n\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n\r\n \r\n\r\n        return imagejpeg($newim,$to);\r\n\r\n    }\r\n\r\n    else\r\n\r\n    {\r\n\r\n        return imagejpeg($im,$to);\r\n\r\n    }\r\n\r\n}\r\n\r\n?>', 'PHP按比例缩放图', '', 'inherit', 'open', '2011-08-08 11:22:26', 32, 'http://xpmyblog.sinaapp.com/?p=37', 0, 'revision', '', 0),
(39, 1, '2011-08-08 11:24:07', 'upload.php文件内容\r\n\r\n<?php \r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录 \r\n\r\n$img_dir = "upload/"; \r\n\r\n// 把图片传到服务器 \r\n\r\n// 初始化变量 \r\n\r\n$uploaded = 0; \r\n\r\n$unuploaded = 0;\r\n\r\n \r\n\r\n$imgname = $uid.$time;\r\n\r\n \r\n\r\n//只允许三张图片上传 \r\n\r\nfor ($i=0; $i<=2; $i++) { \r\n\r\n//获取当前图片的信息 \r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i]; \r\n\r\n//如果当前图片不为空 \r\n\r\nif (!empty($is_file)) { \r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！<br>";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！<br>";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！<br>'';\r\n\r\n}  \r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n \r\n\r\n/**\r\n\r\n * 按比例缩小图片\r\n\r\n *\r\n\r\n * @param string $im 源文件\r\n\r\n * @param int $maxwidth 规定图片宽  330px\r\n\r\n * @param int $maxhidth 规定图片高380px\r\n\r\n * @param int $maxwidth 输出文件\r\n\r\n *\r\n\r\n * 返回文件\r\n\r\n *\r\n\r\n */\r\n\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n\r\n{\r\n\r\n// 载入图像到php到变量中 \r\n\r\n$suffix = substr(strrchr($im,''.''),1);    //strrchr返回最后的.jpg 或者.jpeg\r\n\r\n$style = strtolower($suffix);\r\n\r\nif($style==''jpg'' || $style==''jpeg''){\r\n\r\n$originail = imagecreatefromjpeg($im);    //jpg\r\n\r\n}elseif($style==''png''){\r\n\r\n$originail = imagecreatefrompng($im);    //png\r\n\r\n}elseif($style==''gif''){\r\n\r\n$originail = imagecreatefromgif($im);   //gif\r\n\r\n}\r\n\r\n$dims = getimagesize($im);    //获取图片大小；\r\n\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg ) \r\n\r\n \r\n\r\n    $pic_width = $dims[''0''];\r\n\r\n    $pic_height = $dims[''1''];\r\n\r\n \r\n\r\n    if(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n\r\n    {\r\n\r\n        if($maxwidth && $pic_width>$maxwidth)\r\n\r\n        {\r\n\r\n            $widthratio = $maxwidth/$pic_width;\r\n\r\n            $resizewidth_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($maxheight && $pic_height>$maxheight)\r\n\r\n        {\r\n\r\n            $heightratio = $maxheight/$pic_height;\r\n\r\n            $resizeheight_tag = true;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && $resizeheight_tag)\r\n\r\n        {\r\n\r\n            if($widthratio<$heightratio)\r\n\r\n                $ratio = $widthratio;\r\n\r\n            else\r\n\r\n                $ratio = $heightratio;\r\n\r\n        }\r\n\r\n \r\n\r\n        if($resizewidth_tag && !$resizeheight_tag)\r\n\r\n            $ratio = $widthratio;\r\n\r\n        if($resizeheight_tag && !$resizewidth_tag)\r\n\r\n            $ratio = $heightratio;\r\n\r\n \r\n\r\n        $newwidth = $pic_width * $ratio;\r\n\r\n        $newheight = $pic_height * $ratio;\r\n\r\n \r\n\r\n//创建空白图像\r\n\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n \r\n\r\n//重采样拷贝部分图像并调整大小\r\n\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n\r\n \r\n\r\n        return imagejpeg($newim,$to);\r\n\r\n    }\r\n\r\n    else\r\n\r\n    {\r\n\r\n        return imagejpeg($im,$to);\r\n\r\n    }\r\n\r\n}\r\n\r\n?>', 'PHP按比例缩放图', '', 'inherit', 'open', '2011-08-08 11:24:07', 32, 'http://xpmyblog.sinaapp.com/?p=39', 0, 'revision', '', 0),
(42, 1, '2011-08-13 15:44:50', '    在Java语言中， abstract class 和interface 是支持抽象类定义的两种机制。正是由于这两种机制的存在，才赋予了Java强大的 面向对象能力。abstract class和interface之间在对于抽象类定义的支持方面具有很大的相似性，甚至可以相互替换，因此很多开发者在进 行抽象类定义时对于abstract class和interface的选择显得比较随意。其实，两者之间还是有很大的区别的，对于它们的选择甚至反映出对 于问题领域本质的理解、对于设计意图的理解是否正确、合理。本文将对它们之间的区别进行一番剖析，试图给开发者提供一个在二者之间进行选择的依据。\r\n\r\n　　理解抽象类\r\n\r\n　　abstract class和interface在Java语言中都是用来进行抽象类（本文 中的抽象类并非从abstract class翻译而来，它表示的是一个抽象体，而abstract class为Java语言中用于定义抽象类的一种方法， 请读者注意区分）定义的，那么什么是抽象类，使用抽象类能为我们带来什么好处呢？\r\n\r\n　　在 面向对象的概念中，我们知道所有的对象都是通过类来描绘的，但是反过来却不是这样。并不是 所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。抽象类往往用来表征我们在对问题领域进行分析、 设计中得出的抽象概念，是对一系列看上去不同，但是本质上相同的具体概念的抽象。比如：如果我们进行一个图形编辑软件的开发，就会发现问题领域存在着圆、 三角形这样一些具体概念，它们是不同的，但是它们又都属于形状这样一个概念，形状这个概念在问题领域是不存在的，它就是一个抽象概念。正是因为抽象的概念 在问题领域没有对应的具体概念，所以用以表征抽象概念的抽象类是不能够实例化的。\r\n\r\n　　在面向对象领域，抽象类主要用来进行类型隐藏。 我们可以构造出一个固定的一组行为的抽象描 述，但是这组行为却能够有任意个可能的具体实现方式。这个抽象描述就是抽象类，而这一组任意个可能的具体实现则表现为所有可能的派生类。模块可以操作一个 抽象体。由于模块依赖于一个固定的抽象体，因此它可以是不允许修改的；同时，通过从这个抽象体派生，也可扩展此模块的行为功能。熟悉OCP的读者一定知 道，为了能够实现面向对象设计的一个最核心的原则OCP(Open-Closed Principle)，抽象类是其中的关键所在。\r\n\r\n　　从语法定义层面看abstract class 和 interface\r\n\r\n　　在语法层面，Java语言对于abstract class和interface给出了不同的定义方式，下面以定义一个名为Demo的抽象类为例来说明这种不同。\r\n\r\n　　使用abstract class的方式定义Demo抽象类的方式如下：\r\n\r\nabstract class Demo｛   \r\nabstract void method1();   \r\nabstract void method2();   \r\n…   \r\n｝   \r\n \r\n\r\n    使用interface的方式定义Demo抽象类的方式如下：\r\n\r\n\r\ninterface Demo{   \r\nvoid method1();   \r\nvoid method2();   \r\n…   \r\n}   \r\n \r\n\r\n    在abstract class方式中，Demo可以有自己的数据成员，也可以有非 abstract的成员方法，而在interface方式的实现中，Demo只能够有静态的不能被修改的数据成员（也就是必须是static final 的，不过在interface中一般不定义数据成员），所有的成员方法都是abstract的。从某种意义上说，interface是一种特殊形式的 abstract class。\r\n\r\n　　从编程的角度来看，abstract class和interface都可以用来实现 "design by contract" 的思想。但是在具体的使用上面还是有一些区别的。\r\n\r\n　　首先，abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系(因为Java不支持多继承 -- 转注)。但是，一个类却可以实现多个interface。也许，这是Java语言的设计者在考虑Java对于多重继承的支持方面的一种折中考虑吧。\r\n\r\n　　其次，在abstract class的定义中，我们可以赋予方法的默认行为。但是在interface的定义中，方法却不能拥有默认行为，为了绕过这个限制，必须使用委托，但是这会增加一些复杂性，有时会造成很大的麻烦。\r\n\r\n　　在 抽象类中不能定义默认行为还存在另一个比较严重的问题，那就是可能会造成维护上的麻烦。因 为如果后来想修改类的界面（一般通过 abstract class 或者interface来表示）以适应新的情况（比如，添加新的方法或者给已用的方法中添 加新的参数）时，就会非常的麻烦，可能要花费很多的时间（对于派生类很多的情况，尤为如此）。但是如果界面是通过abstract class来实现的，那 么可能就只需要修改定义在abstract class中的默认行为就可以了。\r\n\r\n　　同样，如果不能在抽象类中定义默认行为，就会导致同样的方法实现出现在该抽象类的每一个派生类中，违反了 "one rule，one place" 原则，造成代码重复，同样不利于以后的维护。因此，在abstract class和interface间进行选择时要非常的小心。\r\n\r\n　　从设计理念层面看 abstract class 和 interface\r\n\r\n　　上面主要从语法定义和编程的角度论述了abstract class和interface的区 别，这些层面的区别是比较低层次的、非本质的。本小节将从另一个层面：abstract class和interface所反映出的设计理念，来分析一下二者的区别。作者认为，从这个层面进行分析才能理解二者概念的本质所在。\r\n\r\n　　前面已经提到过，abstract class在Java语言中体现了一种继承关系，要想使得继承关系合理，父类和派生类之间必须存在"is-a"关系，即父类和派生类在概念本质上应该是相同的。对于interface来说则不然，并不要求interface的实现者和interface定义在概念本质上是一致的， 仅仅是实现了interface定义的契约而已。为了使论述便于理解，下面将通过一个简单的实例进行说明。\r\n\r\n　　考虑这样一个例子，假设在我们的问题领域中有一个关于Door的抽象概念，该Door具有执行两个动作open和close，此时我们可以通过abstract class或者interface来定义一个表示该抽象概念的类型，定义方式分别如下所示：\r\n\r\n　　使用abstract class方式定义Door：\r\n\r\n\r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\n}   \r\n \r\n\r\n    使用interface方式定义Door：\r\n\r\n  \r\ninterface Door{   \r\nvoid open();   \r\nvoid close();   \r\n}    \r\n \r\n\r\n    其他具体的Door类型可以extends使用abstract class方式定义的Door或者implements使用interface方式定义的Door。看起来好像使用abstract class和interface没有大的区别。\r\n\r\n　　如果现在要求Door还要具有报警的功能。我们该如何设计针对该例子的类结构呢（在本例中， 主要是为了展示 abstract class 和interface 反映在设计理念上的区别，其他方面无关的问题都做了简化或者忽略）？下面将罗列出可能的解 决方案，并从设计理念层面对这些不同的方案进行分析。\r\n\r\n　　解决方案一：\r\n\r\n　　简单的在Door的定义中增加一个alarm方法，如下：\r\n\r\n\r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\nabstract void alarm();   \r\n}   \r\n \r\n\r\n　或者\r\n\r\n\r\ninterface Door{   \r\nvoid open();   \r\nvoid close();   \r\nvoid alarm();   \r\n}   \r\n\r\n \r\n\r\n\r\n　　那么具有报警功能的AlarmDoor的定义方式如下：\r\n\r\n\r\nclass AlarmDoor extends Door{   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n}   \r\n \r\n\r\n\r\n　　或者\r\n\r\n\r\nclass AlarmDoor implements Door｛   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n｝   \r\n \r\n\r\n    这种方法违反了面向对象设计中的一个核心原则 ISP (Interface Segregation Principle)，在Door的定义中把Door概念本身固有的行为方法和另外一个概念"报警器"的行为方 法混在了一起。这样引起的一个问题是那些仅仅依赖于Door这个概念的模块会因为"报警器"这个概念的改变（比如：修改alarm方法的参数）而改变，反 之依然。\r\n\r\n　　解决方案二：\r\n\r\n　　既然open、close和alarm属于两个不同的概念，根据ISP原则应该把它们分别定 义在代表这两个概念的抽象类中。定义方式有：这两个概念都使用 abstract class 方式定义；两个概念都使用interface方式定义；一个概念 使用 abstract class 方式定义，另一个概念使用interface方式定义。\r\n\r\n　　显然，由于Java语言不支持多重继承，所以两个概念都使用abstract class方式定义是不可行的。后面两种方式都是可行的，但是对于它们的选择却反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理。我们一一来分析、说明。\r\n\r\n　　如果两个概念都使用interface方式来定义，那么就反映出两个问题：1、我们可能没有 理解清楚问题领域，AlarmDoor在概念本质上到底是Door还是报警器？2、如果我们对于问题领域的理解没有问题，比如：我们通过对于问题领域的分 析发现AlarmDoor在概念本质上和Door是一致的，那么我们在实现时就没有能够正确的揭示我们的设计意图，因为在这两个概念的定义上（均使用 interface方式定义）反映不出上述含义。\r\n\r\n　　如果我们对于问题领域的理解是：AlarmDoor在概念本质上是Door，同时它有具有报 警的功能。我们该如何来设计、实现来明确的反映出我们的意思呢？前面已经说过，abstract class在Java语言中表示一种继承关系，而继承关系 在本质上是"is-a"关系。所以对于Door这个概念，我们应该使用abstarct class方式来定义。另外，AlarmDoor又具有报警功能，说 明它又能够完成报警概念中定义的行为，所以报警概念可以通过interface方式定义。如下所示：\r\n\r\n  \r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\n}   \r\ninterface Alarm{   \r\nvoid alarm();   \r\n}   \r\nclass AlarmDoor extends Door implements Alarm{   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n}    \r\n \r\n\r\n    这种实现方式基本上能够明确的反映出我们对于问题领域的理解，正确的揭示我们的设计意图。其 实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系，大家在选择时可以作为一个依据，当然这是建立在对问题领域的理解上的，比如：如果我们认为AlarmDoor在概念本质上是报警器，同时又具有Door的功能，那么上述的定义方式就要反过来了。\r\n\r\n　　小结\r\n\r\n　　  1.abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系。但是，一个类却可以实现多个interface。\r\n\r\n　  　2.在abstract class 中可以有自己的数据成员，也可以有非abstarct的成员方法，而在interface中，只能够有静态的不能被修改的数据成员（也就是必须是static final的，不过在 interface中一般不定义数据成员），所有的成员方法都是abstract的。\r\n\r\n　　  3.abstract class和interface所反映出的设计理念不同。其实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系。\r\n\r\n　　  4.实现抽象类和接口的类必须实现其中的所有方法。抽象类中可以有非抽象方法。接口中则不能有实现方法。\r\n\r\n　  　5.接口中定义的变量默认是public static final 型，且必须给其初值，所以实现类中不能重新定义，也不能改变其值。\r\n\r\n　  　6.抽象类中的变量默认是 friendly 型，其值可以在子类中重新定义，也可以重新赋值。\r\n\r\n　　  7.接口中的方法默认都是 public,abstract 类型的。\r\n\r\n　 结论\r\n\r\n　　abstract class 和 interface 是 Java语言中的两种定义抽象类的方式，它们之间有很大的相似性。但是对于它们的选择却又往往反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理，因为它们表现了概念间的不同的关系（虽然都能够实现需求的功能）。这其实也是语言的一种的惯用法，希望读者朋友能够细细体会。', '详解java中的抽象类和接口的区别', '', 'publish', 'open', '2012-12-21 16:18:34', 0, 'http://xpmyblog.sinaapp.com/?p=42', 0, 'post', '', 0),
(43, 1, '2011-08-13 15:44:05', '    在Java语言中， abstract class 和interface 是支持抽象类定义的两种机制。正是由于这两种机制的存在，才赋予了Java强大的 面向对象能力。abstract class和interface之间在对于抽象类定义的支持方面具有很大的相似性，甚至可以相互替换，因此很多开发者在进 行抽象类定义时对于abstract class和interface的选择显得比较随意。其实，两者之间还是有很大的区别的，对于它们的选择甚至反映出对 于问题领域本质的理解、对于设计意图的理解是否正确、合理。本文将对它们之间的区别进行一番剖析，试图给开发者提供一个在二者之间进行选择的依据。\n\n　　理解抽象类\n\n　　abstract class和interface在Java语言中都是用来进行抽象类（本文 中的抽象类并非从abstract class翻译而来，它表示的是一个抽象体，而abstract class为Java语言中用于定义抽象类的一种方法， 请读者注意区分）定义的，那么什么是抽象类，使用抽象类能为我们带来什么好处呢？\n\n　　在 面向对象的概念中，我们知道所有的对象都是通过类来描绘的，但是反过来却不是这样。并不是 所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。抽象类往往用来表征我们在对问题领域进行分析、 设计中得出的抽象概念，是对一系列看上去不同，但是本质上相同的具体概念的抽象。比如：如果我们进行一个图形编辑软件的开发，就会发现问题领域存在着圆、 三角形这样一些具体概念，它们是不同的，但是它们又都属于形状这样一个概念，形状这个概念在问题领域是不存在的，它就是一个抽象概念。正是因为抽象的概念 在问题领域没有对应的具体概念，所以用以表征抽象概念的抽象类是不能够实例化的。\n\n　　在面向对象领域，抽象类主要用来进行类型隐藏。 我们可以构造出一个固定的一组行为的抽象描 述，但是这组行为却能够有任意个可能的具体实现方式。这个抽象描述就是抽象类，而这一组任意个可能的具体实现则表现为所有可能的派生类。模块可以操作一个 抽象体。由于模块依赖于一个固定的抽象体，因此它可以是不允许修改的；同时，通过从这个抽象体派生，也可扩展此模块的行为功能。熟悉OCP的读者一定知 道，为了能够实现面向对象设计的一个最核心的原则OCP(Open-Closed Principle)，抽象类是其中的关键所在。\n\n　　从语法定义层面看abstract class 和 interface\n\n　　在语法层面，Java语言对于abstract class和interface给出了不同的定义方式，下面以定义一个名为Demo的抽象类为例来说明这种不同。\n\n　　使用abstract class的方式定义Demo抽象类的方式如下：\n\nabstract class Demo｛   \nabstract void method1();   \nabstract void method2();   \n…   \n｝   \n \n\n    使用interface的方式定义Demo抽象类的方式如下：\n\n\ninterface Demo{   \nvoid method1();   \nvoid method2();   \n…   \n}   \n \n\n    在abstract class方式中，Demo可以有自己的数据成员，也可以有非 abstract的成员方法，而在interface方式的实现中，Demo只能够有静态的不能被修改的数据成员（也就是必须是static final 的，不过在interface中一般不定义数据成员），所有的成员方法都是abstract的。从某种意义上说，interface是一种特殊形式的 abstract class。\n\n　　从编程的角度来看，abstract class和interface都可以用来实现 "design by contract" 的思想。但是在具体的使用上面还是有一些区别的。\n\n　　首先，abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系(因为Java不支持多继承 -- 转注)。但是，一个类却可以实现多个interface。也许，这是Java语言的设计者在考虑Java对于多重继承的支持方面的一种折中考虑吧。\n\n　　其次，在abstract class的定义中，我们可以赋予方法的默认行为。但是在interface的定义中，方法却不能拥有默认行为，为了绕过这个限制，必须使用委托，但是这会增加一些复杂性，有时会造成很大的麻烦。\n\n　　在 抽象类中不能定义默认行为还存在另一个比较严重的问题，那就是可能会造成维护上的麻烦。因 为如果后来想修改类的界面（一般通过 abstract class 或者interface来表示）以适应新的情况（比如，添加新的方法或者给已用的方法中添 加新的参数）时，就会非常的麻烦，可能要花费很多的时间（对于派生类很多的情况，尤为如此）。但是如果界面是通过abstract class来实现的，那 么可能就只需要修改定义在abstract class中的默认行为就可以了。\n\n　　同样，如果不能在抽象类中定义默认行为，就会导致同样的方法实现出现在该抽象类的每一个派生类中，违反了 "one rule，one place" 原则，造成代码重复，同样不利于以后的维护。因此，在abstract class和interface间进行选择时要非常的小心。\n\n　　从设计理念层面看 abstract class 和 interface\n\n　　上面主要从语法定义和编程的角度论述了abstract class和interface的区 别，这些层面的区别是比较低层次的、非本质的。本小节将从另一个层面：abstract class和interface所反映出的设计理念，来分析一下二者的区别。作者认为，从这个层面进行分析才能理解二者概念的本质所在。\n\n　　前面已经提到过，abstract class在Java语言中体现了一种继承关系，要想使得继承关系合理，父类和派生类之间必须存在"is-a"关系，即父类和派生类在概念本质上应该是相同的。对于interface来说则不然，并不要求interface的实现者和interface定义在概念本质上是一致的， 仅仅是实现了interface定义的契约而已。为了使论述便于理解，下面将通过一个简单的实例进行说明。\n\n　　考虑这样一个例子，假设在我们的问题领域中有一个关于Door的抽象概念，该Door具有执行两个动作open和close，此时我们可以通过abstract class或者interface来定义一个表示该抽象概念的类型，定义方式分别如下所示：\n\n　　使用abstract class方式定义Door：\n\n\nabstract class Door{   \nabstract void open();   \nabstract void close()；   \n}   \n \n\n    使用interface方式定义Door：\n\n  \ninterface Door{   \nvoid open();   \nvoid close();   \n}    \n \n\n    其他具体的Door类型可以extends使用abstract class方式定义的Door或者implements使用interface方式定义的Door。看起来好像使用abstract class和interface没有大的区别。\n\n　　如果现在要求Door还要具有报警的功能。我们该如何设计针对该例子的类结构呢（在本例中， 主要是为了展示 abstract class 和interface 反映在设计理念上的区别，其他方面无关的问题都做了简化或者忽略）？下面将罗列出可能的解 决方案，并从设计理念层面对这些不同的方案进行分析。\n\n　　解决方案一：\n\n　　简单的在Door的定义中增加一个alarm方法，如下：\n\n\nabstract class Door{   \nabstract void open();   \nabstract void close()；   \nabstract void alarm();   \n}   \n \n\n　或者\n\n\ninterface Door{   \nvoid open();   \nvoid close();   \nvoid alarm();   \n}   \n\n \n\n\n　　那么具有报警功能的AlarmDoor的定义方式如下：\n\n\nclass AlarmDoor extends Door{   \nvoid open(){…}   \nvoid close(){…}   \nvoid alarm(){…}   \n}   \n \n\n\n　　或者\n\n\nclass AlarmDoor implements Door｛   \nvoid open(){…}   \nvoid close(){…}   \nvoid alarm(){…}   \n｝   \n \n\n    这种方法违反了面向对象设计中的一个核心原则 ISP (Interface Segregation Principle)，在Door的定义中把Door概念本身固有的行为方法和另外一个概念"报警器"的行为方 法混在了一起。这样引起的一个问题是那些仅仅依赖于Door这个概念的模块会因为"报警器"这个概念的改变（比如：修改alarm方法的参数）而改变，反 之依然。\n\n　　解决方案二：\n\n　　既然open、close和alarm属于两个不同的概念，根据ISP原则应该把它们分别定 义在代表这两个概念的抽象类中。定义方式有：这两个概念都使用 abstract class 方式定义；两个概念都使用interface方式定义；一个概念 使用 abstract class 方式定义，另一个概念使用interface方式定义。\n\n　　显然，由于Java语言不支持多重继承，所以两个概念都使用abstract class方式定义是不可行的。后面两种方式都是可行的，但是对于它们的选择却反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理。我们一一来分析、说明。\n\n　　如果两个概念都使用interface方式来定义，那么就反映出两个问题：1、我们可能没有 理解清楚问题领域，AlarmDoor在概念本质上到底是Door还是报警器？2、如果我们对于问题领域的理解没有问题，比如：我们通过对于问题领域的分 析发现AlarmDoor在概念本质上和Door是一致的，那么我们在实现时就没有能够正确的揭示我们的设计意图，因为在这两个概念的定义上（均使用 interface方式定义）反映不出上述含义。\n\n　　如果我们对于问题领域的理解是：AlarmDoor在概念本质上是Door，同时它有具有报 警的功能。我们该如何来设计、实现来明确的反映出我们的意思呢？前面已经说过，abstract class在Java语言中表示一种继承关系，而继承关系 在本质上是"is-a"关系。所以对于Door这个概念，我们应该使用abstarct class方式来定义。另外，AlarmDoor又具有报警功能，说 明它又能够完成报警概念中定义的行为，所以报警概念可以通过interface方式定义。如下所示：\n\n  \nabstract class Door{   \nabstract void open();   \nabstract void close()；   \n}   \ninterface Alarm{   \nvoid alarm();   \n}   \nclass AlarmDoor extends Door implements Alarm{   \nvoid open(){…}   \nvoid close(){…}   \nvoid alarm(){…}   \n}    \n \n\n    这种实现方式基本上能够明确的反映出我们对于问题领域的理解，正确的揭示我们的设计意图。其 实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系，大家在选择时可以作为一个依据，当然这是建立在对问题领域的理解上的，比如：如果我们认为AlarmDoor在概念本质上是报警器，同时又具有Door的功能，那么上述的定义方式就要反过来了。\n\n　　小结\n\n　　  1.abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系。但是，一个类却可以实现多个interface。\n\n　  　2.在abstract class 中可以有自己的数据成员，也可以有非abstarct的成员方法，而在interface中，只能够有静态的不能被修改的数据成员（也就是必须是static final的，不过在 interface中一般不定义数据成员），所有的成员方法都是abstract的。\n\n　　  3.abstract class和interface所反映出的设计理念不同。其实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系。\n\n　　  4.实现抽象类和接口的类必须实现其中的所有方法。抽象类中可以有非抽象方法。接口中则不能有实现方法。\n\n　  　5.接口中定义的变量默认是public static final 型，且必须给其初值，所以实现类中不能重新定义，也不能改变其值。\n\n　  　6.抽象类中的变量默认是 friendly 型，其值可以在子类中重新定义，也可以重新赋值。\n\n　　  7.接口中的方法默认都是 public,abstract 类型的。\n\n　 结论\n\n　　abstract class 和 interface 是 Java语言中的两种定义抽象类的方式，它们之间有很大的相似性。但是对于它们的选择却又往往反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理，因为它们表现了概念间的不同的关系（虽然都能够实现需求的功能）。这其实也是语言的一种的惯用法，希望读者朋友能够细细体会。', '详解java中的抽象类和接口的区别', '', 'inherit', 'open', '2011-08-13 15:44:05', 42, 'http://xpmyblog.sinaapp.com/?p=43', 0, 'revision', '', 0),
(44, 1, '2011-08-16 20:49:51', '女生\r\n姓：自己姓的第一个字母\r\nA：慕容 B:任 C:于 D:厉 F:钟离 H:东方 J:敖 K:白 L:南宫 M:竺 N:司徒 O:尉迟 P:司空 Q:蓝 R:邵 S:西门 T:颜 W:莫 X:欧阳 Y:尚 Z:上官\r\n名：出生月份\r\n1:真 2:踏 3:凝 4:竹 5:若 6:雨 7:紫 8:影 9:亦 10:伊 11:羽 12：冰\r\n名：出生日期\r\n1:菲 2:星 3:琪 4:悠 5:馨 6:香 7:爱 8:露 9:落 10:轩 11:儿 12:萱 13:雪 14:月 15:嫣 16:凌 17:荀 18:痕 19:荫 20:茹 21:忆 22:嘉 23:舞 24:琦 25:汐 26:荪 27:郁 28:心 29:韵 30:然 31:嫣\r\n\r\n男生\r\n姓：自己姓的第一个字母\r\nA：慕容 B：任 C：于 D：厉 F：钟离 G：唐 H：东方 J：敖 K：公孙 L：南宫 M：邵 N：司徒 O：尉迟 P：司空 Q：尹 R：明 S：西门 T：归海 W：莫 X：欧阳 Y：尚 Z：上官 \r\n名：出生月份 \r\n1：绝 2：逸 3：寒 4：封 5：萧 6：云 7：燚 8：轩 9：海 10：元 11：天 12：寂 \r\n名：出生日期 \r\n1：言 2：洛 3：枫 4：涯 5：夜 6：痕 7：清 8：浪 9：尘 10：阳 11：武 12：遥 13：风 14：空 15：暇 16：竹 17：涵 18：偌 19：语 20：伦 21：滨 22:珲 23：璘 24：永 25：恒 26：珠 27：明 28：岚 29：舜 30：翰 31：遐 ', '看看你在古代叫什么', '', 'publish', 'open', '2012-12-21 16:16:57', 0, 'http://xpmyblog.sinaapp.com/?p=44', 0, 'post', '', 0),
(45, 1, '2011-08-16 20:49:24', '', '自动草稿', '', 'inherit', 'open', '2011-08-16 20:49:24', 44, 'http://xpmyblog.sinaapp.com/?p=45', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(46, 1, '2011-08-17 13:10:26', '我们在运营一个产品的时候往往会遇到这样那样的表单提交，如客户数据收集、申请加盟、意见反馈等，由此我们开发了这样一个产品，可以理解为万能型数据收集平台，不难想到，我们在前端会遇到跨域的问题，比如 www.a.com 需要提交数据到www.app.com，以前我们用服务端代理来解决跨域问题，上次遇到一台windows服务器，实现代理比较麻烦，于是想到了jquery实现。他有两种方法，getJSON和getScript． \r\n\r\ngetScript我常用来获取服务端数据，getJSON可用于提交信息，其实两者均是实现跨域提交。 \r\n\r\n在jQuery1.3.2中,您可以通过使用JSONP形式的回调函数来加载其他网域的JSON数据，如"myurl?callback=?"。jQuery将自动替换?为正确的函数名,以执行回调函数。 \r\n\r\nJsonp原理： \r\n\r\n首先在客户端注册一个callback, 然后把callback的名字传给服务器。 \r\n\r\n此时，服务器先生成 json 数据。 \r\n\r\n然后以 javascript 语法的方式，生成一个function , function 名字就是传递上来的参数 jsonp. \r\n\r\n最后将 json 数据直接以入参的方式，放置到 function 中，这样就生成了一段 js 语法的文档，返回给客户端。 \r\n\r\n客户端浏览器，解析script标签，并执行返回的 javascript 文档，此时数据作为参数，传入到了客户端预先定义好的 callback 函数里动态执行回调函数。 \r\n\r\n实例： \r\n\r\njquery代码: \r\n\r\n$.getJSON("http://www.app.com/index.php?c=add&callback=?",{id: 10, name: "test"}, function(data){ \r\n\r\nalert(data.msg); \r\n\r\n}); \r\n\r\n服务端返回： \r\n\r\njsonp1310628945031({"rs":true,"msg":"u60a8u7684u4fe1u606fu63d0u4ea4u6210u529fuff01"}) \r\n\r\nPHP代码： \r\n\r\n$result[''rs'']　= false; \r\n\r\n$result[''msg''] = ''您的信息提交成功！''; \r\n\r\n$json = new Services_JSON(); \r\n\r\nheader(''Content-Type: application/json''); \r\n\r\necho $_GET[''callback''].''(''.$json->encode($result).'')''; ', '用JSONP来实现跨域提交', '', 'publish', 'open', '2012-12-21 16:21:02', 0, 'http://xpmyblog.sinaapp.com/?p=46', 0, 'post', '', 0),
(47, 1, '2011-08-17 13:10:10', '我们在运营一个产品的时候往往会遇到这样那样的表单提交，如客户数据收集、申请加盟、意见反馈等，由此我们开发了这样一个产品，可以理解为万能型数据收集平台，不难想到，我们在前端会遇到跨域的问题，比如 www.a.com 需要提交数据到www.app.com，以前我们用服务端代理来解决跨域问题，上次遇到一台windows服务器，实现代理比较麻烦，于是想到了jquery实现。他有两种方法，getJSON和getScript． \n\ngetScript我常用来获取服务端数据，getJSON可用于提交信息，其实两者均是实现跨域提交。 \n\n在jQuery1.3.2中,您可以通过使用JSONP形式的回调函数来加载其他网域的JSON数据，如"myurl?callback=?"。jQuery将自动替换?为正确的函数名,以执行回调函数。 \n\nJsonp原理： \n\n首先在客户端注册一个callback, 然后把callback的名字传给服务器。 \n\n此时，服务器先生成 json 数据。 \n\n然后以 javascript 语法的方式，生成一个function , function 名字就是传递上来的参数 jsonp. \n\n最后将 json 数据直接以入参的方式，放置到 function 中，这样就生成了一段 js 语法的文档，返回给客户端。 \n\n客户端浏览器，解析script标签，并执行返回的 javascript 文档，此时数据作为参数，传入到了客户端预先定义好的 callback 函数里动态执行回调函数。 \n\n实例： \n\njquery代码: \n\n$.getJSON("http://www.app.com/index.php?c=add&callback=?",{id: 10, name: "test"}, function(data){ \n\nalert(data.msg); \n\n}); \n\n服务端返回： \n\njsonp1310628945031({"rs":true,"msg":"u60a8u7684u4fe1u606fu63d0u4ea4u6210u529fuff01"}) \n\nPHP代码： \n\n$result[''rs'']　= false; \n\n$result[''msg''] = ''您的信息提交成功！''; \n\n$json = new Services_JSON(); \n\nheader(''Content-Type: application/json''); \n\necho $_GET[''callback''].''(''.$json->encode($result).'')''; ', '用JSONP来实现跨域提交', '', 'inherit', 'open', '2011-08-17 13:10:10', 46, 'http://xpmyblog.sinaapp.com/?p=47', 0, 'revision', '', 0),
(48, 1, '2011-08-17 22:38:05', 'Win7  64位系统下写PHP扩展\r\n\r\n安装一下软件\r\nVC++ 6  （我装的是VS2010专业版）\r\nphp tar包\r\nCygwin\r\n\r\n开始安装\r\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\r\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\r\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\r\n如下图所示：\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/11.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/11-300x231.jpg" alt="" title="1" width="300" height="231" class="alignnone size-medium wp-image-55" /></a>\r\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\r\n大家猜猜是什么意思？\r\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\r\n在const zend_function_entry myhello_functions[] = {\r\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\r\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\r\n参考网址http://sheng.iteye.com/blog/1143038\r\n', 'Win7  64位系统下写PHP扩展', '', 'publish', 'open', '2012-12-21 16:20:55', 0, 'http://xpmyblog.sinaapp.com/?p=48', 0, 'post', '', 0),
(49, 1, '2011-08-17 22:35:29', '', '1', '', 'inherit', 'open', '2011-08-17 22:35:29', 48, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/1.jpg', 0, 'attachment', 'image/jpeg', 0),
(50, 1, '2011-08-17 22:38:02', 'Win7  64位系统下写PHP扩展\n\n安装一下软件\nVC++ 6  （我装的是VS2010专业版）\nphp tar包\nCygwin\n\n开始安装\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\n如下图所示：\n\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\n大家猜猜是什么意思？\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\n在const zend_function_entry myhello_functions[] = {\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\n参考网址http://sheng.iteye.com/blog/1143038\n', 'Win7  64位系统下写PHP扩展', '', 'inherit', 'open', '2011-08-17 22:38:02', 48, 'http://xpmyblog.sinaapp.com/?p=50', 0, 'revision', '', 0),
(51, 1, '2011-08-18 12:13:03', '', '1', '', 'inherit', 'open', '2011-08-18 12:13:03', 48, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/1.jpg', 0, 'attachment', 'image/jpeg', 0),
(52, 1, '2011-08-17 22:38:05', 'Win7  64位系统下写PHP扩展\r\n\r\n安装一下软件\r\nVC++ 6  （我装的是VS2010专业版）\r\nphp tar包\r\nCygwin\r\n\r\n开始安装\r\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\r\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\r\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\r\n如下图所示：\r\n\r\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\r\n大家猜猜是什么意思？\r\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\r\n在const zend_function_entry myhello_functions[] = {\r\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\r\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\r\n参考网址http://sheng.iteye.com/blog/1143038\r\n', 'Win7  64位系统下写PHP扩展', '', 'inherit', 'open', '2011-08-17 22:38:05', 48, 'http://xpmyblog.sinaapp.com/?p=52', 0, 'revision', '', 0),
(53, 1, '2011-08-18 12:14:05', 'Win7  64位系统下写PHP扩展\r\n\r\n安装一下软件\r\nVC++ 6  （我装的是VS2010专业版）\r\nphp tar包\r\nCygwin\r\n\r\n开始安装\r\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\r\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\r\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\r\n如下图所示：\r\n[gallery]\r\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\r\n大家猜猜是什么意思？\r\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\r\n在const zend_function_entry myhello_functions[] = {\r\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\r\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\r\n参考网址http://sheng.iteye.com/blog/1143038\r\n', 'Win7  64位系统下写PHP扩展', '', 'inherit', 'open', '2011-08-18 12:14:05', 48, 'http://xpmyblog.sinaapp.com/?p=53', 0, 'revision', '', 0),
(54, 1, '2011-08-18 12:15:03', 'Win7  64位系统下写PHP扩展\r\n\r\n安装一下软件\r\nVC++ 6  （我装的是VS2010专业版）\r\nphp tar包\r\nCygwin\r\n\r\n开始安装\r\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\r\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\r\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\r\n如下图所示：\r\n[gallery]\r\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\r\n大家猜猜是什么意思？\r\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\r\n在const zend_function_entry myhello_functions[] = {\r\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\r\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\r\n参考网址http://sheng.iteye.com/blog/1143038\r\n', 'Win7  64位系统下写PHP扩展', '', 'inherit', 'open', '2011-08-18 12:15:03', 48, 'http://xpmyblog.sinaapp.com/?p=54', 0, 'revision', '', 0),
(55, 1, '2011-08-18 12:16:39', '', '1', '', 'inherit', 'open', '2011-08-18 12:16:39', 48, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/11.jpg', 0, 'attachment', 'image/jpeg', 0),
(56, 1, '2011-08-18 12:15:54', 'Win7  64位系统下写PHP扩展\r\n\r\n安装一下软件\r\nVC++ 6  （我装的是VS2010专业版）\r\nphp tar包\r\nCygwin\r\n\r\n开始安装\r\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\r\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\r\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\r\n如下图所示：\r\n[gallery]\r\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\r\n大家猜猜是什么意思？\r\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\r\n在const zend_function_entry myhello_functions[] = {\r\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\r\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\r\n参考网址http://sheng.iteye.com/blog/1143038\r\n', 'Win7  64位系统下写PHP扩展', '', 'inherit', 'open', '2011-08-18 12:15:54', 48, 'http://xpmyblog.sinaapp.com/?p=56', 0, 'revision', '', 0),
(57, 1, '2011-08-19 23:03:21', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\r\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\r\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\r\n\r\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\r\n他们的用法如下：\r\n<pre>\r\n1、Strings\r\n> set foo bar\r\nOK\r\n>get foo\r\n"bar"\r\n</pre>\r\n<pre>\r\n2、integer\r\n	>set mykey "10"\r\n	OK \r\n	>incr mykey\r\n	(integer) 11\r\n	>get mykey\r\n	"11"\r\n	>decr mykey\r\n	(integer) 10\r\n	>get mykey\r\n	"10"\r\n</pre>\r\n<pre>\r\n3、Lists\r\n>rpush foo baz\r\n(integer) 1\r\n>rpush foo qux\r\n(integer) 2\r\n>lpush foo bar\r\n(integer) 3\r\n	>lrange foo 0 -1\r\n	"bar"\r\n	"baz"\r\n	"qux"\r\n	>lrange foo 0 1\r\n	"bar"\r\n	"baz"\r\n	>lpop foo\r\n	"bar"\r\n	>rpop foo\r\n	"qux"\r\n</pre>\r\n<pre>\r\n4、Hashes\r\n>hset foo bar baz\r\n(integer) 1\r\n>hset foo qux quxx\r\n(integer) 1\r\n>hget foo bar\r\n"baz"\r\n>hgetall foo\r\n"bar"\r\n"baz"\r\n"qux"\r\n"quxx"\r\n</pre>\r\n<pre>\r\n5、Set\r\n	>sadd m1 jan\r\n	(integer) 1\r\n	>sadd m1 feb\r\n	(integer) 1\r\n	>sismember m1 jan\r\n	(integer) 1\r\n	>sismember m1 feb\r\n	(integer) 1\r\n	>smembers m1\r\n	"feb"\r\n	"jan"\r\n	>sadd m2 feb\r\n	(integer) 1\r\n	>sismember m2 jan\r\n	(integer) 1\r\n	>sismember m2 mar\r\n	(integer) 1\r\n	>sinter m1 m2\r\n	"feb"\r\n	>sdiff m1 m2\r\n	"jan"\r\n	>sunion m1 m2\r\n	"mar"\r\n	"jan"\r\n	"feb"\r\n</pre>\r\n<pre>\r\n6、sorted sets\r\n	>zadd z1 1 jan\r\n	(integer) 1\r\n	>zadd z1 2 feb\r\n	(integer) 1\r\n	>zadd z1 3 mar\r\n	(integer) 1\r\n	>zscore z1 feb\r\n	"2"\r\n	>zrange z1 0 1 withscores\r\n	"jan"\r\n	"1"\r\n	"feb"\r\n	"2"\r\n	"mar"\r\n	"3"\r\n</pre>\r\n由上可知，我觉得理想的存储数据类型是lists和hashes。\r\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\r\n\r\n二、Redis进阶教程-aof(append only file)日志文件\r\n原文出处:http://lgone.com/html/y2010/757.html\r\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\r\n何为AOF?\r\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\r\n扩展知识:\r\nRedis有三种类型的落地文件:\r\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\r\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\r\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\r\n运行流程\r\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\r\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\r\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\r\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\r\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\r\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\r\n内部实现\r\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\r\nfork! Redis通过fork产生子进程.\r\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\r\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\r\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\r\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\r\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\r\n其它\r\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\r\n\r\n三、在windows环境下，phper想使用php操作redis，那怎么办呢？\r\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\r\n用法很简单，\r\n<pre class="brush: php;">\r\n	require ''Rediska.php'';\r\n	$rediska = new Rediska();\r\n	$rediska ->connect(''127.0.0.1'',6379);\r\n	$rediska ->set(''test'',''hello world!'');\r\n	echo $rediska ->get(''test'');\r\n</pre>\r\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'publish', 'open', '2012-12-21 16:17:57', 0, 'http://xpmyblog.sinaapp.com/?p=57', 0, 'post', '', 2),
(58, 1, '2011-08-19 23:03:00', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\n\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\n他们的用法如下：\n1、Strings\n> set foo bar\nOK\n>get foo\n"bar"\n\n2、integer\n	>set mykey "10"\n	OK \n	>incr mykey\n	(integer) 11\n	>get mykey\n	"11"\n	>decr mykey\n	(integer) 10\n	>get mykey\n	"10"\n\n3、Lists\n>rpush foo baz\n(integer) 1\n>rpush foo qux\n(integer) 2\n>lpush foo bar\n(integer) 3\n	>lrange foo 0 -1\n	"bar"\n	"baz"\n	"qux"\n	>lrange foo 0 1\n	"bar"\n	"baz"\n	>lpop foo\n	"bar"\n	>rpop foo\n	"qux"\n\n4、Hashes\n>hset foo bar baz\n(integer) 1\n>hset foo qux quxx\n(integer) 1\n>hget foo bar\n"baz"\n>hgetall foo\n"bar"\n"baz"\n"qux"\n"quxx"\n\n5、Set\n	>sadd m1 jan\n	(integer) 1\n	>sadd m1 feb\n	(integer) 1\n	>sismember m1 jan\n	(integer) 1\n	>sismember m1 feb\n	(integer) 1\n	>smembers m1\n	"feb"\n	"jan"\n	>sadd m2 feb\n	(integer) 1\n	>sismember m2 jan\n	(integer) 1\n	>sismember m2 mar\n	(integer) 1\n	>sinter m1 m2\n	"feb"\n	>sdiff m1 m2\n	"jan"\n	>sunion m1 m2\n	"mar"\n	"jan"\n	"feb"\n\n6、sorted sets\n	>zadd z1 1 jan\n	(integer) 1\n	>zadd z1 2 feb\n	(integer) 1\n	>zadd z1 3 mar\n	(integer) 1\n	>zscore z1 feb\n	"2"\n	>zrange z1 0 1 withscores\n	"jan"\n	"1"\n	"feb"\n	"2"\n	"mar"\n	"3"\n\n由上可知，我觉得理想的存储数据类型是lists和hashes。\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\n\n二、Redis进阶教程-aof(append only file)日志文件\n原文出处:http://lgone.com/html/y2010/757.html\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\n何为AOF?\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\n扩展知识:\nRedis有三种类型的落地文件:\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\n运行流程\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\n内部实现\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\nfork! Redis通过fork产生子进程.\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\n其它\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\n\n在windows环境下，phper想使用php操作redis，那怎么办呢？\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\n用法很简单，\n<?php\n	require ''Rediska.php'';\n	$rediska = new Rediska();\n	$rediska ->connect(''127.0.0.1'',6379);\n	$rediska ->set(''test'',''hello world!'');\n	echo $rediska ->get(''test'');\n?>\n\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'inherit', 'open', '2011-08-19 23:03:00', 57, 'http://xpmyblog.sinaapp.com/?p=58', 0, 'revision', '', 0),
(63, 1, '2011-09-05 16:37:12', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n\r\n\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'publish', 'open', '2012-12-21 16:25:41', 0, 'http://xpmyblog.sinaapp.com/?p=63', 0, 'post', '', 0),
(64, 1, '2011-09-05 16:36:44', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\n现在看下面的解决办法吧。。。\n在头部page_header.lbi文件中的\n{insert_scripts files=''transport.js,utils.js''}\n这句话下面添加\n{insert_scripts files=''jquery.js''}\n<script type="text/javascript" >\nvar jQuery = $;\n$(function(){\n	alert("aaaa");\n})\n</script>  \n\n注意，\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:36:44', 63, 'http://xpmyblog.sinaapp.com/?p=64', 0, 'revision', '', 0),
(65, 1, '2011-09-05 16:37:12', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n<script type="text/javascript" >\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n</script>  \r\n\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:37:12', 63, 'http://xpmyblog.sinaapp.com/?p=65', 0, 'revision', '', 0),
(66, 1, '2011-09-05 16:38:02', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n<pre>\r\n<script type="text/javascript" >\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n</script>  \r\n</pre>\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:38:02', 63, 'http://xpmyblog.sinaapp.com/?p=66', 0, 'revision', '', 0),
(67, 1, '2011-09-05 16:39:27', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n<pre>\r\n<script type="text/javascript" >\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n</script>  \r\n</pre>\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:39:27', 63, 'http://xpmyblog.sinaapp.com/?p=67', 0, 'revision', '', 0),
(68, 1, '2011-09-05 16:40:06', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n\r\n<script type="text/javascript" >\r\n<pre>\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n</pre>\r\n</script>  \r\n\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:40:06', 63, 'http://xpmyblog.sinaapp.com/?p=68', 0, 'revision', '', 0),
(69, 1, '2011-09-05 16:40:57', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n<pre>\r\n<script type="text/javascript" >\r\n</pre>\r\n<pre>\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n</pre>\r\n<pre>\r\n</script>  \r\n</pre>\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:40:57', 63, 'http://xpmyblog.sinaapp.com/?p=69', 0, 'revision', '', 0),
(70, 1, '2011-09-05 16:41:22', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n\r\n<pre>\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n</pre>\r\n\r\n<pre>sudo apt-get install eclipse-pde\r\nsudo apt-get install eclipse-jdt</pre>\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:41:22', 63, 'http://xpmyblog.sinaapp.com/?p=70', 0, 'revision', '', 0),
(72, 1, '2011-09-08 11:09:49', '进入\r\n\r\n/etc/selinux\r\n\r\nmore config\r\n\r\n# This file controls the state of SELinux on the system.\r\n# SELINUX= can take one of these three values:\r\n#       enforcing - SELinux security policy is enforced.\r\n#       permissive - SELinux prints warnings instead of enforcing.\r\n#       disabled - SELinux is fully disabled.\r\n改为 ：SELINUX=disabled', 'php 不可以连接远程mysql数据库', '', 'publish', 'open', '2012-12-21 16:20:49', 0, 'http://xpmyblog.sinaapp.com/?p=72', 0, 'post', '', 0),
(73, 1, '2011-09-08 11:09:43', '进入\n\n/etc/selinux\n\nmore config\n\n# This file controls the state of SELinux on the system.\n# SELINUX= can take one of these three values:\n#       enforcing - SELinux security policy is enforced.\n#       permissive - SELinux prints warnings instead of enforcing.\n#       disabled - SELinux is fully disabled.\n改为 ：SELINUX=disabled', 'php 不可以连接远程mysql数据库', '', 'inherit', 'open', '2011-09-08 11:09:43', 72, 'http://xpmyblog.sinaapp.com/?p=73', 0, 'revision', '', 0),
(77, 1, '2011-09-14 14:33:43', '<pre class="brush: php;">\r\n	$array = range(''a'',''z'');\r\n	print_r(array_chunk($array, 2));\r\n</pre>', 'PHP将一维数组变成二维数组', '', 'publish', 'open', '2012-12-21 16:20:44', 0, 'http://xpmyblog.sinaapp.com/?p=77', 0, 'post', '', 0),
(78, 1, '2011-09-14 14:33:20', '<?php\n	$array = range(''a'',''z'');\n	echo "<pre>";\n	print_r(array_chunk($array, 2));\n?>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2011-09-14 14:33:20', 77, 'http://xpmyblog.sinaapp.com/?p=78', 0, 'revision', '', 0),
(79, 1, '2011-09-14 14:33:43', '<?php\r\n	$array = range(''a'',''z'');\r\n	echo "<pre>";\r\n	print_r(array_chunk($array, 2));\r\n?>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2011-09-14 14:33:43', 77, 'http://xpmyblog.sinaapp.com/?p=79', 0, 'revision', '', 0),
(82, 1, '2011-09-16 19:00:16', 'Tokyo Cabinet 是日本人 平林幹雄 开发的一款 DBM 数据库，该数据库读写非常快，哈希模式写入100万条数据只需0.643秒，读取100万条数据只需0.773秒，是 Berkeley DB 等 DBM 的几倍。\r\n\r\n　　<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79-300x190.gif" alt="" title="b0d09b8cf1aeb27cb11bba79" width="300" height="190" class="alignnone size-medium wp-image-83" /></a>\r\n\r\n\r\n　　Tokyo Tyrant 是由同一作者开发的 Tokyo Cabinet 数据库网络接口。它拥有Memcached兼容协议，也可以通过HTTP协议进行数据交换。\r\n\r\n　　Tokyo Tyrant 加上 Tokyo Cabinet，构成了一款支持高并发的分布式持久存储系统，对任何原有Memcached客户端来讲，可以将Tokyo Tyrant看成是一个Memcached，但是，它的数据是可以持久存储的。这一点，跟新浪的Memcachedb性质一样。\r\n\r\n　　相比Memcachedb而言，Tokyo Tyrant具有以下优势：\r\n\r\n　　1、故障转移：Tokyo Tyrant支持双机互为主辅模式，主辅库均可读写，而Memcachedb目前支持类似MySQL主辅库同步的方式实现读写分离，支持“主服务器可读写、辅助服务器只读”模式。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70-300x277.gif" alt="" title="f02eba67fec7824aa9184c70" width="300" height="277" class="alignnone size-medium wp-image-84" /></a>\r\n　　\r\n\r\n　　这里使用 $memcache->addServer 而不是 $memcache->connect 去连接 Tokyo Tyrant 服务器，是因为当 Memcache 客户端使用 addServer 服务器池时，是根据“crc32(key) % current_server_num”哈希算法将 key 哈希到不同的服务器的，PHP、C 和 python 的客户端都是如此的算法。Memcache 客户端的 addserver 具有故障转移机制，当 addserver 了2台 Memcached 服务器，而其中1台宕机了，那么 current_server_num 会由原先的2变成1。\r\n\r\n　　引用 memcached 官方网站和 PHP 手册中的两段话： \r\n引用http://www.danga.com/memcached/ \r\nIf a host goes down, the API re-maps that dead host''s requests onto the servers that are available. \r\n\r\nhttp://cn.php.net/manual/zh/function.Memcache-addServer.php \r\nFailover may occur at any stage in any of the methods, as long as other servers are available the request the user won''t notice. Any kind of socket or Memcached server level errors (except out-of-memory) may trigger the failover. Normal client errors such as adding an existing key will not trigger a failover.\r\n\r\n\r\n　　2、日志文件体积小：Tokyo Tyrant用于主辅同步的日志文件比较小，大约是数据库文件的1.3倍，而Memcachedb的同步日志文件非常大，如果不定期清理，很容易将磁盘写满。\r\n\r\n\r\n　　3、超大数据量下表现出色：\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370-245x300.gif" alt="" title="14b5381726f52076952b4370" width="245" height="300" class="alignnone size-medium wp-image-85" /></a>\r\n　　\r\n\r\n　　但是，Tokyo Tyrant 也有缺点：在32位操作系统下，作为 Tokyo Tyrant 后端存储的 Tokyo Cabinet 数据库单个文件不能超过2G，而64位操作系统则不受这一限制。所以，如果使用 Tokyo Tyrant，推荐在64位CPU、操作系统上安装运行。\r\n\r\n\r\n　　一、安装\r\n　　1、首先编译安装tokyocabinet数据库\r\nwget http://www.1978th.net/tokyocabinet/tokyocabinet-1.4.45.tar.gz\r\ntar zxvf tokyocabinet-1.4.45.tar.gz\r\ncd tokyocabinet-1.4.45/\r\n./configure\r\n#注：在32位Linux操作系统上编译Tokyo cabinet，请使用./configure --enable-off64代替./configure，可以使数据库文件突破2GB的限制。\r\n#./configure --enable-off64\r\nmake\r\nmake install\r\ncd ../\r\n\r\n　　2、然后编译安装tokyotyrant\r\nwget http://www.1978th.net/tokyotyrant/tokyotyrant-1.1.40.tar.gz\r\ntar zxvf tokyotyrant-1.1.40.tar.gz\r\ncd tokyotyrant-1.1.40/\r\n./configure\r\nmake\r\nmake install\r\ncd ../\r\n\r\n\r\n　　二、配置\r\n　　1、创建tokyotyrant数据文件存放目录\r\nmkdir -p /ttserver/\r\n\r\n　　2、启动tokyotyrant的主进程（ttserver）\r\n　　(1)、单机模式\r\nulimit -SHn 51200\r\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　(2)、双机互为主辅模式\r\n　　服务器192.168.1.91：\r\nulimit -SHn 51200\r\nttserver -host 192.168.1.91 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 91 -mhost 192.168.1.92 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　服务器192.168.1.92：\r\nulimit -SHn 51200\r\nttserver -host 192.168.1.92 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 92 -mhost 192.168.1.91 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　(3)、参数说明\r\n　　ttserver [-host name] [-port num] [-thnum num] [-tout num] [-dmn] [-pid path] [-log path] [-ld|-le] [-ulog path] [-ulim num] [-uas] [-sid num] [-mhost name] [-mport num] [-rts path] [dbname] \r\n\r\n　　-host name : 指定需要绑定的服务器域名或IP地址。默认绑定这台服务器上的所有IP地址。\r\n　　-port num : 指定需要绑定的端口号。默认端口号为1978 \r\n　　-thnum num : 指定线程数。默认为8个线程。 \r\n　　-tout num : 指定每个会话的超时时间（单位为秒）。默认永不超时。 \r\n　　-dmn : 以守护进程方式运行。\r\n　　-pid path : 输出进程ID到指定文件（这里指定文件名）。\r\n　　-log path : 输出日志信息到指定文件（这里指定文件名）。\r\n　　-ld : 在日志文件中还记录DEBUG调试信息。\r\n　　-le : 在日志文件中仅记录错误信息。\r\n　　-ulog path : 指定同步日志文件存放路径（这里指定目录名）。\r\n　　-ulim num : 指定每个同步日志文件的大小（例如128m）。\r\n　　-uas : 使用异步IO记录更新日志（使用此项会减少磁盘IO消耗，但是数据会先放在内存中，不会立即写入磁盘，如果重启服务器或ttserver进程被kill掉，将导致部分数据丢失。一般情况下不建议使用）。\r\n　　-sid num : 指定服务器ID号（当使用主辅模式时，每台ttserver需要不同的ID号） \r\n　　-mhost name : 指定主辅同步模式下，主服务器的域名或IP地址。\r\n　　-mport num : 指定主辅同步模式下，主服务器的端口号。\r\n　　-rts path : 指定用来存放同步时间戳的文件名。\r\n\r\n　　如果使用的是哈希数据库，可以指定参数“#bnum=xxx”来提高性能。它可以指定bucket存储桶的数量。例如指定“#bnum=1000000”，就可以将最新最热的100万条记录缓存在内存中：\r\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tch#bnum=1000000\r\n\r\n　　如果大量的客户端访问ttserver，请确保文件描述符够用。许多服务器的默认文件描述符为1024，可以在启动ttserver前使用ulimit命令提高这项值。例如：\r\nulimit -SHn 51200\r\n\r\n　　3、停止tokyotyrant（ttserver）\r\nps -ef | grep ttserver\r\n　　找到ttserver的进程号并kill，例如：\r\nkill -TERM 2159\r\n\r\n\r\n　　三、调用\r\n　　1、任何Memcached客户端均可直接调用tokyotyrant。\r\n\r\n　　2、还可以通过HTTP方式调用，下面以Linux的curl命令为例，介绍如何操作tokyotyrant：\r\n　　(1)、写数据，将数据“value”写入到“key”中：\r\ncurl -X PUT http://127.0.0.1:11211/key -d "value"\r\n\r\n　　(2)、读数据，读取“key”中数据：\r\ncurl http://127.0.0.1:11211/key\r\n\r\n　　(3)、删数据，删除“key”：\r\ncurl -X DELETE http://127.0.0.1:11211/key\r\n', 'Tokyo Cabinet - 哈希模式写入100万条数据只需0.643秒', '', 'publish', 'open', '2012-12-21 16:17:49', 0, 'http://xpmyblog.sinaapp.com/?p=82', 0, 'post', '', 0),
(83, 1, '2011-09-16 18:58:08', '', 'b0d09b8cf1aeb27cb11bba79', '', 'inherit', 'open', '2011-09-16 18:58:08', 82, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79.gif', 0, 'attachment', 'image/gif', 0),
(84, 1, '2011-09-16 18:59:13', '', 'f02eba67fec7824aa9184c70', '', 'inherit', 'open', '2011-09-16 18:59:13', 82, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70.gif', 0, 'attachment', 'image/gif', 0),
(85, 1, '2011-09-16 18:59:41', '', '14b5381726f52076952b4370', '', 'inherit', 'open', '2011-09-16 18:59:41', 82, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370.gif', 0, 'attachment', 'image/gif', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(86, 1, '2011-09-16 18:58:38', 'Tokyo Cabinet 是日本人 平林幹雄 开发的一款 DBM 数据库，该数据库读写非常快，哈希模式写入100万条数据只需0.643秒，读取100万条数据只需0.773秒，是 Berkeley DB 等 DBM 的几倍。\n\n　　\n\n\n　　Tokyo Tyrant 是由同一作者开发的 Tokyo Cabinet 数据库网络接口。它拥有Memcached兼容协议，也可以通过HTTP协议进行数据交换。\n\n　　Tokyo Tyrant 加上 Tokyo Cabinet，构成了一款支持高并发的分布式持久存储系统，对任何原有Memcached客户端来讲，可以将Tokyo Tyrant看成是一个Memcached，但是，它的数据是可以持久存储的。这一点，跟新浪的Memcachedb性质一样。\n\n　　相比Memcachedb而言，Tokyo Tyrant具有以下优势：\n\n　　1、故障转移：Tokyo Tyrant支持双机互为主辅模式，主辅库均可读写，而Memcachedb目前支持类似MySQL主辅库同步的方式实现读写分离，支持“主服务器可读写、辅助服务器只读”模式。\n\n　　\n\n　　这里使用 $memcache->addServer 而不是 $memcache->connect 去连接 Tokyo Tyrant 服务器，是因为当 Memcache 客户端使用 addServer 服务器池时，是根据“crc32(key) % current_server_num”哈希算法将 key 哈希到不同的服务器的，PHP、C 和 python 的客户端都是如此的算法。Memcache 客户端的 addserver 具有故障转移机制，当 addserver 了2台 Memcached 服务器，而其中1台宕机了，那么 current_server_num 会由原先的2变成1。\n\n　　引用 memcached 官方网站和 PHP 手册中的两段话： \n引用http://www.danga.com/memcached/ \nIf a host goes down, the API re-maps that dead host''s requests onto the servers that are available. \n\nhttp://cn.php.net/manual/zh/function.Memcache-addServer.php \nFailover may occur at any stage in any of the methods, as long as other servers are available the request the user won''t notice. Any kind of socket or Memcached server level errors (except out-of-memory) may trigger the failover. Normal client errors such as adding an existing key will not trigger a failover.\n\n\n　　2、日志文件体积小：Tokyo Tyrant用于主辅同步的日志文件比较小，大约是数据库文件的1.3倍，而Memcachedb的同步日志文件非常大，如果不定期清理，很容易将磁盘写满。\n\n\n　　3、超大数据量下表现出色：\n\n　　\n\n　　但是，Tokyo Tyrant 也有缺点：在32位操作系统下，作为 Tokyo Tyrant 后端存储的 Tokyo Cabinet 数据库单个文件不能超过2G，而64位操作系统则不受这一限制。所以，如果使用 Tokyo Tyrant，推荐在64位CPU、操作系统上安装运行。\n\n\n　　一、安装\n　　1、首先编译安装tokyocabinet数据库\nwget http://www.1978th.net/tokyocabinet/tokyocabinet-1.4.45.tar.gz\ntar zxvf tokyocabinet-1.4.45.tar.gz\ncd tokyocabinet-1.4.45/\n./configure\n#注：在32位Linux操作系统上编译Tokyo cabinet，请使用./configure --enable-off64代替./configure，可以使数据库文件突破2GB的限制。\n#./configure --enable-off64\nmake\nmake install\ncd ../\n\n　　2、然后编译安装tokyotyrant\nwget http://www.1978th.net/tokyotyrant/tokyotyrant-1.1.40.tar.gz\ntar zxvf tokyotyrant-1.1.40.tar.gz\ncd tokyotyrant-1.1.40/\n./configure\nmake\nmake install\ncd ../\n\n\n　　二、配置\n　　1、创建tokyotyrant数据文件存放目录\nmkdir -p /ttserver/\n\n　　2、启动tokyotyrant的主进程（ttserver）\n　　(1)、单机模式\nulimit -SHn 51200\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\n\n　　(2)、双机互为主辅模式\n　　服务器192.168.1.91：\nulimit -SHn 51200\nttserver -host 192.168.1.91 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 91 -mhost 192.168.1.92 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\n\n　　服务器192.168.1.92：\nulimit -SHn 51200\nttserver -host 192.168.1.92 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 92 -mhost 192.168.1.91 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\n\n　　(3)、参数说明\n　　ttserver [-host name] [-port num] [-thnum num] [-tout num] [-dmn] [-pid path] [-log path] [-ld|-le] [-ulog path] [-ulim num] [-uas] [-sid num] [-mhost name] [-mport num] [-rts path] [dbname] \n\n　　-host name : 指定需要绑定的服务器域名或IP地址。默认绑定这台服务器上的所有IP地址。\n　　-port num : 指定需要绑定的端口号。默认端口号为1978 \n　　-thnum num : 指定线程数。默认为8个线程。 \n　　-tout num : 指定每个会话的超时时间（单位为秒）。默认永不超时。 \n　　-dmn : 以守护进程方式运行。\n　　-pid path : 输出进程ID到指定文件（这里指定文件名）。\n　　-log path : 输出日志信息到指定文件（这里指定文件名）。\n　　-ld : 在日志文件中还记录DEBUG调试信息。\n　　-le : 在日志文件中仅记录错误信息。\n　　-ulog path : 指定同步日志文件存放路径（这里指定目录名）。\n　　-ulim num : 指定每个同步日志文件的大小（例如128m）。\n　　-uas : 使用异步IO记录更新日志（使用此项会减少磁盘IO消耗，但是数据会先放在内存中，不会立即写入磁盘，如果重启服务器或ttserver进程被kill掉，将导致部分数据丢失。一般情况下不建议使用）。\n　　-sid num : 指定服务器ID号（当使用主辅模式时，每台ttserver需要不同的ID号） \n　　-mhost name : 指定主辅同步模式下，主服务器的域名或IP地址。\n　　-mport num : 指定主辅同步模式下，主服务器的端口号。\n　　-rts path : 指定用来存放同步时间戳的文件名。\n\n　　如果使用的是哈希数据库，可以指定参数“#bnum=xxx”来提高性能。它可以指定bucket存储桶的数量。例如指定“#bnum=1000000”，就可以将最新最热的100万条记录缓存在内存中：\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tch#bnum=1000000\n\n　　如果大量的客户端访问ttserver，请确保文件描述符够用。许多服务器的默认文件描述符为1024，可以在启动ttserver前使用ulimit命令提高这项值。例如：\nulimit -SHn 51200\n\n　　3、停止tokyotyrant（ttserver）\nps -ef | grep ttserver\n　　找到ttserver的进程号并kill，例如：\nkill -TERM 2159\n\n\n　　三、调用\n　　1、任何Memcached客户端均可直接调用tokyotyrant。\n\n　　2、还可以通过HTTP方式调用，下面以Linux的curl命令为例，介绍如何操作tokyotyrant：\n　　(1)、写数据，将数据“value”写入到“key”中：\ncurl -X PUT http://127.0.0.1:11211/key -d "value"\n\n　　(2)、读数据，读取“key”中数据：\ncurl http://127.0.0.1:11211/key\n\n　　(3)、删数据，删除“key”：\ncurl -X DELETE http://127.0.0.1:11211/key\n', '', '', 'inherit', 'open', '2011-09-16 18:58:38', 82, 'http://xpmyblog.sinaapp.com/?p=86', 0, 'revision', '', 0),
(87, 1, '2011-09-16 19:00:16', 'Tokyo Cabinet 是日本人 平林幹雄 开发的一款 DBM 数据库，该数据库读写非常快，哈希模式写入100万条数据只需0.643秒，读取100万条数据只需0.773秒，是 Berkeley DB 等 DBM 的几倍。\r\n\r\n　　<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79-300x190.gif" alt="" title="b0d09b8cf1aeb27cb11bba79" width="300" height="190" class="alignnone size-medium wp-image-83" /></a>\r\n\r\n\r\n　　Tokyo Tyrant 是由同一作者开发的 Tokyo Cabinet 数据库网络接口。它拥有Memcached兼容协议，也可以通过HTTP协议进行数据交换。\r\n\r\n　　Tokyo Tyrant 加上 Tokyo Cabinet，构成了一款支持高并发的分布式持久存储系统，对任何原有Memcached客户端来讲，可以将Tokyo Tyrant看成是一个Memcached，但是，它的数据是可以持久存储的。这一点，跟新浪的Memcachedb性质一样。\r\n\r\n　　相比Memcachedb而言，Tokyo Tyrant具有以下优势：\r\n\r\n　　1、故障转移：Tokyo Tyrant支持双机互为主辅模式，主辅库均可读写，而Memcachedb目前支持类似MySQL主辅库同步的方式实现读写分离，支持“主服务器可读写、辅助服务器只读”模式。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70-300x277.gif" alt="" title="f02eba67fec7824aa9184c70" width="300" height="277" class="alignnone size-medium wp-image-84" /></a>\r\n　　\r\n\r\n　　这里使用 $memcache->addServer 而不是 $memcache->connect 去连接 Tokyo Tyrant 服务器，是因为当 Memcache 客户端使用 addServer 服务器池时，是根据“crc32(key) % current_server_num”哈希算法将 key 哈希到不同的服务器的，PHP、C 和 python 的客户端都是如此的算法。Memcache 客户端的 addserver 具有故障转移机制，当 addserver 了2台 Memcached 服务器，而其中1台宕机了，那么 current_server_num 会由原先的2变成1。\r\n\r\n　　引用 memcached 官方网站和 PHP 手册中的两段话： \r\n引用http://www.danga.com/memcached/ \r\nIf a host goes down, the API re-maps that dead host''s requests onto the servers that are available. \r\n\r\nhttp://cn.php.net/manual/zh/function.Memcache-addServer.php \r\nFailover may occur at any stage in any of the methods, as long as other servers are available the request the user won''t notice. Any kind of socket or Memcached server level errors (except out-of-memory) may trigger the failover. Normal client errors such as adding an existing key will not trigger a failover.\r\n\r\n\r\n　　2、日志文件体积小：Tokyo Tyrant用于主辅同步的日志文件比较小，大约是数据库文件的1.3倍，而Memcachedb的同步日志文件非常大，如果不定期清理，很容易将磁盘写满。\r\n\r\n\r\n　　3、超大数据量下表现出色：\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370-245x300.gif" alt="" title="14b5381726f52076952b4370" width="245" height="300" class="alignnone size-medium wp-image-85" /></a>\r\n　　\r\n\r\n　　但是，Tokyo Tyrant 也有缺点：在32位操作系统下，作为 Tokyo Tyrant 后端存储的 Tokyo Cabinet 数据库单个文件不能超过2G，而64位操作系统则不受这一限制。所以，如果使用 Tokyo Tyrant，推荐在64位CPU、操作系统上安装运行。\r\n\r\n\r\n　　一、安装\r\n　　1、首先编译安装tokyocabinet数据库\r\nwget http://www.1978th.net/tokyocabinet/tokyocabinet-1.4.45.tar.gz\r\ntar zxvf tokyocabinet-1.4.45.tar.gz\r\ncd tokyocabinet-1.4.45/\r\n./configure\r\n#注：在32位Linux操作系统上编译Tokyo cabinet，请使用./configure --enable-off64代替./configure，可以使数据库文件突破2GB的限制。\r\n#./configure --enable-off64\r\nmake\r\nmake install\r\ncd ../\r\n\r\n　　2、然后编译安装tokyotyrant\r\nwget http://www.1978th.net/tokyotyrant/tokyotyrant-1.1.40.tar.gz\r\ntar zxvf tokyotyrant-1.1.40.tar.gz\r\ncd tokyotyrant-1.1.40/\r\n./configure\r\nmake\r\nmake install\r\ncd ../\r\n\r\n\r\n　　二、配置\r\n　　1、创建tokyotyrant数据文件存放目录\r\nmkdir -p /ttserver/\r\n\r\n　　2、启动tokyotyrant的主进程（ttserver）\r\n　　(1)、单机模式\r\nulimit -SHn 51200\r\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　(2)、双机互为主辅模式\r\n　　服务器192.168.1.91：\r\nulimit -SHn 51200\r\nttserver -host 192.168.1.91 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 91 -mhost 192.168.1.92 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　服务器192.168.1.92：\r\nulimit -SHn 51200\r\nttserver -host 192.168.1.92 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 92 -mhost 192.168.1.91 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　(3)、参数说明\r\n　　ttserver [-host name] [-port num] [-thnum num] [-tout num] [-dmn] [-pid path] [-log path] [-ld|-le] [-ulog path] [-ulim num] [-uas] [-sid num] [-mhost name] [-mport num] [-rts path] [dbname] \r\n\r\n　　-host name : 指定需要绑定的服务器域名或IP地址。默认绑定这台服务器上的所有IP地址。\r\n　　-port num : 指定需要绑定的端口号。默认端口号为1978 \r\n　　-thnum num : 指定线程数。默认为8个线程。 \r\n　　-tout num : 指定每个会话的超时时间（单位为秒）。默认永不超时。 \r\n　　-dmn : 以守护进程方式运行。\r\n　　-pid path : 输出进程ID到指定文件（这里指定文件名）。\r\n　　-log path : 输出日志信息到指定文件（这里指定文件名）。\r\n　　-ld : 在日志文件中还记录DEBUG调试信息。\r\n　　-le : 在日志文件中仅记录错误信息。\r\n　　-ulog path : 指定同步日志文件存放路径（这里指定目录名）。\r\n　　-ulim num : 指定每个同步日志文件的大小（例如128m）。\r\n　　-uas : 使用异步IO记录更新日志（使用此项会减少磁盘IO消耗，但是数据会先放在内存中，不会立即写入磁盘，如果重启服务器或ttserver进程被kill掉，将导致部分数据丢失。一般情况下不建议使用）。\r\n　　-sid num : 指定服务器ID号（当使用主辅模式时，每台ttserver需要不同的ID号） \r\n　　-mhost name : 指定主辅同步模式下，主服务器的域名或IP地址。\r\n　　-mport num : 指定主辅同步模式下，主服务器的端口号。\r\n　　-rts path : 指定用来存放同步时间戳的文件名。\r\n\r\n　　如果使用的是哈希数据库，可以指定参数“#bnum=xxx”来提高性能。它可以指定bucket存储桶的数量。例如指定“#bnum=1000000”，就可以将最新最热的100万条记录缓存在内存中：\r\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tch#bnum=1000000\r\n\r\n　　如果大量的客户端访问ttserver，请确保文件描述符够用。许多服务器的默认文件描述符为1024，可以在启动ttserver前使用ulimit命令提高这项值。例如：\r\nulimit -SHn 51200\r\n\r\n　　3、停止tokyotyrant（ttserver）\r\nps -ef | grep ttserver\r\n　　找到ttserver的进程号并kill，例如：\r\nkill -TERM 2159\r\n\r\n\r\n　　三、调用\r\n　　1、任何Memcached客户端均可直接调用tokyotyrant。\r\n\r\n　　2、还可以通过HTTP方式调用，下面以Linux的curl命令为例，介绍如何操作tokyotyrant：\r\n　　(1)、写数据，将数据“value”写入到“key”中：\r\ncurl -X PUT http://127.0.0.1:11211/key -d "value"\r\n\r\n　　(2)、读数据，读取“key”中数据：\r\ncurl http://127.0.0.1:11211/key\r\n\r\n　　(3)、删数据，删除“key”：\r\ncurl -X DELETE http://127.0.0.1:11211/key\r\n', '', '', 'inherit', 'open', '2011-09-16 19:00:16', 82, 'http://xpmyblog.sinaapp.com/?p=87', 0, 'revision', '', 0),
(88, 1, '2011-09-14 14:35:44', '<?php\r\n	$array = range(''a'',''z'');\r\n	print_r(array_chunk($array, 2));\r\n?>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2011-09-14 14:35:44', 77, 'http://xpmyblog.sinaapp.com/?p=88', 0, 'revision', '', 0),
(89, 1, '2011-09-16 19:17:50', '<?php\r\n	$array = range(''a'',''z'');\r\n        echo "<pre>";\r\n	print_r(array_chunk($array, 2));\r\n?>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2011-09-16 19:17:50', 77, 'http://xpmyblog.sinaapp.com/?p=89', 0, 'revision', '', 0),
(90, 1, '2011-09-16 19:18:13', '<?php\r\n	$array = range(''a'',''z'');\r\n        echo "<pre>";\r\n	print_r(array_chunk($array, 2));\r\n?>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2011-09-16 19:18:13', 77, 'http://xpmyblog.sinaapp.com/?p=90', 0, 'revision', '', 0),
(91, 1, '2011-09-16 20:01:08', '很多网站都通过User-Agent来判断浏览器类型，如果是3G手机，显示手机页面内容，如果是普通浏览器，显示普通网页内容。\r\n\r\n　　谷歌Chrome浏览器，可以很方便地用来当3G手机模拟器。在Windows的【开始】-->【运行】中输入以下命令，启动谷歌浏览器，即可模拟相应手机的浏览器去访问3G手机网页：\r\n\r\n　　谷歌Android：\r\nchrome.exe --user-agent="Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1"\r\n\r\n\r\n　　苹果iPhone：\r\nchrome.exe --user-agent="Mozilla/5.0 (iPad; U; CPU OS 3_2_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B500 Safari/531.21.10"\r\n\r\n\r\n　　诺基亚N97：\r\nchrome.exe --user-agent="Mozilla/5.0 (SymbianOS/9.4; Series60/5.0 NokiaN97-1/20.0.019; Profile/MIDP-2.1 Configuration/CLDC-1.1) AppleWebKit/525 (KHTML, like Gecko) BrowserNG/7.1.18124"\r\n\r\n\r\n　　试一试，分别用Android、iPhone、诺基亚访问http://www.163.com/、http://blog.s135.com/、http://www.google.com.hk/、http://3g.qq.com、http://t.sina.cn这些3G手机网页，看看有什么不同。\r\n\r\n　　更多款手机的User-Agent：http://www.zytrax.com/tech/web/mobile_ids.html\r\n\r\n　　10月11日备注：如果想切换回普通浏览器模式，关掉所有Chrome浏览器，重开即可。如果不想关闭浏览器，切回普通浏览器模式，则访问：\r\nchrome.exe --user-agent="Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/534.3 (KHTML, like Gecko) Chrome/6.0.472.63 Safari/534.3"\r\n\r\n\r\n\r\nhttp://blog.s135.com/chrome_phone/', '用谷歌浏览器来当手机模拟器', '', 'publish', 'open', '2012-12-21 16:16:43', 0, 'http://xpmyblog.sinaapp.com/?p=91', 0, 'post', '', 0),
(92, 1, '2011-09-16 20:00:34', '', '用谷歌浏览器来当手机模拟器', '', 'inherit', 'open', '2011-09-16 20:00:34', 91, 'http://xpmyblog.sinaapp.com/?p=92', 0, 'revision', '', 0),
(93, 1, '2011-09-23 15:07:59', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre class="brush: js;">\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>\r\n</pre>', 'DIV层遇到FLASH不显示的问题', '', 'publish', 'open', '2012-12-21 16:25:32', 0, 'http://xpmyblog.sinaapp.com/?p=93', 0, 'post', '', 0),
(94, 1, '2011-09-23 15:07:36', '', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-09-23 15:07:36', 93, 'http://xpmyblog.sinaapp.com/?p=94', 0, 'revision', '', 0),
(95, 1, '2011-09-23 15:07:59', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-09-23 15:07:59', 93, 'http://xpmyblog.sinaapp.com/?p=95', 0, 'revision', '', 0),
(96, 1, '2011-09-23 15:10:27', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre>\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>\r\n</pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-09-23 15:10:27', 93, 'http://xpmyblog.sinaapp.com/?p=96', 0, 'revision', '', 0),
(97, 1, '2011-09-23 15:16:03', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<code>\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>\r\n</code>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-09-23 15:16:03', 93, 'http://xpmyblog.sinaapp.com/?p=97', 0, 'revision', '', 0),
(98, 1, '2011-09-23 15:19:29', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre>\r\n<code>\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>\r\n</code>\r\n</pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-09-23 15:19:29', 93, 'http://xpmyblog.sinaapp.com/?p=98', 0, 'revision', '', 0),
(100, 1, '2011-09-23 15:42:20', 'Google JavaScript Style Guide\r\nhttp://google-styleguide.mangguo.org/javascriptguide.xml\r\n\r\nGoogle JSON Style Guide\r\nhttp://google-styleguide.mangguo.org/jsoncstyleguide.xml\r\n\r\nGoogle XML Document Format Style Guide\r\nhttp://google-styleguide.mangguo.org/xmlstyle.html\r\n\r\nGoogle Python Style Guide\r\nhttp://google-styleguide.mangguo.org/pyguide.html\r\n\r\nGoogle Objective-C Style Guide\r\nhttp://google-styleguide.mangguo.org/objcguide.xml\r\n\r\nGoogle C++ Style Guide\r\nhttp://google-styleguide.mangguo.org/cppguide.xml', '来自 Google 的编程风格指南', '', 'publish', 'open', '2012-12-21 16:25:26', 0, 'http://xpmyblog.sinaapp.com/?p=100', 0, 'post', '', 0),
(101, 1, '2011-09-23 15:42:06', '', '来自 Google 的编程风格指南 ', '', 'inherit', 'open', '2011-09-23 15:42:06', 100, 'http://xpmyblog.sinaapp.com/?p=101', 0, 'revision', '', 0),
(102, 1, '2011-09-23 16:27:10', 'vim 版本 7.3 for win 环境。使用到的 VIM 插件列表：\r\n1、NERD Tree – http://www.vim.org/scripts/script.php?script_id=1658\r\n2、Zencoding – http://www.vim.org/scripts/script.php?script_id=2981\r\n3、NERD Commenter – http://www.vim.org/scripts/script.php?script_id=1218\r\n4、winmanager\r\n\r\n<pre class="brush: bash;">\r\nset nocompatible\r\nsource $VIMRUNTIME/vimrc_example.vim\r\nsource $VIMRUNTIME/mswin.vim\r\nbehave mswin\r\n\r\nset diffexpr=MyDiff()\r\nfunction MyDiff()\r\n  let opt = ''-a --binary ''\r\n  if &diffopt =~ ''icase'' | let opt = opt . ''-i '' | endif\r\n  if &diffopt =~ ''iwhite'' | let opt = opt . ''-b '' | endif\r\n  let arg1 = v:fname_in\r\n  if arg1 =~ '' '' | let arg1 = ''"'' . arg1 . ''"'' | endif\r\n  let arg2 = v:fname_new\r\n  if arg2 =~ '' '' | let arg2 = ''"'' . arg2 . ''"'' | endif\r\n  let arg3 = v:fname_out\r\n  if arg3 =~ '' '' | let arg3 = ''"'' . arg3 . ''"'' | endif\r\n  let eq = ''''\r\n  if $VIMRUNTIME =~ '' ''\r\n    if &sh =~ ''\\<cmd''\r\n      let cmd = ''""'' . $VIMRUNTIME . ''\\diff"''\r\n      let eq = ''"''\r\n    else\r\n      let cmd = substitute($VIMRUNTIME, '' '', ''" '', '''') . ''\\diff"''\r\n    endif\r\n  else\r\n    let cmd = $VIMRUNTIME . ''\\diff''\r\n  endif\r\n  silent execute ''!'' . cmd . '' '' . opt . arg1 . '' '' . arg2 . '' > '' . arg3 . eq\r\nendfunction\r\n\r\nnmap :!ctags -R *\r\n\r\n" ============================================================================\r\n" File: _vimrc\r\n" xuping, 2011\r\n" ============================================================================\r\nset autochdir               " 自动切换当前目录为当前文件所在的目录\r\nset cursorline              " 突出显示当前行\r\nset equalalways             " 分割窗口时保持相等的宽/高\r\nset nocompatible            " 关闭 vi 兼容模式\r\nset number                  " 显示行号\r\nset nobackup                " 覆盖文件时不备份\r\nset noswapfile              " 编辑时不产生交换文件\r\nset noexpandtab             " 插入 tab 符号不以空格替换\r\nset history=1000            " 设置冒号命令和搜索命令的命令历史列表的长度\r\nset autoindent              " 开启自动缩进\r\nset smartindent             " 开启新行时使用智能自动缩进\r\nset smarttab                " 开启新行时使用智能 tab 缩进\r\nset tabstop=4               " 设定 tab 长度为 4\r\nset shiftwidth=4            " 设定 << 和 >> 命令移动时的宽度为 4\r\nset showmatch               " 插入括号时，短暂地跳转到匹配的对应括号\r\n"set guifont=Bitstream_Vera_Sans_Mono:h12:b:cANSI\r\nset backspace=indent,eol,start\r\n" 不设定在插入状态无法用退格键和 Delete 键删除回车符\r\nset guioptions=t            " 隐藏菜单栏、工具栏、滚动条\r\nset ruler                   " 打开状态栏标尺\r\nset incsearch               " 输入搜索内容时就显示搜索结果\r\nset hlsearch                " 搜索时高亮显示被找到的文本\r\nset ignorecase              " 搜索时忽略大小写\r\nset fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1\r\n\r\ncolorscheme darkeclipse     " 配色方案\r\nsyntax on                   " 自动语法高亮\r\n\r\nfiletype plugin indent on\r\n\r\n"-----------------------------------------------------------------\r\n" Omni Complete 自动补全\r\n"-----------------------------------------------------------------\r\nautocmd FileType html set omnifunc=htmlcomplete#CompleteTags\r\nautocmd FileType css set omnifunc=csscomplete#CompleteCSS\r\nautocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS\r\nautocmd FileType php set omnifunc=phpcomplete#CompletePHP\r\nautocmd FileType python set omnifunc=pythoncomplete#Complete\r\n\r\nau GUIEnter * simalt ~x\r\n\r\n"-----------------------------------------------------------------\r\n" F2 工具栏和菜单栏交替切换\r\n"-----------------------------------------------------------------\r\nmap <silent> <F2> :if &guioptions =~# ''T'' <Bar>\r\n\\set guioptions-=T <Bar>\r\n\\set guioptions-=m <bar>\r\n\\else <Bar>\r\n\\set guioptions+=T <Bar>\r\n\\set guioptions+=m <Bar>\r\n\\endif<CR>\r\n\r\n"-----------------------------------------------------------------\r\n" plugin - NERD_tree.vim 以树状方式浏览系统中的文件和目录\r\n" :NERDtree 打开NERD_tree         :NERDtreeClose    关闭NERD_tree\r\n" o 打开关闭文件或者目录         t 在标签页中打开\r\n" T 在后台标签页中打开           ! 执行此文件\r\n" p 到上层目录                   P 到根目录\r\n" K 到第一个节点                 J 到最后一个节点\r\n" u 打开上层目录                 m 显示文件系统菜单（添加、删除、移动操作）\r\n" r 递归刷新当前目录             R 递归刷新当前根目录\r\n"-----------------------------------------------------------------\r\n" F3 NERDTree 切换\r\nmap <F3> :NERDTreeToggle<CR>\r\nimap <F3> <ESC>:NERDTreeToggle<CR>\r\n\r\n"-----------------------------------------------------------------\r\n" plugin - zencoding.vim 快速生成 HTML代码\r\n" CTRL+E 展开 zencoding 代码片段\r\n"-----------------------------------------------------------------\r\nlet g:user_zen_expandabbr_key = ''<c-e>''\r\nlet g:use_zen_complete_tag = 1\r\n\r\n"-----------------------------------------------------------------\r\n" plugin - NERD_commenter.vim 注释代码用的\r\n" [count],cc 光标以下count行逐行添加注释(7,cc)\r\n" [count],cu 光标以下count行逐行取消注释(7,cu)\r\n" [count],cm 光标以下count行尝试添加块注释(7,cm)\r\n" ,cA 在行尾插入 /* */,并且进入插入模式。 这个命令方便写注释\r\n" 注：count参数可选，无则默认为选中行或当前行\r\n"-----------------------------------------------------------------\r\nlet NERDSpaceDelims=1       " 让注释符与语句之间留一个空格\r\nlet NERDCompactSexyComs=1   " 多行注释时样子更好看\r\n\r\n" winmanager\r\n" 设置界面分割\r\nlet g:winManagerWindowLayout=''FileExplorer|TagList''\r\n\r\n" 设置winmanager的宽度，默认为25\r\n\r\nlet g:winManagerWidth = 30\r\n\r\n" 定义打开关闭winmanager按键\r\n\r\nnmap <F4> :WMToggle<CR>\r\n\r\n</pre>\r\n\r\n然后再把这个配色方案保存到color目录下，http://vimcolorschemetest.googlecode.com/svn/colors/darkeclipse.vim\r\nOK,看看炫不炫吧!!!\r\n\r\n\r\n', '看我的gvim _vimrc配置', '', 'publish', 'open', '2012-12-21 16:23:57', 0, 'http://xpmyblog.sinaapp.com/?p=102', 0, 'post', '', 0),
(103, 1, '2011-09-23 16:26:50', 'vim 版本 7.3 for win 环境。使用到的 VIM 插件列表：\n1、NERD Tree – http://www.vim.org/scripts/script.php?script_id=1658\n2、Zencoding – http://www.vim.org/scripts/script.php?script_id=2981\n3、NERD Commenter – http://www.vim.org/scripts/script.php?script_id=1218\n4、winmanager\n\n<pre lang="php">\nset nocompatible\nsource $VIMRUNTIME/vimrc_example.vim\nsource $VIMRUNTIME/mswin.vim\nbehave mswin\n\nset diffexpr=MyDiff()\nfunction MyDiff()\n  let opt = ''-a --binary ''\n  if &diffopt =~ ''icase'' | let opt = opt . ''-i '' | endif\n  if &diffopt =~ ''iwhite'' | let opt = opt . ''-b '' | endif\n  let arg1 = v:fname_in\n  if arg1 =~ '' '' | let arg1 = ''"'' . arg1 . ''"'' | endif\n  let arg2 = v:fname_new\n  if arg2 =~ '' '' | let arg2 = ''"'' . arg2 . ''"'' | endif\n  let arg3 = v:fname_out\n  if arg3 =~ '' '' | let arg3 = ''"'' . arg3 . ''"'' | endif\n  let eq = ''''\n  if $VIMRUNTIME =~ '' ''\n    if &sh =~ ''\\<cmd''\n      let cmd = ''""'' . $VIMRUNTIME . ''\\diff"''\n      let eq = ''"''\n    else\n      let cmd = substitute($VIMRUNTIME, '' '', ''" '', '''') . ''\\diff"''\n    endif\n  else\n    let cmd = $VIMRUNTIME . ''\\diff''\n  endif\n  silent execute ''!'' . cmd . '' '' . opt . arg1 . '' '' . arg2 . '' > '' . arg3 . eq\nendfunction\n\nnmap :!ctags -R *\n\n" ============================================================================\n" File: _vimrc\n" Last Change: 1 September, 2011\n" ============================================================================\nset autochdir               " 自动切换当前目录为当前文件所在的目录\nset cursorline              " 突出显示当前行\nset equalalways             " 分割窗口时保持相等的宽/高\nset nocompatible            " 关闭 vi 兼容模式\nset number                  " 显示行号\nset nobackup                " 覆盖文件时不备份\nset noswapfile              " 编辑时不产生交换文件\nset noexpandtab             " 插入 tab 符号不以空格替换\nset history=1000            " 设置冒号命令和搜索命令的命令历史列表的长度\nset autoindent              " 开启自动缩进\nset smartindent             " 开启新行时使用智能自动缩进\nset smarttab                " 开启新行时使用智能 tab 缩进\nset tabstop=4               " 设定 tab 长度为 4\nset shiftwidth=4            " 设定 << 和 >> 命令移动时的宽度为 4\nset showmatch               " 插入括号时，短暂地跳转到匹配的对应括号\n"set guifont=Bitstream_Vera_Sans_Mono:h12:b:cANSI\nset backspace=indent,eol,start\n" 不设定在插入状态无法用退格键和 Delete 键删除回车符\nset guioptions=t            " 隐藏菜单栏、工具栏、滚动条\nset ruler                   " 打开状态栏标尺\nset incsearch               " 输入搜索内容时就显示搜索结果\nset hlsearch                " 搜索时高亮显示被找到的文本\nset ignorecase              " 搜索时忽略大小写\nset fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1\n\ncolorscheme darkeclipse     " 配色方案\nsyntax on                   " 自动语法高亮\n\nfiletype plugin indent on\n\n"-----------------------------------------------------------------\n" Omni Complete 自动补全\n"-----------------------------------------------------------------\nautocmd FileType html set omnifunc=htmlcomplete#CompleteTags\nautocmd FileType css set omnifunc=csscomplete#CompleteCSS\nautocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS\nautocmd FileType php set omnifunc=phpcomplete#CompletePHP\nautocmd FileType python set omnifunc=pythoncomplete#Complete\n\nau GUIEnter * simalt ~x\n\n"-----------------------------------------------------------------\n" F2 工具栏和菜单栏交替切换\n"-----------------------------------------------------------------\nmap <silent> <F2> :if &guioptions =~# ''T'' <Bar>\n\\set guioptions-=T <Bar>\n\\set guioptions-=m <bar>\n\\else <Bar>\n\\set guioptions+=T <Bar>\n\\set guioptions+=m <Bar>\n\\endif<CR>\n\n"-----------------------------------------------------------------\n" plugin - NERD_tree.vim 以树状方式浏览系统中的文件和目录\n" :NERDtree 打开NERD_tree         :NERDtreeClose    关闭NERD_tree\n" o 打开关闭文件或者目录         t 在标签页中打开\n" T 在后台标签页中打开           ! 执行此文件\n" p 到上层目录                   P 到根目录\n" K 到第一个节点                 J 到最后一个节点\n" u 打开上层目录                 m 显示文件系统菜单（添加、删除、移动操作）\n" r 递归刷新当前目录             R 递归刷新当前根目录\n"-----------------------------------------------------------------\n" F3 NERDTree 切换\nmap <F3> :NERDTreeToggle<CR>\nimap <F3> <ESC>:NERDTreeToggle<CR>\n\n"-----------------------------------------------------------------\n" plugin - zencoding.vim 快速生成 HTML代码\n" CTRL+E 展开 zencoding 代码片段\n"-----------------------------------------------------------------\nlet g:user_zen_expandabbr_key = ''<c-e>''\nlet g:use_zen_complete_tag = 1\n\n"-----------------------------------------------------------------\n" plugin - NERD_commenter.vim 注释代码用的\n" [count],cc 光标以下count行逐行添加注释(7,cc)\n" [count],cu 光标以下count行逐行取消注释(7,cu)\n" [count],cm 光标以下count行尝试添加块注释(7,cm)\n" ,cA 在行尾插入 /* */,并且进入插入模式。 这个命令方便写注释\n" 注：count参数可选，无则默认为选中行或当前行\n"-----------------------------------------------------------------\nlet NERDSpaceDelims=1       " 让注释符与语句之间留一个空格\nlet NERDCompactSexyComs=1   " 多行注释时样子更好看\n\n" winmanager\n" 设置界面分割\nlet g:winManagerWindowLayout=''FileExplorer|TagList''\n\n" 设置winmanager的宽度，默认为25\n\nlet g:winManagerWidth = 30\n\n" 定义打开关闭winmanager按键\n\nnmap <F4> :WMToggle<CR>\n\n</pre>\n\n然后再把这个配色方案保存到color目录下，http://vimcolorschemetest.googlecode.com/svn/colors/darkeclipse.vim\nOK,看看炫不炫吧!!!\n\n\n\n', '看我的gvim _vimrc配置', '', 'inherit', 'open', '2011-09-23 16:26:50', 102, 'http://xpmyblog.sinaapp.com/?p=103', 0, 'revision', '', 0),
(104, 1, '2011-09-23 16:38:00', '越来越多的站点开始使用 HTML5 标签了（包括淘宝也在滥用 HTML5 哈哈），好还是不好很难说。至少对于富 JavaScript 应用来说，使用 JavaScript 来解决 IE 下不支持 HTML5 的现状是最为可靠的。\r\n\r\nIE 下比较广泛的 HTML5 标签支持方案是使用 html5shim，其使用方法如下：\r\n<pre class="brush: html;">\r\n<!--[if lt IE 9]>\r\n<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>\r\n<![endif]-->\r\n</pre>\r\n关于条件注释的参考资料：http://msdn.microsoft.com/en-us/library/ms537512.aspx\r\n\r\nWordPress 也可以通过在 header.php 文件添加这段代码的方法实现。或者使用 functions.php 文件也可以：\r\n\r\n找到当前主题对应的 functions.php 文件，并添加如下代码：\r\n<pre class="brush: php;">\r\nfunction add_ie_html5_shim () {\r\n    echo ''<!--[if lt IE 9]>'';\r\n    echo ''<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>'';\r\n    echo ''<![endif]-->'';\r\n}\r\nadd_action(''wp_head'', ''add_ie_html5_shim'');\r\n</pre>\r\n原理是通过 header.php 文件中的 wp_head() 函数强行插入。', '为 WordPress 开启 HTML5 支持', '', 'publish', 'open', '2012-12-21 16:20:38', 0, 'http://xpmyblog.sinaapp.com/?p=104', 0, 'post', '', 0),
(105, 1, '2011-09-23 16:37:11', '', '为 WordPress 开启 HTML5 支持 ', '', 'inherit', 'open', '2011-09-23 16:37:11', 104, 'http://xpmyblog.sinaapp.com/?p=105', 0, 'revision', '', 0),
(106, 1, '2011-09-23 17:03:44', '1、自动移除字符串中的 HTML 标记\r\n\r\n在用户表单中，你可能希望移除所有不必要的 HTML 标记。使用 strip_tags() 函数可以简单地做到这一点：\r\n<pre class="brush: php;">\r\n$text = strip_tags($input, "");\r\n</pre>\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\r\n\r\n2、获取 $start 和 $end 之间的文本\r\n\r\n这是一种每个网站开发人员应该收纳在开发工具箱的功能：给定一个字符串，一个起始位置，一个结束为止，并返回包含在 $start 和 $end 两者之间的文本。\r\n<pre class="brush: php;">\r\nfunction GetBetween($content,$start,$end){\r\n    $r = explode($start, $content);\r\n    if (isset($r[1])){\r\n        $r = explode($end, $r[1]);\r\n        return $r[0];\r\n    }\r\n    return '''';\r\n}\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/get-between.htm\r\n\r\n3、将 URL 转换为超链接\r\n\r\n如果你在 WordPress 博客的评论表单中添加了 URL，它会被自动转换为超级链接。如果你想要在网站上实现同样的功能，可以使用以下代码：\r\n<pre class="brush: php;">\r\n$url = "芒果 (http://www.mangguo.org)";\r\n$url = preg_replace("#http://([A-z0-9./-]+)#", ''$0'', $url);\r\n</pre>\r\n\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\r\n\r\n4、将文本分割为 140 字符的数组\r\n\r\n大家都知道，Twitter 仅仅接受 140 字符以内的消息。如果你希望与这个流行的即时信息网站交互，肯定会喜欢这个功能，这将允许对留言截断为 140 个字符。\r\n<pre class="brush: php;">\r\nfunction split_to_chunks($to,$text){\r\n	$total_length = (140 - strlen($to));\r\n	$text_arr = explode(" ",$text);\r\n	$i=0;\r\n	$message[0]="";\r\n	foreach ($text_arr as $word){\r\n		if ( strlen($message[$i] . $word . '' '') <= $total_length ){\r\n			if ($text_arr[count($text_arr)-1] == $word){\r\n				$message[$i] .= $word;\r\n			} else {\r\n				$message[$i] .= $word . '' '';\r\n			}\r\n		} else {\r\n			$i++;\r\n			if ($text_arr[count($text_arr)-1] == $word){\r\n				$message[$i] = $word;\r\n			} else {\r\n				$message[$i] = $word . '' '';\r\n			}\r\n		}\r\n	}\r\n	return $message;\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=31648\r\n\r\n5、从字符串中移除 URL\r\n\r\n为了获得流量或者反向链接，很多访客会发布大量含有网址信息的博客评论，这个代码片段可以对其进行有效防范：\r\n<pre class="brush: php;">\r\n$string = preg_replace(''/\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|$!:,.;]*[A-Z0-9+&@#\\/%=~_|$]/i'', '''', $string);\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=15236\r\n\r\n6、转换字符串为缩略标题\r\n\r\n创建缩略标题（通常称之为 permalink，即固定链接）有利于 SEO，以下函数以一个字符串作为参数，并返回良好的缩略字符串。简洁有效，值得尝试！\r\n<pre class="brush: php;">\r\nfunction slug($str){\r\n	$str = strtolower(trim($str));\r\n	$str = preg_replace(''/[^a-z0-9-]/'', ''-'', $str);\r\n	$str = preg_replace(''/-+/'', "-", $str);\r\n	return $str;\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=2809\r\n\r\n7、解析 CSV 文件\r\n\r\nCSV（逗号分隔的值文件）是存储数据的简单方式，使用 PHP 解析也很容易。不信你可以动手试试以下代码片段。\r\n<pre class="brush: php;">\r\n$fh = fopen("contacts.csv", "r");\r\nwhile($line = fgetcsv($fh, 1000, ",")) {\r\n    echo "Contact: {$line[1]}";\r\n}\r\n</pre>\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=1\r\n\r\n8、检索字符串中的另一个字符串\r\n\r\n如果某个字符串包含在另一个字符串中，并且必须检索出来，这里有一个绝妙的方法：\r\n<pre class="brush: php;">\r\nfunction contains($str, $content, $ignorecase=true){\r\n    if ($ignorecase){\r\n        $str = strtolower($str);\r\n        $content = strtolower($content);\r\n    }\r\n    return strpos($content,$str) ? true : false;\r\n}\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/contains.htm\r\n\r\n9、检测某个字符串是否以指定的模式开始\r\n\r\n有些语言比如 Java 具有一个 startWith 方法，允许你检测某个字符串是否以指定的模式开始。不幸的是，PHP 不具备这种内建函数。但我们可以自己动手丰衣足食，实现也很简单：\r\n<pre class="brush: php;">\r\nfunction String_Begins_With($needle, $haystack {\r\n    return (substr($haystack, 0, strlen($needle))==$needle);\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=2143\r\n\r\n10、从字符串中提取电子邮件地址\r\n\r\n有没有想过那些发垃圾邮件的人是如何得到邮件地址的？这很简单，他们只需对网页进行简单的 HTML 解析即可提取电子邮件。此代码需要一个字符串作为参数，并打印所包含的电子邮件地址。芒果告诫：请勿使用此代码制造垃圾邮件！\r\n<pre class="brush: php;">\r\nfunction extract_emails($str){\r\n    // This regular expression extracts all emails from a string:\r\n    $regexp = ''/([a-z0-9_\\.\\-])+\\@(([a-z0-9\\-])+\\.)+([a-z0-9]{2,4})+/i'';\r\n    preg_match_all($regexp, $str, $m);\r\n\r\n    return isset($m[0]) ? $m[0] : array();\r\n}\r\n\r\n$test_string = ''This is a test string...\r\n\r\n        test1@example.org\r\n\r\n        Test different formats:\r\n        test2@example.org;\r\n        <a href="test3@example.org">foobar</a>\r\n        <test4@example.org>\r\n\r\n        strange formats:\r\n        test5@example.org\r\n        test6[at]example.org\r\n        test7@example.net.org.com\r\n        test8@ example.org\r\n        test9@!foo!.org\r\n\r\n        foobar\r\n'';\r\n\r\nprint_r(extract_emails($test_string));\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/extract-emails.htm\r\n', '10+ 字符串相关的 PHP 代码片段', '', 'publish', 'open', '2012-12-21 16:20:34', 0, 'http://xpmyblog.sinaapp.com/?p=106', 0, 'post', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(107, 1, '2011-09-23 17:03:38', '1、自动移除字符串中的 HTML 标记\n\n在用户表单中，你可能希望移除所有不必要的 HTML 标记。使用 strip_tags() 函数可以简单地做到这一点：\n<pre lang="php">\n$text = strip_tags($input, "");\n</pre>\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\n\n2、获取 $start 和 $end 之间的文本\n\n这是一种每个网站开发人员应该收纳在开发工具箱的功能：给定一个字符串，一个起始位置，一个结束为止，并返回包含在 $start 和 $end 两者之间的文本。\n<pre lang="php">\nfunction GetBetween($content,$start,$end){\n    $r = explode($start, $content);\n    if (isset($r[1])){\n        $r = explode($end, $r[1]);\n        return $r[0];\n    }\n    return '''';\n}\n</pre>\n来源：http://www.jonasjohn.de/snippets/php/get-between.htm\n\n3、将 URL 转换为超链接\n\n如果你在 WordPress 博客的评论表单中添加了 URL，它会被自动转换为超级链接。如果你想要在网站上实现同样的功能，可以使用以下代码：\n<pre lang="php">\n$url = "芒果 (http://www.mangguo.org)";\n$url = preg_replace("#http://([A-z0-9./-]+)#", ''$0'', $url);\n</pre>\n\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\n\n4、将文本分割为 140 字符的数组\n\n大家都知道，Twitter 仅仅接受 140 字符以内的消息。如果你希望与这个流行的即时信息网站交互，肯定会喜欢这个功能，这将允许对留言截断为 140 个字符。\n<pre lang="php">\nfunction split_to_chunks($to,$text){\n	$total_length = (140 - strlen($to));\n	$text_arr = explode(" ",$text);\n	$i=0;\n	$message[0]="";\n	foreach ($text_arr as $word){\n		if ( strlen($message[$i] . $word . '' '') <= $total_length ){\n			if ($text_arr[count($text_arr)-1] == $word){\n				$message[$i] .= $word;\n			} else {\n				$message[$i] .= $word . '' '';\n			}\n		} else {\n			$i++;\n			if ($text_arr[count($text_arr)-1] == $word){\n				$message[$i] = $word;\n			} else {\n				$message[$i] = $word . '' '';\n			}\n		}\n	}\n	return $message;\n}\n</pre>\n来源：http://snipplr.com/view.php?codeview&id=31648\n\n5、从字符串中移除 URL\n\n为了获得流量或者反向链接，很多访客会发布大量含有网址信息的博客评论，这个代码片段可以对其进行有效防范：\n<pre lang="php">\n$string = preg_replace(''/\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|$!:,.;]*[A-Z0-9+&@#\\/%=~_|$]/i'', '''', $string);\n</pre>\n来源：http://snipplr.com/view.php?codeview&id=15236\n\n6、转换字符串为缩略标题\n\n创建缩略标题（通常称之为 permalink，即固定链接）有利于 SEO，以下函数以一个字符串作为参数，并返回良好的缩略字符串。简洁有效，值得尝试！\n<pre lang="php">\nfunction slug($str){\n	$str = strtolower(trim($str));\n	$str = preg_replace(''/[^a-z0-9-]/'', ''-'', $str);\n	$str = preg_replace(''/-+/'', "-", $str);\n	return $str;\n}\n</pre>\n来源：http://snipplr.com/view.php?codeview&id=2809\n\n7、解析 CSV 文件\n\nCSV（逗号分隔的值文件）是存储数据的简单方式，使用 PHP 解析也很容易。不信你可以动手试试以下代码片段。\n<pre lang="php">\n$fh = fopen("contacts.csv", "r");\nwhile($line = fgetcsv($fh, 1000, ",")) {\n    echo "Contact: {$line[1]}";\n}\n</pre>\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=1\n\n8、检索字符串中的另一个字符串\n\n如果某个字符串包含在另一个字符串中，并且必须检索出来，这里有一个绝妙的方法：\n<pre lang="php">\nfunction contains($str, $content, $ignorecase=true){\n    if ($ignorecase){\n        $str = strtolower($str);\n        $content = strtolower($content);\n    }\n    return strpos($content,$str) ? true : false;\n}\n</pre>\n来源：http://www.jonasjohn.de/snippets/php/contains.htm\n\n9、检测某个字符串是否以指定的模式开始\n\n有些语言比如 Java 具有一个 startWith 方法，允许你检测某个字符串是否以指定的模式开始。不幸的是，PHP 不具备这种内建函数。但我们可以自己动手丰衣足食，实现也很简单：\n<pre lang="php">\nfunction String_Begins_With($needle, $haystack {\n    return (substr($haystack, 0, strlen($needle))==$needle);\n}\n</pre>\n来源：http://snipplr.com/view.php?codeview&id=2143\n\n10、从字符串中提取电子邮件地址\n\n有没有想过那些发垃圾邮件的人是如何得到邮件地址的？这很简单，他们只需对网页进行简单的 HTML 解析即可提取电子邮件。此代码需要一个字符串作为参数，并打印所包含的电子邮件地址。芒果告诫：请勿使用此代码制造垃圾邮件！\n<pre lang="php">\nfunction extract_emails($str){\n    // This regular expression extracts all emails from a string:\n    $regexp = ''/([a-z0-9_\\.\\-])+\\@(([a-z0-9\\-])+\\.)+([a-z0-9]{2,4})+/i'';\n    preg_match_all($regexp, $str, $m);\n\n    return isset($m[0]) ? $m[0] : array();\n}\n\n$test_string = ''This is a test string...\n\n        test1@example.org\n\n        Test different formats:\n        test2@example.org;\n        <a href="test3@example.org">foobar</a>\n        <test4@example.org>\n\n        strange formats:\n        test5@example.org\n        test6[at]example.org\n        test7@example.net.org.com\n        test8@ example.org\n        test9@!foo!.org\n\n        foobar\n'';\n\nprint_r(extract_emails($test_string));\n\n</pre>\n来源：http://www.jonasjohn.de/snippets/php/extract-emails.htm\n\n', '10+ 字符串相关的 PHP 代码片段', '', 'inherit', 'open', '2011-09-23 17:03:38', 106, 'http://xpmyblog.sinaapp.com/?p=107', 0, 'revision', '', 0),
(108, 1, '2011-09-23 18:44:01', '第一种：curl\r\n<pre class="brush: php;">\r\n$url = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\r\n\r\n$filename = ''curl.gif'';\r\n\r\ngetImg($url, $filename);\r\n\r\n/*\r\n  *@通过curl方式获取制定的图片到本地\r\n  *@ 完整的图片地址\r\n  *@ 要存储的文件名\r\n */\r\nfunction getImg($url = "", $filename = "") {\r\n	if(is_dir(basename($filename))) {\r\n		echo "The Dir was not exits";\r\n		Return false;\r\n	}\r\n	//去除URL连接上面可能的引号\r\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\r\n\r\n	$hander = curl_init();\r\n	$fp = fopen($filename,''wb'');\r\n\r\n	curl_setopt($hander,CURLOPT_URL,$url);\r\n	curl_setopt($hander,CURLOPT_FILE,$fp);\r\n	curl_setopt($hander,CURLOPT_HEADER,0);\r\n	curl_setopt($hander,CURLOPT_FOLLOWLOCATION,1);\r\n	//curl_setopt($hander,CURLOPT_RETURNTRANSFER,false);//以数据流的方式返回数据,当为false是直接显示出来\r\n	curl_setopt($hander,CURLOPT_TIMEOUT,60);\r\n\r\n	/*$options = array(\r\n		CURLOPT_URL=> ''http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif'',\r\n		CURLOPT_FILE => $fp,\r\n		CURLOPT_HEADER => 0,\r\n		CURLOPT_FOLLOWLOCATION => 1,\r\n		CURLOPT_TIMEOUT => 60\r\n	);\r\n	curl_setopt_array($hander, $options);\r\n	*/\r\n\r\n	curl_exec($hander);\r\n	curl_close($hander);\r\n	fclose($fp);\r\n	Return true;\r\n}\r\n</pre>\r\n第二种：sockets\r\n<pre class="brush: php;">\r\n\r\n$a = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\r\n\r\n$local = ''socket1.gif'';\r\n\r\n$aa = getImg($a,$local);\r\n\r\n/*\r\n  *@ 完整的图片地址\r\n  *@ 要存储的文件名\r\n */\r\nfunction getImg( $url = "", $filename = "" ) {\r\n	if(is_dir(basename($filename))) {\r\n		echo "The Dir was not exits";\r\n		Return false;\r\n	}\r\n	//去除URL连接上面可能的引号\r\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\r\n	if (!extension_loaded(''sockets'')) return false;\r\n	//获取url各相关信息\r\n	preg_match( ''/http:\\/\\/([^\\/\\:]+(\\:\\d{1,5})?)(.*)/i'', $url, $matches );\r\n	if (!$matches) return false;\r\n	$sock = socket_create( AF_INET, SOCK_STREAM, SOL_TCP );\r\n	if ( !@socket_connect( $sock, $matches[1], $matches[2] ? substr($matches[2], 1 ) : 80 ) ) {\r\n		return false;\r\n	}\r\n	//图片的相对地址\r\n	$msg = ''GET '' . $matches[3] . " HTTP/1.1\\r\\n";\r\n	//主机名称\r\n	$msg .= ''Host: '' . $matches[1] . "\\r\\n";\r\n	$msg .= ''Connection: Close'' . "\\r\\n\\r\\n";\r\n	socket_write( $sock, $msg );\r\n	$bin = '''';\r\n	while ( $tmp = socket_read( $sock, 10 ) ) {\r\n		$bin .= $tmp;\r\n		$tmp = '''';\r\n	}\r\n	$bin = explode("\\r\\n\\r\\n", $bin);\r\n	$img = $bin[1];\r\n	$h = fopen( $filename, ''wb'' );\r\n	$res = fwrite( $h, $img ) === false ? false : true;\r\n	@socket_close( $sock );\r\n	Return $res;\r\n}\r\n</pre>', 'PHP获取远程图片的两种简单方式', '', 'publish', 'open', '2012-12-21 16:20:29', 0, 'http://xpmyblog.sinaapp.com/?p=108', 0, 'post', '', 0),
(109, 1, '2011-09-23 18:43:26', '第一种：curl\n<pre lang="php">\n<?php\n\n$url = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\n\n$filename = ''curl.gif'';\n\ngetImg($url, $filename);\n\n/*\n  *@通过curl方式获取制定的图片到本地\n  *@ 完整的图片地址\n  *@ 要存储的文件名\n */\nfunction getImg($url = "", $filename = "") {\n	if(is_dir(basename($filename))) {\n		echo "The Dir was not exits";\n		Return false;\n	}\n	//去除URL连接上面可能的引号\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\n\n	$hander = curl_init();\n	$fp = fopen($filename,''wb'');\n\n	curl_setopt($hander,CURLOPT_URL,$url);\n	curl_setopt($hander,CURLOPT_FILE,$fp);\n	curl_setopt($hander,CURLOPT_HEADER,0);\n	curl_setopt($hander,CURLOPT_FOLLOWLOCATION,1);\n	//curl_setopt($hander,CURLOPT_RETURNTRANSFER,false);//以数据流的方式返回数据,当为false是直接显示出来\n	curl_setopt($hander,CURLOPT_TIMEOUT,60);\n\n	/*$options = array(\n		CURLOPT_URL=> ''http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif'',\n		CURLOPT_FILE => $fp,\n		CURLOPT_HEADER => 0,\n		CURLOPT_FOLLOWLOCATION => 1,\n		CURLOPT_TIMEOUT => 60\n	);\n	curl_setopt_array($hander, $options);\n	*/\n\n	curl_exec($hander);\n	curl_close($hander);\n	fclose($fp);\n	Return true;\n}\n?>\n</pre>\n第二种：\n', 'PHP获取远程图片的两种简单方式', '', 'inherit', 'open', '2011-09-23 18:43:26', 108, 'http://xpmyblog.sinaapp.com/?p=109', 0, 'revision', '', 0),
(110, 1, '2011-09-23 19:41:20', '<pre class="brush: php;">\r\nheader(''refresh:3;url=http://a.com'');\r\nprint(''正在加载，请稍等…<br>三秒后自动跳转~~~'');\r\n</pre>\r\n\r\n这个以前还真没注意到', 'PHP定时跳转', '', 'publish', 'open', '2012-12-21 16:20:24', 0, 'http://xpmyblog.sinaapp.com/?p=110', 0, 'post', '', 0),
(111, 1, '2011-09-23 19:40:48', '<pre lang="php">\nheader("refresh:3;url=http://axgle.za.net");\nprint(‘正在加载，请稍等…<br>三秒后自动跳转~~~’);\n</pre>', 'PHP定时跳转', '', 'inherit', 'open', '2011-09-23 19:40:48', 110, 'http://xpmyblog.sinaapp.com/?p=111', 0, 'revision', '', 0),
(115, 1, '2011-09-25 13:49:08', 'http://www.sourcejoy.com/it/develop-girl-s-twitter.html\r\n网上看到的，一个女程序员twitter上发了一条tweet，广大淫民的创意真是相当给力呀。\r\n程序员MM的tweet内容：\r\n昨晚梦见男朋友和别的女人在逛街，梦里我的第一反应是查源代码…结果调试半天查不出来为什么显示的是那个女人不是我，最后含泪把那个女人给注释掉了，再一运行就是我男朋友自己逛街了…醒来囧字脸呆了很久…囧rz \r\n\r\n评论： \r\n1L \r\n把那个女人的指针指向你即可 \r\n2L \r\n谁让你把男朋友设成public的 \r\n3L \r\n加个断点看看那女人是谁 \r\n4L \r\n心真软，就该把他的接口屏蔽掉。//是我想多了么 \r\n5L \r\nprotected 逛街(youOnly) \r\n6L \r\n设计问题，应该采用单例模式 \r\n7L \r\n没做回归测试 \r\n8L \r\n标准做法是做个断言 \r\n9L \r\n注释掉了逛街的参数不用改么 \r\n10L \r\n不要忘记GC谢谢 \r\n11L \r\n查一下Log，只逛街了吗/. \r\n\r\n**看到一个最狠的回复： \r\n\r\n恩，上绝招，用goto，做个死循环，让他们逛死\r\n\r\n12L\r\n哈，是系统安全性没做好吧。被那个女人入侵了~~\r\n', '一个女程序员twitter上发了一条tweet', '', 'publish', 'open', '2012-12-21 16:16:32', 0, 'http://xpmyblog.sinaapp.com/?p=115', 0, 'post', '', 0),
(116, 1, '2011-09-25 13:48:34', '', '一个女程序员twitter上发了一条tweet', '', 'inherit', 'open', '2011-09-25 13:48:34', 115, '', 0, 'revision', '', 0),
(117, 1, '2011-09-25 21:46:27', '1.学生课间去厕所，拉完发现没带纸，又等不到人，手机又欠费。绝望中他给10086打电话，请求帮助。。。据说那边沉默了很久，后来……他班同学上课时收到了这样一条短信：尊敬的中国移动用户你好，你的同学谁谁谁在厕所里，让你给他送手纸。详情请咨询10086\r\n\r\n2.寝室在6楼，爬上来后发现钥匙未带，下楼问阿姨拿，再爬上来开门，下去还钥匙，再爬上来，发现门紧闭，隔壁一同学经过，问曰“看你门没关，我帮你关了。”…\r\n\r\n3.晚上我女朋友说我太娘了，我很火大，就跟她吵起来了，本来是想显得男人一点，结果最后控制不住哭起来了。\r\n\r\n4.一哥们鼓起勇气在QQ上向MM深情表白，一会儿MM回复：我是她的妈妈，我是来偷菜的\r\n\r\n5.课堂上老师点名：“刘华!” 结果下面一孩子大声回到：“yeah!” 老师很生气：“为什么不说‘到’？” 孩子说：“那个字念‘烨’……”。\r\n\r\n6.这天突然发现，我有大姨，二姨，四姨，五姨，却没有三姨。于是就去问我爸：为什么我没有三姨？ 心里还想了一下：难道三姨在小的时候就死了？ 我爸说：你三姨就是你妈！\r\n\r\n7.有一次下课打铃大家都要回家，下楼梯时我左脚踩到自己右脚，“啪”的以大字型的姿势摔在了路中央..我当时就想：不对，糗大了，我装晕。 \r\n　　结果我旁边的同学看我一动不动，赶紧扶起我，然后左右开打狂扇我耳光...\r\n\r\n8.一个同学，他的电脑每天早上会自动开机（估计是因为宿舍里早上来电的时候一瞬间冲开的）。 \r\n　　结果他老人家拿了一个符贴在了电脑上。。。\r\n\r\n9.老爸最看不惯外国歌星。可是有一天，我正在看迈克˙杰克逊的mtv时，赫然发现老爸站在后面看，一脸深思的表情。“爸爸，你也喜欢看这个？”\r\n　　\r\n　　老爸摇了摇头：“毛阿敏真是越来越难看了。”\r\n\r\n19.一个女性朋友和一个男性gay合租房子。有一天晚上她很沮丧，那个gay很体贴地给她下了碗面。她突然觉得很温馨，就说：“要不我们就这么凑合过过算了。”没想到gay脸色大变：‘你没男人要，我可有的！” \r\n　　　　 …………\r\n\r\n20.昨天收到一条QQ请求加好友的信息：“我是你妈”，我当即回了句“我是你爹！”，给拒绝了，然后就接到我妈电话说：“加我，快！”\r\n\r\n21.某日，体育课中途，洗手间解决个人问题。结果着急误进男厕。看到一男生正在小便池嘘嘘，俺当时就蒙了，一秒过后正准备悄悄撤退，结果被发现，晕死。只见那男生大叫一声“流氓，非礼”然后双手捂胸。后来，后来俺说了一句自己都觉得不可思议的话“同学，你捂错地方了……”\r\n\r\n22.喝的晕晕乎乎去一个餐厅卫生间小便，看见墙上写着一句话，凑近了一看，写着：“不要看这儿，专心尿尿。”等我看完这句话后，已经尿了自己一鞋了。\r\n\r\n23.我是救护医生，今天一个病人对我说他只有6个月好活了，我想说点鼓励的话!安慰到：六个月，很快就过去了，坚康?\r\n\r\n26.有一次我去漫吧租了本金田一，刚看到第二页就泪流满面，不知哪个天杀的用蓝色圆珠笔在某个人物上画了一个圈，写上，这个就是凶手……\r\n\r\n27.下午上公交车，拿出公交卡咣当投进投币孔里了\r\n\r\n28.一时兴起、拿自己照片当电脑桌面…然后我的电脑就中毒了…\r\n\r\n29. 高中一同学说梦话\r\n　　“爱妃，爱妃，不要离开朕”\r\n　　我石化……\r\n　　过一会\r\n　　“堂堂大清国就这么灭亡了，朕不甘心呐，朕不甘心呐”\r\n　　我直接崩溃……\r\n\r\n30. 我们数学老师总喜欢故作幽默的说些个没人笑的笑话\r\n　　我们全班就商量恶搞他一把，等他上课说第一句话的时候，我们就全体齐声大笑\r\n　　那天他进来，沉默了一下 说他爸去世了\r\n　　我立刻放声大笑，其他人鸦雀无声。\r\n\r\n31. 我在公交车上放了一个屁，\r\n　　见身边的纷纷挥手，表情痛苦，\r\n　　我也挥挥手。\r\n　　旁边的女士扭过头对我说：你就不要装了\r\n\r\n32.我和老婆去卧佛寺游玩，老婆路上走不动，于是我背她。\r\n　　一个老婆婆看见了，严肃的说：看你也是读过书的人。老婆有病还是早点去医院，拜佛是没用的\r\n\r\n33.小学时候每天只有几毛钱的零花钱，有一次攒了几天，好不容易买了一包五香瓜子，上课的时候偷偷的全磕了，瓜子壳全放在课桌抽屉了， \r\n　　　　下午来上课的时候看着瓜子壳又馋了，于是把瓜子壳又放到嘴里都含了一遍，感觉味道好好啊。。\r\n　　　　下课的时候一个同学问我吃什么，我只好说吃瓜子壳，专门买的五香瓜子壳，只有壳没有肉的，就是吃味道的。。结果那一个下午一帮子同学围在我座位边上吃我舔过两遍的瓜子壳。。。。\r\n\r\n36.逛超市呢 看到一收款员在很认真数一堆硬币 一小孩跑过，边跑边唱：门前大桥下游过一群鸭，快来快来数一数，二四六七八。。。。 然后收款员很郁闷的把数了一半的硬币倒回去重数....\r\n\r\n37.我们以前宿舍有个娃（男的），老实的有点当（笨），而且有时候傻得可爱。有一次晚上熄灯后，大家又在聊天，他就讲，等老子有钱了，就找三个女生。我们口味就被他调起来了，问他说然后呢，只见他镇定的说，打麻将…\r\n\r\n38.跟一姐姐聊天 她说：前天我老板，一个男的，和真懂似的，在我的电脑后面看半天，说“小柯，你也种菜啊？这可是上班时间！” 我收了收瓜子皮，，，瞅瞅他说“张总，这是我的桌面，你见哪块菜地上站着超级玛利呢？”\r\n\r\n39.楼下送葬队在吹《常回家看看》 \r\n　　不知道那家人怎么想的\r\n\r\n41.想起大学的一件事情来 \r\n　　大学期末考试，试卷上要求填写考号 \r\n　　我TMD写上QQ号码了\r\n\r\n42.我初中的班主任特别凶，每周五放学前都要开班会训话。一次，她情到激动处，义正词严地说，“你们怎么这么不争气，为了这个班，我绞尽奶汁”。当时我和周围几个同学强忍着不敢笑，只好把头深深的埋下。记得一个哥们趴在课桌上，使劲咬着手。。。\r\n\r\n46.宿舍哥们暴强，一日发现蚊帐里有只蚊子，忙活抓了半天没抓到，哥们叹口气说：“妈的，饿死你！”然后迅速把蚊帐收了起来，忍了好几天没挂蚊帐，最后终于把蚊子给饿死了，我们那个汗呀~~~~~这个不算什么对吧，很多人干过。 \r\n一**又发现蚊帐里竟然飞进一只苍蝇，跟我们说：“我非弄死他”。我们说：“苍蝇可是耐饿呀，看来你是靠不过他的”。 \r\n　　“你们看吧 ”，这人抄起一本小说钻进蚊帐，封口。边看小说边不停的挥动扇子，就是不让苍蝇落地，结果两个小时后，苍蝇终于飞不动了。他凑过去捅了捅苍蝇说：“飞呀小样，爷书还没看够呢”\r\n\r\n47.记得有次和爸妈去游泳馆，刚进大门的时候就看见一个社会青年的纹了一身的活，剃个“青皮”头，脖子上还戴个大金链子！等我们下水适应温度的时候就看那哥哥大摇大摆走过来往水里一站，天雷的事发生了。。。他脖子上那好粗好粗的大金链子浮在水面上。。。。。\r\n\r\n48.2009年7月22日，我在一个BBS上见一个哥们说：“TMD，原来日食是在白天，害老子白等了一宿.&quot;\r\n\r\n50.弟弟乘坐公共汽车时，车上一漂亮姑娘总是打量他。弟弟心想：姑娘可能对自己有意思，不禁心理美滋滋的。姑娘到站下车。弟弟见状马上跟了下去。姑娘在前面走着，还不时地回头看。弟弟鼓足勇气跑上前，不无幽默地搭讪道：“小姐，你为什么总看我？是不是我脸上有饭粒儿呀？”姑娘瞪了他一眼说：“你有病啊？明知道还不擦。” ', '有时候看看笑话，会让心情变好！', '', 'publish', 'open', '2012-12-21 16:16:26', 0, 'http://xpmyblog.sinaapp.com/?p=117', 0, 'post', '', 0),
(118, 1, '2011-09-25 21:46:15', '1.学生课间去厕所，拉完发现没带纸，又等不到人，手机又欠费。绝望中他给10086打电话，请求帮助。。。据说那边沉默了很久，后来……他班同学上课时收到了这样一条短信：尊敬的中国移动用户你好，你的同学谁谁谁在厕所里，让你给他送手纸。详情请咨询10086\n\n2.寝室在6楼，爬上来后发现钥匙未带，下楼问阿姨拿，再爬上来开门，下去还钥匙，再爬上来，发现门紧闭，隔壁一同学经过，问曰“看你门没关，我帮你关了。”…\n\n3.晚上我女朋友说我太娘了，我很火大，就跟她吵起来了，本来是想显得男人一点，结果最后控制不住哭起来了。\n\n4.一哥们鼓起勇气在QQ上向MM深情表白，一会儿MM回复：我是她的妈妈，我是来偷菜的\n\n5.课堂上老师点名：“刘华!” 结果下面一孩子大声回到：“yeah!” 老师很生气：“为什么不说‘到’？” 孩子说：“那个字念‘烨’……”。\n\n6.这天突然发现，我有大姨，二姨，四姨，五姨，却没有三姨。于是就去问我爸：为什么我没有三姨？ 心里还想了一下：难道三姨在小的时候就死了？ 我爸说：你三姨就是你妈！\n\n7.有一次下课打铃大家都要回家，下楼梯时我左脚踩到自己右脚，“啪”的以大字型的姿势摔在了路中央..我当时就想：不对，糗大了，我装晕。 \n　　结果我旁边的同学看我一动不动，赶紧扶起我，然后左右开打狂扇我耳光...\n\n8.一个同学，他的电脑每天早上会自动开机（估计是因为宿舍里早上来电的时候一瞬间冲开的）。 \n　　结果他老人家拿了一个符贴在了电脑上。。。\n\n9.老爸最看不惯外国歌星。可是有一天，我正在看迈克˙杰克逊的mtv时，赫然发现老爸站在后面看，一脸深思的表情。“爸爸，你也喜欢看这个？”\n　　\n　　老爸摇了摇头：“毛阿敏真是越来越难看了。”\n\n19.一个女性朋友和一个男性gay合租房子。有一天晚上她很沮丧，那个gay很体贴地给她下了碗面。她突然觉得很温馨，就说：“要不我们就这么凑合过过算了。”没想到gay脸色大变：‘你没男人要，我可有的！” \n　　　　 …………\n\n20.昨天收到一条QQ请求加好友的信息：“我是你妈”，我当即回了句“我是你爹！”，给拒绝了，然后就接到我妈电话说：“加我，快！”\n\n21.某日，体育课中途，洗手间解决个人问题。结果着急误进男厕。看到一男生正在小便池嘘嘘，俺当时就蒙了，一秒过后正准备悄悄撤退，结果被发现，晕死。只见那男生大叫一声“流氓，非礼”然后双手捂胸。后来，后来俺说了一句自己都觉得不可思议的话“同学，你捂错地方了……”\n\n22.喝的晕晕乎乎去一个餐厅卫生间小便，看见墙上写着一句话，凑近了一看，写着：“不要看这儿，专心尿尿。”等我看完这句话后，已经尿了自己一鞋了。\n\n23.我是救护医生，今天一个病人对我说他只有6个月好活了，我想说点鼓励的话!安慰到：六个月，很快就过去了，坚康?\n\n26.有一次我去漫吧租了本金田一，刚看到第二页就泪流满面，不知哪个天杀的用蓝色圆珠笔在某个人物上画了一个圈，写上，这个就是凶手……\n\n27.下午上公交车，拿出公交卡咣当投进投币孔里了\n\n28.一时兴起、拿自己照片当电脑桌面…然后我的电脑就中毒了…\n\n29. 高中一同学说梦话\n　　“爱妃，爱妃，不要离开朕”\n　　我石化……\n　　过一会\n　　“堂堂大清国就这么灭亡了，朕不甘心呐，朕不甘心呐”\n　　我直接崩溃……\n\n30. 我们数学老师总喜欢故作幽默的说些个没人笑的笑话\n　　我们全班就商量恶搞他一把，等他上课说第一句话的时候，我们就全体齐声大笑\n　　那天他进来，沉默了一下 说他爸去世了\n　　我立刻放声大笑，其他人鸦雀无声。\n\n31. 我在公交车上放了一个屁，\n　　见身边的纷纷挥手，表情痛苦，\n　　我也挥挥手。\n　　旁边的女士扭过头对我说：你就不要装了\n\n32.我和老婆去卧佛寺游玩，老婆路上走不动，于是我背她。\n　　一个老婆婆看见了，严肃的说：看你也是读过书的人。老婆有病还是早点去医院，拜佛是没用的\n\n33.小学时候每天只有几毛钱的零花钱，有一次攒了几天，好不容易买了一包五香瓜子，上课的时候偷偷的全磕了，瓜子壳全放在课桌抽屉了， \n　　　　下午来上课的时候看着瓜子壳又馋了，于是把瓜子壳又放到嘴里都含了一遍，感觉味道好好啊。。\n　　　　下课的时候一个同学问我吃什么，我只好说吃瓜子壳，专门买的五香瓜子壳，只有壳没有肉的，就是吃味道的。。结果那一个下午一帮子同学围在我座位边上吃我舔过两遍的瓜子壳。。。。\n\n36.逛超市呢 看到一收款员在很认真数一堆硬币 一小孩跑过，边跑边唱：门前大桥下游过一群鸭，快来快来数一数，二四六七八。。。。 然后收款员很郁闷的把数了一半的硬币倒回去重数....\n\n37.我们以前宿舍有个娃（男的），老实的有点当（笨），而且有时候傻得可爱。有一次晚上熄灯后，大家又在聊天，他就讲，等老子有钱了，就找三个女生。我们口味就被他调起来了，问他说然后呢，只见他镇定的说，打麻将…\n\n38.跟一姐姐聊天 她说：前天我老板，一个男的，和真懂似的，在我的电脑后面看半天，说“小柯，你也种菜啊？这可是上班时间！” 我收了收瓜子皮，，，瞅瞅他说“张总，这是我的桌面，你见哪块菜地上站着超级玛利呢？”\n\n39.楼下送葬队在吹《常回家看看》 \n　　不知道那家人怎么想的\n\n41.想起大学的一件事情来 \n　　大学期末考试，试卷上要求填写考号 \n　　我TMD写上QQ号码了\n\n42.我初中的班主任特别凶，每周五放学前都要开班会训话。一次，她情到激动处，义正词严地说，“你们怎么这么不争气，为了这个班，我绞尽奶汁”。当时我和周围几个同学强忍着不敢笑，只好把头深深的埋下。记得一个哥们趴在课桌上，使劲咬着手。。。\n\n46.宿舍哥们暴强，一日发现蚊帐里有只蚊子，忙活抓了半天没抓到，哥们叹口气说：“妈的，饿死你！”然后迅速把蚊帐收了起来，忍了好几天没挂蚊帐，最后终于把蚊子给饿死了，我们那个汗呀~~~~~这个不算什么对吧，很多人干过。 \n一**又发现蚊帐里竟然飞进一只苍蝇，跟我们说：“我非弄死他”。我们说：“苍蝇可是耐饿呀，看来你是靠不过他的”。 \n　　“你们看吧 ”，这人抄起一本小说钻进蚊帐，封口。边看小说边不停的挥动扇子，就是不让苍蝇落地，结果两个小时后，苍蝇终于飞不动了。他凑过去捅了捅苍蝇说：“飞呀小样，爷书还没看够呢”\n\n47.记得有次和爸妈去游泳馆，刚进大门的时候就看见一个社会青年的纹了一身的活，剃个“青皮”头，脖子上还戴个大金链子！等我们下水适应温度的时候就看那哥哥大摇大摆走过来往水里一站，天雷的事发生了。。。他脖子上那好粗好粗的大金链子浮在水面上。。。。。\n\n48.2009年7月22日，我在一个BBS上见一个哥们说：“TMD，原来日食是在白天，害老子白等了一宿.&quot;\n\n50.弟弟乘坐公共汽车时，车上一漂亮姑娘总是打量他。弟弟心想：姑娘可能对自己有意思，不禁心理美滋滋的。姑娘到站下车。弟弟见状马上跟了下去。姑娘在前面走着，还不时地回头看。弟弟鼓足勇气跑上前，不无幽默地搭讪道：“小姐，你为什么总看我？是不是我脸上有饭粒儿呀？”姑娘瞪了他一眼说：“你有病啊？明知道还不擦。” ', '有时候看看笑话，会让心情变好！', '', 'inherit', 'open', '2011-09-25 21:46:15', 117, 'http://xpmyblog.sinaapp.com/?p=118', 0, 'revision', '', 0),
(119, 1, '2011-09-26 17:14:00', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\r\n\r\nAdd an Expires or a Cache-Control Header：\r\n\r\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\r\n再简单点说：就是在.htaccess文件中写入以下内容：\r\n\r\n<pre class="brush: bash;">\r\n<IfModule mod_expires.c>\r\nExpiresActive On\r\nExpiresDefault A600\r\nExpiresByType image/x-icon A2592000\r\nExpiresByType application/x-javascript A2592000\r\nExpiresByType text/css A604800\r\nExpiresByType image/gif A2592000\r\nExpiresByType image/png A2592000\r\nExpiresByType image/jpeg A2592000\r\nExpiresByType text/plain A86400\r\nExpiresByType application/x-shockwave-flash A2592000\r\nExpiresByType video/x-flv A2592000\r\nExpiresByType application/pdf A2592000\r\nExpiresByType text/html A600\r\n</IfModule> \r\n</pre>\r\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\r\n更多选项请参考apache手册吧。\r\n\r\n\r\n\r\n文章来源：合肥网产品中心  <a href="http://lab.wehefei.com/posts/405">http://lab.wehefei.com/posts/405</a>', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'publish', 'open', '2012-12-21 16:23:18', 0, 'http://xpmyblog.sinaapp.com/?p=119', 0, 'post', '', 0),
(120, 1, '2011-09-26 17:13:53', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\n\nAdd an Expires or a Cache-Control Header：\n\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\n再简单点说：就是在.htaccess文件中写入以下内容：\n\n<pre>\n<IfModule mod_expires.c>\nExpiresActive On\nExpiresDefault A600\nExpiresByType image/x-icon A2592000\nExpiresByType application/x-javascript A2592000\nExpiresByType text/css A604800\nExpiresByType image/gif A2592000\nExpiresByType image/png A2592000\nExpiresByType image/jpeg A2592000\nExpiresByType text/plain A86400\nExpiresByType application/x-shockwave-flash A2592000\nExpiresByType video/x-flv A2592000\nExpiresByType application/pdf A2592000\nExpiresByType text/html A600\n</IfModule> \n</pre>\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\n更多选项请参考apache手册吧。\n\n\n\n文章来源：合肥网产品中心  http://lab.wehefei.com/posts/405\n', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'inherit', 'open', '2011-09-26 17:13:53', 119, 'http://xpmyblog.sinaapp.com/?p=120', 0, 'revision', '', 0),
(121, 1, '2011-09-26 17:14:00', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\r\n\r\nAdd an Expires or a Cache-Control Header：\r\n\r\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\r\n再简单点说：就是在.htaccess文件中写入以下内容：\r\n\r\n<pre>\r\n<IfModule mod_expires.c>\r\nExpiresActive On\r\nExpiresDefault A600\r\nExpiresByType image/x-icon A2592000\r\nExpiresByType application/x-javascript A2592000\r\nExpiresByType text/css A604800\r\nExpiresByType image/gif A2592000\r\nExpiresByType image/png A2592000\r\nExpiresByType image/jpeg A2592000\r\nExpiresByType text/plain A86400\r\nExpiresByType application/x-shockwave-flash A2592000\r\nExpiresByType video/x-flv A2592000\r\nExpiresByType application/pdf A2592000\r\nExpiresByType text/html A600\r\n</IfModule> \r\n</pre>\r\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\r\n更多选项请参考apache手册吧。\r\n\r\n\r\n\r\n文章来源：合肥网产品中心  http://lab.wehefei.com/posts/405\r\n', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'inherit', 'open', '2011-09-26 17:14:00', 119, 'http://xpmyblog.sinaapp.com/?p=121', 0, 'revision', '', 0),
(122, 1, '2011-09-26 17:14:28', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\r\n\r\nAdd an Expires or a Cache-Control Header：\r\n\r\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\r\n再简单点说：就是在.htaccess文件中写入以下内容：\r\n\r\n<pre lang="php">\r\n<IfModule mod_expires.c>\r\nExpiresActive On\r\nExpiresDefault A600\r\nExpiresByType image/x-icon A2592000\r\nExpiresByType application/x-javascript A2592000\r\nExpiresByType text/css A604800\r\nExpiresByType image/gif A2592000\r\nExpiresByType image/png A2592000\r\nExpiresByType image/jpeg A2592000\r\nExpiresByType text/plain A86400\r\nExpiresByType application/x-shockwave-flash A2592000\r\nExpiresByType video/x-flv A2592000\r\nExpiresByType application/pdf A2592000\r\nExpiresByType text/html A600\r\n</IfModule> \r\n</pre>\r\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\r\n更多选项请参考apache手册吧。\r\n\r\n\r\n\r\n文章来源：合肥网产品中心  http://lab.wehefei.com/posts/405\r\n', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'inherit', 'open', '2011-09-26 17:14:28', 119, 'http://xpmyblog.sinaapp.com/?p=122', 0, 'revision', '', 0),
(138, 1, '2011-10-06 12:28:42', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\n\nAdd an Expires or a Cache-Control Header：\n\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\n再简单点说：就是在.htaccess文件中写入以下内容：\n<pre lang="php">\nExpiresActive On\nExpiresDefault A600\nExpiresByType image/x-icon A2592000\nExpiresByType application/x-javascript A2592000\nExpiresByType text/css A604800\nExpiresByType image/gif A2592000\nExpiresByType image/png A2592000\nExpiresByType image/jpeg A2592000\nExpiresByType text/plain A86400\nExpiresByType application/x-shockwave-flash A2592000\nExpiresByType video/x-flv A2592000\nExpiresByType application/pdf A2592000\nExpiresByType text/html A600</pre>\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\n更多选项请参考apache手册吧。\n\n文章来源：合肥网产品中心  <a href="http://lab.wehefei.com/posts/405">http://lab.wehefei.com/posts/405</a>', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'inherit', 'open', '2011-10-06 12:28:42', 119, 'http://xpmyblog.sinaapp.com/?p=138', 0, 'revision', '', 0),
(139, 1, '2011-10-06 14:10:37', '<pre class="brush: html;">\r\nArray\r\n(\r\n    [0] => stdClass Object\r\n        (\r\n            [term_id] => 3\r\n            [name] => apache\r\n            [slug] => apache\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 3\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 3\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => apache\r\n            [category_nicename] => apache\r\n            [category_parent] => 0\r\n        )\r\n\r\n    [1] => stdClass Object\r\n        (\r\n            [term_id] => 1\r\n            [name] => PHP\r\n            [slug] => php\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 1\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 1\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => PHP\r\n            [category_nicename] => php\r\n            [category_parent] => 0\r\n        )\r\n</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre class="brush: php;">\r\nforeach($categories as $key => $value){\r\n  $cat = $value->term_id;\r\n  $name = $value->name;\r\n}\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'publish', 'open', '2012-12-21 16:20:21', 0, 'http://xpmyblog.sinaapp.com/?p=139', 0, 'post', '', 0),
(140, 1, '2011-10-06 14:10:31', '<pre>Array\n(\n    [0] =&gt; stdClass Object\n        (\n            [term_id] =&gt; 3\n            [name] =&gt; apache\n            [slug] =&gt; apache\n            [term_group] =&gt; 0\n            [term_taxonomy_id] =&gt; 3\n            [taxonomy] =&gt; category\n            [description] =&gt; \n            [parent] =&gt; 0\n            [count] =&gt; 1\n            [cat_ID] =&gt; 3\n            [category_count] =&gt; 1\n            [category_description] =&gt; \n            [cat_name] =&gt; apache\n            [category_nicename] =&gt; apache\n            [category_parent] =&gt; 0\n        )\n\n    [1] =&gt; stdClass Object\n        (\n            [term_id] =&gt; 1\n            [name] =&gt; PHP\n            [slug] =&gt; php\n            [term_group] =&gt; 0\n            [term_taxonomy_id] =&gt; 1\n            [taxonomy] =&gt; category\n            [description] =&gt; \n            [parent] =&gt; 0\n            [count] =&gt; 1\n            [cat_ID] =&gt; 1\n            [category_count] =&gt; 1\n            [category_description] =&gt; \n            [cat_name] =&gt; PHP\n            [category_nicename] =&gt; php\n            [category_parent] =&gt; 0\n        )\n\n)</pre>\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\n<pre>foreach($categories as $key =&gt; $value){</pre>\n<pre>  $cat = $value-&gt;term_id;</pre>\n<pre>  $name = $value-&gt;name;</pre>\n<pre>}\n</pre>\n<pre>\n</pre>\n<pre>这样才能调用数据！</pre>\n<pre>\n</pre>\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2011-10-06 14:10:31', 139, 'http://xpmyblog.sinaapp.com/?p=140', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(141, 1, '2011-10-06 17:33:41', '在Java语言中， abstract class 和interface 是支持抽象类定义的两种机制。正是由于这两种机制的存在，才赋予了Java强大的 面向对象能力。abstract class和interface之间在对于抽象类定义的支持方面具有很大的相似性，甚至可以相互替换，因此很多开发者在进 行抽象类定义时对于abstract class和interface的选择显得比较随意。其实，两者之间还是有很大的区别的，对于它们的选择甚至反映出对 于问题领域本质的理解、对于设计意图的理解是否正确、合理。本文将对它们之间的区别进行一番剖析，试图给开发者提供一个在二者之间进行选择的依据。\n\n理解抽象类\n\nabstract class和interface在Java语言中都是用来进行抽象类（本文 中的抽象类并非从abstract class翻译而来，它表示的是一个抽象体，而abstract class为Java语言中用于定义抽象类的一种方法， 请读者注意区分）定义的，那么什么是抽象类，使用抽象类能为我们带来什么好处呢？\n\n在 面向对象的概念中，我们知道所有的对象都是通过类来描绘的，但是反过来却不是这样。并不是 所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。抽象类往往用来表征我们在对问题领域进行分析、 设计中得出的抽象概念，是对一系列看上去不同，但是本质上相同的具体概念的抽象。比如：如果我们进行一个图形编辑软件的开发，就会发现问题领域存在着圆、 三角形这样一些具体概念，它们是不同的，但是它们又都属于形状这样一个概念，形状这个概念在问题领域是不存在的，它就是一个抽象概念。正是因为抽象的概念 在问题领域没有对应的具体概念，所以用以表征抽象概念的抽象类是不能够实例化的。\n\n在面向对象领域，抽象类主要用来进行类型隐藏。 我们可以构造出一个固定的一组行为的抽象描 述，但是这组行为却能够有任意个可能的具体实现方式。这个抽象描述就是抽象类，而这一组任意个可能的具体实现则表现为所有可能的派生类。模块可以操作一个 抽象体。由于模块依赖于一个固定的抽象体，因此它可以是不允许修改的；同时，通过从这个抽象体派生，也可扩展此模块的行为功能。熟悉OCP的读者一定知 道，为了能够实现面向对象设计的一个最核心的原则OCP(Open-Closed Principle)，抽象类是其中的关键所在。\n\n从语法定义层面看abstract class 和 interface\n\n在语法层面，Java语言对于abstract class和interface给出了不同的定义方式，下面以定义一个名为Demo的抽象类为例来说明这种不同。\n\n使用abstract class的方式定义Demo抽象类的方式如下：\n\nabstract class Demo｛\nabstract void method1();\nabstract void method2();\n…\n｝\n\n使用interface的方式定义Demo抽象类的方式如下：\n\ninterface Demo{\nvoid method1();\nvoid method2();\n…\n}\n\n在abstract class方式中，Demo可以有自己的数据成员，也可以有非 abstract的成员方法，而在interface方式的实现中，Demo只能够有静态的不能被修改的数据成员（也就是必须是static final 的，不过在interface中一般不定义数据成员），所有的成员方法都是abstract的。从某种意义上说，interface是一种特殊形式的 abstract class。\n\n从编程的角度来看，abstract class和interface都可以用来实现 "design by contract" 的思想。但是在具体的使用上面还是有一些区别的。\n\n首先，abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系(因为Java不支持多继承 -- 转注)。但是，一个类却可以实现多个interface。也许，这是Java语言的设计者在考虑Java对于多重继承的支持方面的一种折中考虑吧。\n\n其次，在abstract class的定义中，我们可以赋予方法的默认行为。但是在interface的定义中，方法却不能拥有默认行为，为了绕过这个限制，必须使用委托，但是这会增加一些复杂性，有时会造成很大的麻烦。\n\n在 抽象类中不能定义默认行为还存在另一个比较严重的问题，那就是可能会造成维护上的麻烦。因 为如果后来想修改类的界面（一般通过 abstract class 或者interface来表示）以适应新的情况（比如，添加新的方法或者给已用的方法中添 加新的参数）时，就会非常的麻烦，可能要花费很多的时间（对于派生类很多的情况，尤为如此）。但是如果界面是通过abstract class来实现的，那 么可能就只需要修改定义在abstract class中的默认行为就可以了。\n\n同样，如果不能在抽象类中定义默认行为，就会导致同样的方法实现出现在该抽象类的每一个派生类中，违反了 "one rule，one place" 原则，造成代码重复，同样不利于以后的维护。因此，在abstract class和interface间进行选择时要非常的小心。\n\n从设计理念层面看 abstract class 和 interface\n\n上面主要从语法定义和编程的角度论述了abstract class和interface的区 别，这些层面的区别是比较低层次的、非本质的。本小节将从另一个层面：abstract class和interface所反映出的设计理念，来分析一下二者的区别。作者认为，从这个层面进行分析才能理解二者概念的本质所在。\n\n前面已经提到过，abstract class在Java语言中体现了一种继承关系，要想使得继承关系合理，父类和派生类之间必须存在"is-a"关系，即父类和派生类在概念本质上应该是相同的。对于interface来说则不然，并不要求interface的实现者和interface定义在概念本质上是一致的， 仅仅是实现了interface定义的契约而已。为了使论述便于理解，下面将通过一个简单的实例进行说明。\n\n考虑这样一个例子，假设在我们的问题领域中有一个关于Door的抽象概念，该Door具有执行两个动作open和close，此时我们可以通过abstract class或者interface来定义一个表示该抽象概念的类型，定义方式分别如下所示：\n\n使用abstract class方式定义Door：\n\nabstract class Door{\nabstract void open();\nabstract void close()；\n}\n\n使用interface方式定义Door：\n\ninterface Door{\nvoid open();\nvoid close();\n}\n\n其他具体的Door类型可以extends使用abstract class方式定义的Door或者implements使用interface方式定义的Door。看起来好像使用abstract class和interface没有大的区别。\n\n如果现在要求Door还要具有报警的功能。我们该如何设计针对该例子的类结构呢（在本例中， 主要是为了展示 abstract class 和interface 反映在设计理念上的区别，其他方面无关的问题都做了简化或者忽略）？下面将罗列出可能的解 决方案，并从设计理念层面对这些不同的方案进行分析。\n\n解决方案一：\n\n简单的在Door的定义中增加一个alarm方法，如下：\n\nabstract class Door{\nabstract void open();\nabstract void close()；\nabstract void alarm();\n}\n\n或者\n\ninterface Door{\nvoid open();\nvoid close();\nvoid alarm();\n}\n\n那么具有报警功能的AlarmDoor的定义方式如下：\n\nclass AlarmDoor extends Door{\nvoid open(){…}\nvoid close(){…}\nvoid alarm(){…}\n}\n\n或者\n\nclass AlarmDoor implements Door｛\nvoid open(){…}\nvoid close(){…}\nvoid alarm(){…}\n｝\n\n这种方法违反了面向对象设计中的一个核心原则 ISP (Interface Segregation Principle)，在Door的定义中把Door概念本身固有的行为方法和另外一个概念"报警器"的行为方 法混在了一起。这样引起的一个问题是那些仅仅依赖于Door这个概念的模块会因为"报警器"这个概念的改变（比如：修改alarm方法的参数）而改变，反 之依然。\n\n解决方案二：\n\n既然open、close和alarm属于两个不同的概念，根据ISP原则应该把它们分别定 义在代表这两个概念的抽象类中。定义方式有：这两个概念都使用 abstract class 方式定义；两个概念都使用interface方式定义；一个概念 使用 abstract class 方式定义，另一个概念使用interface方式定义。\n\n显然，由于Java语言不支持多重继承，所以两个概念都使用abstract class方式定义是不可行的。后面两种方式都是可行的，但是对于它们的选择却反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理。我们一一来分析、说明。\n\n如果两个概念都使用interface方式来定义，那么就反映出两个问题：1、我们可能没有 理解清楚问题领域，AlarmDoor在概念本质上到底是Door还是报警器？2、如果我们对于问题领域的理解没有问题，比如：我们通过对于问题领域的分 析发现AlarmDoor在概念本质上和Door是一致的，那么我们在实现时就没有能够正确的揭示我们的设计意图，因为在这两个概念的定义上（均使用 interface方式定义）反映不出上述含义。\n\n如果我们对于问题领域的理解是：AlarmDoor在概念本质上是Door，同时它有具有报 警的功能。我们该如何来设计、实现来明确的反映出我们的意思呢？前面已经说过，abstract class在Java语言中表示一种继承关系，而继承关系 在本质上是"is-a"关系。所以对于Door这个概念，我们应该使用abstarct class方式来定义。另外，AlarmDoor又具有报警功能，说 明它又能够完成报警概念中定义的行为，所以报警概念可以通过interface方式定义。如下所示：\n\nabstract class Door{\nabstract void open();\nabstract void close()；\n}\ninterface Alarm{\nvoid alarm();\n}\nclass AlarmDoor extends Door implements Alarm{\nvoid open(){…}\nvoid close(){…}\nvoid alarm(){…}\n}\n\n这种实现方式基本上能够明确的反映出我们对于问题领域的理解，正确的揭示我们的设计意图。其 实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系，大家在选择时可以作为一个依据，当然这是建立在对问题领域的理解上的，比如：如果我们认为AlarmDoor在概念本质上是报警器，同时又具有Door的功能，那么上述的定义方式就要反过来了。\n\n小结\n\n1.abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系。但是，一个类却可以实现多个interface。\n\n2.在abstract class 中可以有自己的数据成员，也可以有非abstarct的成员方法，而在interface中，只能够有静态的不能被修改的数据成员（也就是必须是static final的，不过在 interface中一般不定义数据成员），所有的成员方法都是abstract的。\n\n3.abstract class和interface所反映出的设计理念不同。其实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系。\n\n4.实现抽象类和接口的类必须实现其中的所有方法。抽象类中可以有非抽象方法。接口中则不能有实现方法。\n\n5.接口中定义的变量默认是public static final 型，且必须给其初值，所以实现类中不能重新定义，也不能改变其值。\n\n6.抽象类中的变量默认是 friendly 型，其值可以在子类中重新定义，也可以重新赋值。\n\n7.接口中的方法默认都是 public,abstract 类型的。\n\n结论\n\nabstract class 和 interface 是 Java语言中的两种定义抽象类的方式，它们之间有很大的相似性。但是对于它们的选择却又往往反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理，因为它们表现了概念间的不同的关系（虽然都能够实现需求的功能）。这其实也是语言的一种的惯用法，希望读者朋友能够细细体会。', '详解java中的抽象类和接口的区别', '', 'inherit', 'open', '2011-10-06 17:33:41', 42, 'http://xpmyblog.sinaapp.com/?p=141', 0, 'revision', '', 0),
(142, 1, '2011-10-06 17:43:16', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\n<pre lang="php"><code>\n<pre>\n</pre>\n<pre>&lt;object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400&gt;</pre>\n<pre>&lt;param name=movie value=test.swf&gt;\n&lt;param name=quality value=high&gt;\n&lt;param name=wmode value=transparent&gt;\n&lt;embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent&gt;&lt;/embed&gt;\n&lt;/object&gt;\n<pre>&lt;/pre&gt;</pre>\n</pre>\n</code><code><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="550" height="400" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0"><param name="movie" value="test.swf" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><embed type="application/x-shockwave-flash" width="550" height="400" src="http://www.59bj.com/test.swf" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" quality="high"></embed></object> </code></pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-10-06 17:43:16', 93, 'http://xpmyblog.sinaapp.com/?p=142', 0, 'revision', '', 0),
(143, 1, '2011-09-23 15:33:01', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre lang="php">\r\n<code>\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>\r\n</code>\r\n</pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-09-23 15:33:01', 93, 'http://xpmyblog.sinaapp.com/?p=143', 0, 'revision', '', 0),
(144, 1, '2011-10-06 17:40:53', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre lang="php"><code>\r\n<pre>&lt;pre lang="php"&gt;</pre>\r\n<pre>&lt;object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400&gt;\r\n&lt;param name=movie value=test.swf&gt;\r\n&lt;param name=quality value=high&gt;\r\n&lt;param name=wmode value=transparent&gt;\r\n&lt;embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent&gt;&lt;/embed&gt;\r\n&lt;/object&gt;</pre>\r\n&lt;/pre&gt; <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="550" height="400" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0"><param name="movie" value="test.swf" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><embed type="application/x-shockwave-flash" width="550" height="400" src="http://www.59bj.com/test.swf" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" quality="high"></embed></object> </code></pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-10-06 17:40:53', 93, 'http://xpmyblog.sinaapp.com/?p=144', 0, 'revision', '', 0),
(145, 1, '2011-10-06 17:42:11', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre lang="php"><code>\r\n<pre>&lt;pre lang="php"&gt;</pre>\r\n<pre>&lt;object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400&gt;</pre>\r\n<pre>&lt;param name=movie value=test.swf&gt;\r\n&lt;param name=quality value=high&gt;\r\n&lt;param name=wmode value=transparent&gt;\r\n&lt;embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent&gt;&lt;/embed&gt;\r\n&lt;/object&gt;\r\n<pre>&lt;/pre&gt;</pre>\r\n</pre>\r\n</code><code><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="550" height="400" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0"><param name="movie" value="test.swf" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><embed type="application/x-shockwave-flash" width="550" height="400" src="http://www.59bj.com/test.swf" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent"></embed></object> </code></pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-10-06 17:42:11', 93, 'http://xpmyblog.sinaapp.com/?p=145', 0, 'revision', '', 0),
(146, 1, '2011-10-06 21:00:26', '身为PHPer，C/C++是必学的语言。所以，孩子，努力学吧。\r\n\r\n1.单击“开始”，指向“所有程序”、“Microsoft Visual Studio 2010”和“Visual Studio 工具”，然后单击“Visual Studio 2010 命令提示”。\r\n根据计算机上的 Windows 版本和系统安全配置，可能必须右击“Visual Studio 2008 命令提示”，然后单击“以管理员身份运行”，才能成功运行按下列步骤创建的应用程序。\r\n\r\n2.在命令提示符下，键入 notepad simple.c，并按 Enter。\r\n在系统提示是否创建文件时，单击“是”。\r\n\r\n3.在记事本中，键入下列各行。\r\n<pre class="brush: cpp;">\r\n#include <stdio.h>\r\nint main()\r\n{\r\n    printf("This is a native C program.\\n");\r\n    return 0;\r\n}\r\n</pre>\r\n\r\n4.在“文件”菜单上，单击“保存”，以创建 C 源文件。\r\n5.关闭记事本。\r\n6.在命令提示符下，键入 cl simple.c，并按 Enter。\r\ncl.exe 编译器将生成一个可执行程序 Simple.exe。\r\n您可以在编译器显示的多行输出信息中看到可执行程序的名称。\r\n<pre>\r\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 16.00 for 80x86\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\nsimple.c\r\nMicrosoft (R) Incremental Linker Version 10.00\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n/out:simple.exe\r\nsimple.obj\r\n\r\n</pre>\r\n\r\n7.若要查看 \\simple\\ 目录中的所有文件的列表，请键入 dir simple.* 并按 Enter。\r\n\r\n.obj 文件是一个中间格式文件，可以安全地忽略它。\r\n\r\n8.若要运行 Simple.exe，请键入 simple 并按 Enter。\r\n\r\n该程序显示以下文本并退出：\r\n\r\nThis is a native C program.\r\n\r\n9.若要关闭命令提示符窗口，请键入 exit 并按 Enter。\r\n\r\n\r\n\r\n', '用Visual Studio 2010 命令提示 运行C程序', '', 'publish', 'open', '2012-12-21 16:18:27', 0, 'http://xpmyblog.sinaapp.com/?p=146', 0, 'post', '', 0),
(147, 1, '2011-10-06 21:00:05', '身为PHPer，C/C++是必学的语言。所以，孩子，努力学吧。\n\n1.单击“开始”，指向“所有程序”、“Microsoft Visual Studio 2010”和“Visual Studio 工具”，然后单击“Visual Studio 2010 命令提示”。\n根据计算机上的 Windows 版本和系统安全配置，可能必须右击“Visual Studio 2008 命令提示”，然后单击“以管理员身份运行”，才能成功运行按下列步骤创建的应用程序。\n\n2.在命令提示符下，键入 notepad simple.c，并按 Enter。\n在系统提示是否创建文件时，单击“是”。\n\n3.在记事本中，键入下列各行。\n<pre>\n#include <stdio.h>\nint main()\n{\n    printf("This is a native C program.\\n");\n    return 0;\n}\n</pre>\n\n4.在“文件”菜单上，单击“保存”，以创建 C 源文件。\n5.关闭记事本。\n6.在命令提示符下，键入 cl simple.c，并按 Enter。\ncl.exe 编译器将生成一个可执行程序 Simple.exe。\n您可以在编译器显示的多行输出信息中看到可执行程序的名称。\n<pre>\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 16.00 for 80x86\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\nsimple.c\nMicrosoft (R) Incremental Linker Version 10.00\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n/out:simple.exe\nsimple.obj\n\n</pre>\n\n\n\n', '用Visual Studio 2010 命令提示 运行C程序', '', 'inherit', 'open', '2011-10-06 21:00:05', 146, 'http://xpmyblog.sinaapp.com/?p=147', 0, 'revision', '', 0),
(148, 1, '2011-10-06 21:00:26', '身为PHPer，C/C++是必学的语言。所以，孩子，努力学吧。\r\n\r\n1.单击“开始”，指向“所有程序”、“Microsoft Visual Studio 2010”和“Visual Studio 工具”，然后单击“Visual Studio 2010 命令提示”。\r\n根据计算机上的 Windows 版本和系统安全配置，可能必须右击“Visual Studio 2008 命令提示”，然后单击“以管理员身份运行”，才能成功运行按下列步骤创建的应用程序。\r\n\r\n2.在命令提示符下，键入 notepad simple.c，并按 Enter。\r\n在系统提示是否创建文件时，单击“是”。\r\n\r\n3.在记事本中，键入下列各行。\r\n<pre>\r\n#include <stdio.h>\r\nint main()\r\n{\r\n    printf("This is a native C program.\\n");\r\n    return 0;\r\n}\r\n</pre>\r\n\r\n4.在“文件”菜单上，单击“保存”，以创建 C 源文件。\r\n5.关闭记事本。\r\n6.在命令提示符下，键入 cl simple.c，并按 Enter。\r\ncl.exe 编译器将生成一个可执行程序 Simple.exe。\r\n您可以在编译器显示的多行输出信息中看到可执行程序的名称。\r\n<pre>\r\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 16.00 for 80x86\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\nsimple.c\r\nMicrosoft (R) Incremental Linker Version 10.00\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n/out:simple.exe\r\nsimple.obj\r\n\r\n</pre>\r\n\r\n7.若要查看 \\simple\\ 目录中的所有文件的列表，请键入 dir simple.* 并按 Enter。\r\n\r\n.obj 文件是一个中间格式文件，可以安全地忽略它。\r\n\r\n8.若要运行 Simple.exe，请键入 simple 并按 Enter。\r\n\r\n该程序显示以下文本并退出：\r\n\r\nThis is a native C program.\r\n\r\n9.若要关闭命令提示符窗口，请键入 exit 并按 Enter。\r\n\r\n\r\n\r\n\r\n', '用Visual Studio 2010 命令提示 运行C程序', '', 'inherit', 'open', '2011-10-06 21:00:26', 146, 'http://xpmyblog.sinaapp.com/?p=148', 0, 'revision', '', 0),
(152, 1, '2011-10-20 12:09:15', '<pre class="brush: js;">\r\n<object id="MediaPlayer" width="320" height="240" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"\r\ncodebase= "http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"\r\nstandby="Loading Microsoft? Windows Media? Player components..." type="application/x-oleobject" >\r\n<param name="AudioStream" value="-1">\r\n<param name="URL" value="11111111.wmv">\r\n<param name="UIMode" value="full">\r\n<param name="AutoStart" value="true">\r\n<param name="Enabled" value="true">\r\n<param name="enableContextMenu" value="true">\r\n</object>\r\n</pre>', '在网页上播放wmv视频格式的代码', '', 'publish', 'open', '2012-12-21 16:25:20', 0, 'http://xpmyblog.sinaapp.com/?p=152', 0, 'post', '', 0),
(153, 1, '2011-10-20 12:09:13', '<object id="MediaPlayer" width="320" height="240" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"\ncodebase= "http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"\nstandby="Loading Microsoft? Windows Media? Player components..." type="application/x-oleobject" >\n<param name="AudioStream" value="-1">\n<param name="URL" value="11111111.wmv">\n<param name="UIMode" value="full">\n<param name="AutoStart" value="true">\n<param name="Enabled" value="true">\n<param name="enableContextMenu" value="true">\n</object>', '在网页上播放wmv视频格式的代码', '', 'inherit', 'open', '2011-10-20 12:09:13', 152, 'http://xpmyblog.sinaapp.com/?p=153', 0, 'revision', '', 0),
(154, 1, '2011-10-20 12:09:15', '<object id="MediaPlayer" width="320" height="240" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"\r\ncodebase= "http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"\r\nstandby="Loading Microsoft? Windows Media? Player components..." type="application/x-oleobject" >\r\n<param name="AudioStream" value="-1">\r\n<param name="URL" value="11111111.wmv">\r\n<param name="UIMode" value="full">\r\n<param name="AutoStart" value="true">\r\n<param name="Enabled" value="true">\r\n<param name="enableContextMenu" value="true">\r\n</object>', '在网页上播放wmv视频格式的代码', '', 'inherit', 'open', '2011-10-20 12:09:15', 152, 'http://xpmyblog.sinaapp.com/?p=154', 0, 'revision', '', 0),
(156, 1, '2011-10-20 13:04:02', '<pre class="brush: php;">\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\nprint_r(xmlToArray($string));\r\n\r\n</pre>', 'PHP:XML与数组互相转换', '', 'publish', 'open', '2012-12-21 16:20:16', 0, 'http://xpmyblog.sinaapp.com/?p=156', 0, 'post', '', 0),
(157, 1, '2011-10-20 13:03:41', '<pre lang="php">\n<?php\n/**\n * 把XML转化为数组\n *\n */\nfunction xmlToArray($xml, $recursive = false )\n{\n	if (!$recursive){\n		$array = simplexml_load_string($xml);\n	} else  {\n		$array = $xml;\n	}\n\n	$newArray = array ();\n	$array = (array) $array ;\n	foreach ($array as $key => $value ) {\n		$value = (array) $value ;\n		if (isset ($value [0])){\n			$newArray [$key] = trim($value [0]) ;\n		} else {\n			$newArray [$key] = self::xmlToArray($value, true) ;\n		}\n	}\n	return $newArray ;\n}\n\n/**\n * 把数据转换为XML格式的数据\n *\n */\nfunction arraytoxml($array, $tag)\n{\n	function ia2xml($array)\n	{\n		$xml = '''';\n		foreach ($array as $key=>$value) {\n			if (is_array($value)) {\n				$xml.="<$key>".ia2xml($value)."</$key>";\n			} else {\n				$xml.="<$key>".$value."</$key>";\n			}\n		}\n		return $xml;\n	}\n\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\n}\n\n$test[''type'']=''lunch'';\n$test[''time'']=''12:30'';\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\n\n//	header(''Content-type:text/xml; charset=utf-8'');\n//	echo arraytoxml($test,"meal")->asXML();\n$string = "<?xml version=''1.0''?> \n<document>\n<title>Forty What?</title>\n<from>Joe</from>\n<to>Jane</to>\n<body>\nI know that''s the answer -- but what''s the question?\n</body>\n</document>";\n\n//echo $string;\necho "<pre>";\nprint_r(xmlToArray($string));\n\n?>\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2011-10-20 13:03:41', 156, 'http://xpmyblog.sinaapp.com/?p=157', 0, 'revision', '', 0),
(158, 1, '2011-10-20 13:14:58', '<pre class="brush: php;">\r\nclass ABC{\r\n    public $numBox = array();\r\n    public function ddd(){\r\n            for($i=1; $i<=600; $i++){\r\n                    $this->numBox[] = mt_rand(1,1000000);\r\n           }\r\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\r\n        }\r\n \r\n}\r\n$instance = new ABC();\r\nfor($i =0; $i< 50 ; $i++){\r\n     $instance->ddd();\r\n}\r\n\r\n</pre>\r\n这是test1.php的运行结果\r\nNow memory_get_usage: 422728\r\nNow memory_get_usage: 474824\r\nNow memory_get_usage: 522824\r\nNow memory_get_usage: 579024\r\nNow memory_get_usage: 627024\r\nNow memory_get_usage: 675024\r\nNow memory_get_usage: 739408\r\nNow memory_get_usage: 787416\r\nNow memory_get_usage: 835416\r\nNow memory_get_usage: 883416\r\nNow memory_get_usage: 931416\r\nNow memory_get_usage: 979416\r\nNow memory_get_usage: 1027416\r\n..................\r\n\r\n<pre class="brush: php;">\r\nclass ABC{\r\n    public $numBox = array();\r\n    public function ddd(){\r\n            for($i=1; $i<=600; $i++){\r\n                    $this->numBox[] = mt_rand(1,1000000);\r\n           }\r\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\r\n        }\r\n \r\n}\r\nfor($i =0; $i< 50 ; $i++){\r\n     $instance = new ABC();\r\n     $instance->ddd();\r\n}\r\n</pre>\r\n这是test2.php的运行结果\r\nNow memory_get_usage: 422728\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\n............................\r\n\r\n', 'PHP:在循环内或外实例化类在占用内存上有很大的区别！', '', 'publish', 'open', '2012-12-21 16:20:12', 0, 'http://xpmyblog.sinaapp.com/?p=158', 0, 'post', '', 0),
(159, 1, '2011-10-20 13:14:53', '<pre lang="php">\n<?php\nclass ABC{\n    public $numBox = array();\n    public function ddd(){\n            for($i=1; $i<=600; $i++){\n                    $this->numBox[] = mt_rand(1,1000000);\n           }\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\n        }\n \n}\n$instance = new ABC();\nfor($i =0; $i< 50 ; $i++){\n     $instance->ddd();\n}\n?>\n</pre>\n这是test1.php的运行结果\nNow memory_get_usage: 422728\nNow memory_get_usage: 474824\nNow memory_get_usage: 522824\nNow memory_get_usage: 579024\nNow memory_get_usage: 627024\nNow memory_get_usage: 675024\nNow memory_get_usage: 739408\nNow memory_get_usage: 787416\nNow memory_get_usage: 835416\nNow memory_get_usage: 883416\nNow memory_get_usage: 931416\nNow memory_get_usage: 979416\nNow memory_get_usage: 1027416\n..................\n\n<pre lang="php">\n<?php\nclass ABC{\n    public $numBox = array();\n    public function ddd(){\n            for($i=1; $i<=600; $i++){\n                    $this->numBox[] = mt_rand(1,1000000);\n           }\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\n        }\n \n}\nfor($i =0; $i< 50 ; $i++){\n     $instance = new ABC();\n     $instance->ddd();\n}\n?>\n</pre>\n这是test2.php的运行结果\nNow memory_get_usage: 422728\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\nNow memory_get_usage: 422712\n............................\n\n看到区别了吗？？PHP也是xuewu\n\n', 'PHP:在循环内或外实例化类在占用内存上有很大的区别！', '', 'inherit', 'open', '2011-10-20 13:14:53', 158, '', 0, 'revision', '', 0),
(160, 1, '2011-11-25 13:31:02', '静态化网页，是个基本技能。下面是smarty静态化。\r\n打开Smarty.class.php 文件\r\n加入以下代码\r\n<pre class="brush: php;">\r\n        // 循环创建目录 \r\n	function mk_dir($dir, $mode = 0777) \r\n	{ \r\n		if($dir == '''') return true;\r\n		if (is_dir($dir) || @mkdir($dir,$mode)) return true; \r\n		if (!$this->mk_dir(dirname($dir),$mode)) return false; \r\n		return @mkdir($dir,$mode); \r\n	} \r\n\r\n	/**\r\n	 * 页面静态化\r\n	 * \r\n	 * @param string $file_name  \r\n	 * @param string $content\r\n	 *\r\n	 */\r\n	function makeHtmlFile($filedir, $file_name, $content)\r\n	{\r\n		$filedir = $filedir == '''' ? dirname(__FILE__).''/../../'' : $filedir;\r\n		//目录不存在就创建\r\n		if (!file_exists($filedir.$file_name)){\r\n			$this->mk_dir($filedir);\r\n		}\r\n		if(!$fp = fopen($filedir.$file_name, "w+", true)){\r\n			echo ''文件打开失败！'';\r\n			return false;\r\n		}\r\n		if(!fwrite($fp, $content)){\r\n			echo ''文件写入失败！'';\r\n			return false;\r\n		}\r\n		fclose($fp);\r\n		if(chmod($filedir.$file_name,0777)){\r\n			return true;\r\n		}else{\r\n			echo ''改变文件权限失败！'';\r\n			return false;\r\n		}	\r\n	}\r\n</pre>\r\n\r\n加好了之后，就是调用了。怎么调用呢，看一下代码：\r\n<pre class="brush: php;">\r\n//	$smarty->display(''index.html'');\r\n	$content = $smarty->fetch(''index.html'');\r\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\r\n\r\n</pre>\r\n\r\n\r\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！', 'smarty 生成静态化html文件', '', 'publish', 'open', '2012-12-21 16:20:04', 0, 'http://xpmyblog.sinaapp.com/?p=160', 0, 'post', '', 1),
(161, 1, '2011-11-25 13:31:01', '静态化网页，是个基本技能。下面是smarty静态化。\n打开Smarty.class.php 文件\n加入以下代码\n<pre lang="php">\n      /**\n	 * 页面静态化\n	 * \n	 * @param string $file_name  \n	 * @param string $content\n	 *\n	 */\n	function makeHtmlFile($file_name, $content)\n	{\n		//目录不存在就创建\n		if (!file_exists (dirname($file_name))) {\n			if (!@mkdir (dirname($file_name), 0777)) {\n				die($file_name."目录创建失败！");\n			}\n		}\n				\n		if(!$fp = fopen($file_name, "w")){\n		  echo "文件打开失败！";\n		  return false;\n		}\n\n		if(!fwrite($fp, $content)){\n			echo "文件写入失败！";\n			fclose($fp);\n			return false;\n		}\n\n		fclose($fp);\n		chmod($file_name,0777);\n		\n		if(file_exists($file_name)){\n			require  $file_name;       //包含静态化文件\n			die;\n		}\n		\n	}\n</pre>\n\n加好了之后，就是调用了。怎么调用呢，看一下代码：\n<pre lang="php">\n//	$smarty->display(''index.html'');\n	$content = $smarty->fetch(''index.html'');\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\n\n</pre>\n\n\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！\n', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2011-11-25 13:31:01', 160, 'http://xpmyblog.sinaapp.com/?p=161', 0, 'revision', '', 0),
(162, 1, '2011-11-25 13:31:02', '静态化网页，是个基本技能。下面是smarty静态化。\r\n打开Smarty.class.php 文件\r\n加入以下代码\r\n<pre lang="php">\r\n      /**\r\n	 * 页面静态化\r\n	 * \r\n	 * @param string $file_name  \r\n	 * @param string $content\r\n	 *\r\n	 */\r\n	function makeHtmlFile($file_name, $content)\r\n	{\r\n		//目录不存在就创建\r\n		if (!file_exists (dirname($file_name))) {\r\n			if (!@mkdir (dirname($file_name), 0777)) {\r\n				die($file_name."目录创建失败！");\r\n			}\r\n		}\r\n				\r\n		if(!$fp = fopen($file_name, "w")){\r\n		  echo "文件打开失败！";\r\n		  return false;\r\n		}\r\n\r\n		if(!fwrite($fp, $content)){\r\n			echo "文件写入失败！";\r\n			fclose($fp);\r\n			return false;\r\n		}\r\n\r\n		fclose($fp);\r\n		chmod($file_name,0777);\r\n		\r\n		if(file_exists($file_name)){\r\n			require  $file_name;       //包含静态化文件\r\n			die;\r\n		}\r\n		\r\n	}\r\n</pre>\r\n\r\n加好了之后，就是调用了。怎么调用呢，看一下代码：\r\n<pre lang="php">\r\n//	$smarty->display(''index.html'');\r\n	$content = $smarty->fetch(''index.html'');\r\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\r\n\r\n</pre>\r\n\r\n\r\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！\r\n', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2011-11-25 13:31:02', 160, 'http://xpmyblog.sinaapp.com/?p=162', 0, 'revision', '', 0),
(163, 1, '2011-11-25 23:00:52', '<pre class="brush: js;">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nvar rand = function(num){\r\n	return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nvar randomcolor = function(){\r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;\r\n}\r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'publish', 'open', '2012-12-21 16:25:12', 0, 'http://xpmyblog.sinaapp.com/?p=163', 0, 'post', '', 1),
(164, 1, '2011-11-25 23:00:39', '<pre lang="php">\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n<title>javascript云标签</title>\n</head>\n<body>\n<div id="wrap" style="width:400px;">  \n   <a href="#">web标准学习</a><a href="#">css</a>  \n   <a href="#">javascript</a><a href="#">html5</a>  \n   <a href="#">canvas</a><a href="#">video</a>  \n   <a href="#">audio</a><a href="#">jQuery</a>  \n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \n   <a href="#">firefox</a><a href="#">chrome</a>  \n   <a href="#">opera</a><a href="#">IE9</a>  \n   <a href="#">css3.0</a><a href="#">andriod</a>  \n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \n</div>  \n<script type="text/javascript">\nfunction rand(num){  \n   return parseInt(Math.random()*num+1);  \n}\n\nfunction randomcolor(){  \n	var str=Math.ceil(Math.random()*16777215).toString(16);  \n	if(str.length<6){  \n		str="0"+str;  \n	}  \n	return str;  \n}  \n\nvar obj = document.getElementsByTagName("a");\nvar len = obj.length;\nfor(len,i=len;i--;){  \n	obj[i].style.left=rand(600)+"px";  \n	obj[i].style.top=rand(400)+"px";  \n	obj[i].className="color"+rand(5);  \n	obj[i].style.zIndex=rand(5);  \n	obj[i].style.fontSize=rand(12)+12+"px";  \n//	obj[i].style.background="#"+randomcolor();  \n	obj[i].style.color="#"+randomcolor();  \n	obj[i].onmouseover=function(){  \n		this.style.background="#"+randomcolor();  \n	}  \n	obj[i].onmouseout=function(){  \n		this.style.background="none";  \n	}  \n} \n</script>\n</body>\n</html>\n\n</pre>', '为大家送上java', '', 'inherit', 'open', '2011-11-25 23:00:39', 163, 'http://xpmyblog.sinaapp.com/?p=164', 0, 'revision', '', 0),
(165, 1, '2011-11-25 23:00:52', '<pre lang="php">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nfunction rand(num){  \r\n   return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nfunction randomcolor(){  \r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;  \r\n}  \r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'inherit', 'open', '2011-11-25 23:00:52', 163, 'http://xpmyblog.sinaapp.com/?p=165', 0, 'revision', '', 0),
(166, 1, '2011-11-25 23:38:22', '<pre lang="php">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nfunction rand(num){  \r\n   return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nvar randomcolor = function(){\r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;\r\n}\r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'inherit', 'open', '2011-11-25 23:38:22', 163, 'http://xpmyblog.sinaapp.com/?p=166', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(170, 1, '2011-12-17 00:12:46', '转自：http://www.ya21.com/index.php/suptools/vim/107-t-tools-vim/184-vim-\r\nvim是一个多模式的编辑器。就目前来看，主要有以下几个主要模式。\r\n　　1.通常模式(n) 在其它任何一个模式下,用ESC或者 ctrl+c 键可以退到通常模式。\r\n　　2.插入模式(i) 在这个模式下,vim像一个常见的编辑器.在通常模式下,用i或者a可以进行本模式,当然,还有一些其它命令也可以。\r\n　　3.可视模式(v) 在这个模式下,可以使用hjkl进行选择.然后进行copy,paste或者其它操作. 在通常模式下,用v命令进行可视模式。\r\n　　4. 块操作模式(V) 这是块操作模式. 在通常模式下,用ctrl+v进入本模式。\r\n　　5. 修改模式(R) 这是改写的模式.很多软件法用insert键来完成这个切换.在vim中,从通常模式用R即可进入改写模式。\r\n　　6. 扩展命令模式(ex) 这是命令执行模式 在通常模式下用:切换到此模式。\r\n输入模式\r\n\r\nCtrl+d\r\n向前缩进\r\nCtrl+t\r\n向后缩进\r\nCtrl+f\r\n首行缩进\r\nCtrl+a\r\n全选\r\nCtrl+x\r\n剪切\r\nCtrl+c\r\n复制\r\nCtrl+z\r\n撤销\r\nCtrl+v\r\n粘贴\r\nCtrl+o\r\n切换到通常模式(只执行单个命令后返回输入模式)\r\nCtrl+w或Ctrl+u\r\n删除光标到行首得字符\r\nCtrl+i\r\n当前光标插入空格\r\nCtrl+m 或 Ctrl+j\r\n换行\r\nCtrl+Pgup\r\n上个标签\r\nCtrl+PgDn\r\n下个标签\r\nAlt+PgUp\r\n向上翻页\r\nAlt+PgDn\r\n向下翻页\r\nF3\r\n打开过的文件补全\r\nShift+F3\r\n当前目录下文件补全窗口\r\nF9\r\n插入当前日期\r\nCtrl+l\r\n程序关键字补全\r\nCtrl+X Ctrl+O\r\n程序关键字补全\r\nCtrl+X Ctrl+F\r\n文件路径补全\r\nCtrl+X Ctrl+P\r\n文件中出现的关键字补全\r\nCtrl+\\\r\n拼音输入法补全\r\nAlt+\\\r\n代码模板补全\r\n\r\n\r\n通常模式\r\n\r\nG\r\n跳最后一行\r\ngg\r\n跳到第一行\r\ndd\r\n删除当前行\r\nyy\r\n复制当前行\r\n;p\r\n粘贴当前行\r\nk\r\n光标向上移动\r\nj\r\n光标向下移动\r\nh\r\n光标向左移动\r\nl\r\n光标向右移动\r\nctrl+f\r\n向下翻页\r\nctrl+b\r\n向上翻页\r\nctrl+d\r\n向下半翻页\r\nctrl+u\r\n向上半翻页\r\nctrl+a\r\n数字加1\r\nctrl+x\r\n数字减1\r\n$\r\n移动行尾\r\n0\r\n移动行首\r\nw\r\n移动下一个词\r\nb\r\n移动到上一个词\r\nv\r\n转到可视模式\r\n23gg\r\n跳到第23行\r\n23G\r\n跳到第23行\r\ndib\r\n删除内含 ''('' '')'' 块\r\ndiB\r\n删除内含 ''{'' ''}'' 大块\r\nggVG\r\n全选\r\ngg=G\r\n自动缩进\r\nFa\r\n跳到光标所在行的位置的前面的a处\r\nqa\r\n记录宏a\r\nF10\r\n打开文件Tree\r\nF1\r\n打开帮助\r\nF2\r\n打开编码选择窗口\r\nF3\r\n变量和方法查看窗口\r\nF11\r\n全屏模式切换\r\na\r\n进入输入模式(追加)\r\ni\r\n进入输入模式(插入)\r\n*\r\n高亮当前选择单词\r\n$\r\n跳到行末\r\n%\r\n跳到匹配的括号处（"{ }""[]""()"）\r\nb\r\n跳到行开始处\r\ne\r\n跳到行结束处\r\nf\r\n还原窗体\r\nff\r\n最大化\r\nn\r\n下一个高亮的关键字\r\nshift+n\r\n上一个高亮的关键字\r\n/\r\n进行高亮关键字输入\r\n?\r\n\r\n\r\n扩展命令模式\r\n\r\n:5,56s/aa/bb/g\r\n从第5行到56行替换aa为bb\r\n: 5,%s/aa/bb/g\r\n从第5行到最后一行替换aa为bb\r\n:%s/aa/bb/\r\n替换全部aa为bb\r\n:tabe\r\n新建窗口标签\r\n:g/^$/d\r\n删除空行\r\n:%s/^M//g 或 :%s/\\r//g\r\n每一行都会多出一个^M\r\n\r\n\r\n可视模式\r\n\r\nSHIFT+>\r\n向后缩进\r\nSHIFT+<\r\n向前缩进\r\ni"\r\n选择内含双引号块\r\ni{\r\n选择内含大括号块\r\niw\r\n选择单词\r\nCtrl+q\r\n选择快\r\nr”\r\n将选择的替换为双引号\r\n', 'vim 快捷键', '', 'publish', 'open', '2012-12-21 16:23:50', 0, 'http://xpmyblog.sinaapp.com/?p=170', 0, 'post', '', 0),
(171, 1, '2011-12-17 00:11:44', '转自：http://www.ya21.com/index.php/suptools/vim/107-t-tools-vim/184-vim-\nvim是一个多模式的编辑器。就目前来看，主要有以下几个主要模式。\n　　1.通常模式(n) 在其它任何一个模式下,用ESC或者 ctrl+c 键可以退到通常模式。\n　　2.插入模式(i) 在这个模式下,vim像一个常见的编辑器.在通常模式下,用i或者a可以进行本模式,当然,还有一些其它命令也可以。\n　　3.可视模式(v) 在这个模式下,可以使用hjkl进行选择.然后进行copy,paste或者其它操作. 在通常模式下,用v命令进行可视模式。\n　　4. 块操作模式(V) 这是块操作模式. 在通常模式下,用ctrl+v进入本模式。\n　　5. 修改模式(R) 这是改写的模式.很多软件法用insert键来完成这个切换.在vim中,从通常模式用R即可进入改写模式。\n　　6. 扩展命令模式(ex) 这是命令执行模式 在通常模式下用:切换到此模式。\n输入模式\n\nCtrl+d\n向前缩进\nCtrl+t\n向后缩进\nCtrl+f\n首行缩进\nCtrl+a\n全选\nCtrl+x\n剪切\nCtrl+c\n复制\nCtrl+z\n撤销\nCtrl+v\n粘贴\nCtrl+o\n切换到通常模式(只执行单个命令后返回输入模式)\nCtrl+w或Ctrl+u\n删除光标到行首得字符\nCtrl+i\n当前光标插入空格\nCtrl+m 或 Ctrl+j\n换行\nCtrl+Pgup\n上个标签\nCtrl+PgDn\n下个标签\nAlt+PgUp\n向上翻页\nAlt+PgDn\n向下翻页\nF3\n打开过的文件补全\nShift+F3\n当前目录下文件补全窗口\nF9\n插入当前日期\nCtrl+l\n程序关键字补全\nCtrl+X Ctrl+O\n程序关键字补全\nCtrl+X Ctrl+F\n文件路径补全\nCtrl+X Ctrl+P\n文件中出现的关键字补全\nCtrl+\\\n拼音输入法补全\nAlt+\\\n代码模板补全\n\n', 'vim 快捷键', '', 'inherit', 'open', '2011-12-17 00:11:44', 170, 'http://xpmyblog.sinaapp.com/?p=171', 0, 'revision', '', 0),
(172, 1, '2011-12-23 12:47:34', '1、我一同学，在美国读研。一次他去苹果店买电脑，对卖电脑的人的态度很不满，结果把店里的电脑，iPad，iPhone神马的系统语言全都设成中文后扬长而去。\r\n\r\n2、成绩最好的同学提前交卷，告诉监考老师要通知事情，接着在黑板上写：\r\n　　1、4、6、9、12、17号考完试留下作清洁；\r\n\r\n　　2、3、8、14、18号考完去找班主任；\r\n\r\n　　5、10、11、15、19号考完了去找数学老师补作业；\r\n\r\n　　其他同学考完了回寝室。\r\n\r\n　　其实真正的意思是：第一行代表选A的题号，第二行代表选B的，以此类推。\r\n\r\n3、如何判断员工是否在工作：1.打字非常轻快且有停顿：在聊天；2.键盘鼠标并用且不停点击：在玩游戏；3.不停滑动滚轮或Pagedown键：在看帖子；4.不停按刷新/F5：在上微博；5.一动不动，紧盯屏幕的，在看电影。表情时而严肃，时而轻松的是在看股 票；7.手放在键盘上但长时间未动：睡着了。（标注：当年我一同事就跟我说，不要把键盘敲的那么响，那么快，因为总监会认为你在聊天，哈哈哈！）\r\n\r\n4、我同事的猫，只要一犯错就被扯脖子扔出窗户，他家在二楼。所以现在我就能看到一个奇怪的现象：我去他们家玩，那猫进来瞅了瞅，一爪子把可乐放翻，然后直勾勾地看着同事几秒，慢慢地走到窗台，侧着身子栽下去……\r\n\r\n5、同学刚刚打电话来嚎啕大哭：“刚才我上厕所发现没纸！问隔壁借纸的时候，发现这竟然是男厕所！！” “那还不快跑？！” “跑了！一推门外边冲进来一群男生！领头那个我还认识！！！！” “捂住脸啊！” “捂了！但是这货大声叫我名字！兴高采烈跟我说：XX！好巧！你也来上厕所啊！哈哈哈哈！！！！”\r\n\r\n6、昨天深夜，骑着单车回家，由于没有路灯 所以骑得比较慢，后面来了辆小车，慢慢的跟着我，还是不是的用远近灯为我照亮前方的路，在这寒冷的夜里，让我心中有种莫名的感动。。直到数秒过后，后面的开始按喇叭，那人伸出头来说：你丫的，别骑路中间啊...\r\n', '我又来发笑话了。', '', 'publish', 'open', '2012-12-21 16:15:31', 0, 'http://xpmyblog.sinaapp.com/?p=172', 0, 'post', '', 0),
(173, 1, '2011-12-23 12:39:31', '1、我一同学，在美国读研。一次他去苹果店买电脑，对卖电脑的人的态度很不满，结果把店里的电脑，iPad，iPhone神马的系统语言全都设成中文后扬长而去。\n\n2、成绩最好的同学提前交卷，告诉监考老师要通知事情，接着在黑板上写：\n　　1、4、6、9、12、17号考完试留下作清洁；\n\n　　2、3、8、14、18号考完去找班主任；\n\n　　5、10、11、15、19号考完了去找数学老师补作业；\n\n　　其他同学考完了回寝室。\n\n　　其实真正的意思是：第一行代表选A的题号，第二行代表选B的，以此类推。\n\n3、如何判断员工是否在工作：1.打字非常轻快且有停顿：在聊天；2.键盘鼠标并用且不停点击：在玩游戏；3.不停滑动滚轮或Pagedown键：在看帖子；4.不停按刷新/F5：在上微博；5.一动不动，紧盯屏幕的，在看电影。表情时而严肃，时而轻松的是在看股 票；7.手放在键盘上但长时间未动：睡着了。（标注：当年我一同事就跟我说，不要把键盘敲的那么响，那么快，因为总监会认为你在聊天，哈哈哈！）\n\n4、我同事的猫，只要一犯错就被扯脖子扔出窗户，他家在二楼。所以现在我就能看到一个奇怪的现象：我去他们家玩，那猫进来瞅了瞅，一爪子把可乐放翻，然后直勾勾地看着同事几秒，慢慢地走到窗台，侧着身子栽下去……\n\n5、同学刚刚打电话来嚎啕大哭：“刚才我上厕所发现没纸！问隔壁借纸的时候，发现这竟然是男厕所！！” “那还不快跑？！” “跑了！一推门外边冲进来一群男生！领头那个我还认识！！！！” “捂住脸啊！” “捂了！但是这货大声叫我名字！兴高采烈跟我说：XX！好巧！你也来上厕所啊！哈哈哈哈！！！！”\n\n6、昨天深夜，骑着单车回家，由于没有路灯 所以骑得比较慢，后面来了辆小车，慢慢的跟着我，还是不是的用远近灯为我照亮前方的路，在这寒冷的夜里，让我心中有种莫名的感动。。直到数秒过后，后面的开始按喇叭，那人伸出头来说：你丫的，别骑路中间啊...\n\n7、', '我又来发笑话了。', '', 'inherit', 'open', '2011-12-23 12:39:31', 172, 'http://xpmyblog.sinaapp.com/?p=173', 0, 'revision', '', 0),
(174, 1, '2011-12-23 12:47:34', '1、我一同学，在美国读研。一次他去苹果店买电脑，对卖电脑的人的态度很不满，结果把店里的电脑，iPad，iPhone神马的系统语言全都设成中文后扬长而去。\r\n\r\n2、成绩最好的同学提前交卷，告诉监考老师要通知事情，接着在黑板上写：\r\n　　1、4、6、9、12、17号考完试留下作清洁；\r\n\r\n　　2、3、8、14、18号考完去找班主任；\r\n\r\n　　5、10、11、15、19号考完了去找数学老师补作业；\r\n\r\n　　其他同学考完了回寝室。\r\n\r\n　　其实真正的意思是：第一行代表选A的题号，第二行代表选B的，以此类推。\r\n\r\n3、如何判断员工是否在工作：1.打字非常轻快且有停顿：在聊天；2.键盘鼠标并用且不停点击：在玩游戏；3.不停滑动滚轮或Pagedown键：在看帖子；4.不停按刷新/F5：在上微博；5.一动不动，紧盯屏幕的，在看电影。表情时而严肃，时而轻松的是在看股 票；7.手放在键盘上但长时间未动：睡着了。（标注：当年我一同事就跟我说，不要把键盘敲的那么响，那么快，因为总监会认为你在聊天，哈哈哈！）\r\n\r\n4、我同事的猫，只要一犯错就被扯脖子扔出窗户，他家在二楼。所以现在我就能看到一个奇怪的现象：我去他们家玩，那猫进来瞅了瞅，一爪子把可乐放翻，然后直勾勾地看着同事几秒，慢慢地走到窗台，侧着身子栽下去……\r\n\r\n5、同学刚刚打电话来嚎啕大哭：“刚才我上厕所发现没纸！问隔壁借纸的时候，发现这竟然是男厕所！！” “那还不快跑？！” “跑了！一推门外边冲进来一群男生！领头那个我还认识！！！！” “捂住脸啊！” “捂了！但是这货大声叫我名字！兴高采烈跟我说：XX！好巧！你也来上厕所啊！哈哈哈哈！！！！”\r\n\r\n6、昨天深夜，骑着单车回家，由于没有路灯 所以骑得比较慢，后面来了辆小车，慢慢的跟着我，还是不是的用远近灯为我照亮前方的路，在这寒冷的夜里，让我心中有种莫名的感动。。直到数秒过后，后面的开始按喇叭，那人伸出头来说：你丫的，别骑路中间啊...\r\n\r\n7、', '我又来发笑话了。', '', 'inherit', 'open', '2011-12-23 12:47:34', 172, 'http://xpmyblog.sinaapp.com/?p=174', 0, 'revision', '', 0),
(175, 1, '2012-01-06 15:04:29', '转载请注明出处！\r\n\r\n<pre class="brush: php;">\r\n\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪 http://weibo.com/xpmozong \r\n * http://xpmyblog.sinaapp.com/?p=175\r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 取得结果数据\r\n	 *\r\n	 * @param resource $query\r\n	 *\r\n	 * @return string\r\n	 *\r\n	 */\r\n	function result($query, $row) {\r\n		$query = @mysql_result($query, $row);\r\n		return $query;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return ($id = mysql_insert_id($this->dblink)) >= 0 ? $id : $this->result($this->query(''SELECT last_insert_id()''), 0);\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'publish', 'open', '2012-12-21 16:20:00', 0, 'http://xpmyblog.sinaapp.com/?p=175', 0, 'post', '', 0),
(176, 1, '2012-01-06 15:03:50', '转载请注明出处！\n\np', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-01-06 15:03:50', 175, 'http://xpmyblog.sinaapp.com/?p=176', 0, 'revision', '', 0),
(177, 1, '2012-01-06 15:04:29', '转载请注明出处！\r\n\r\n<pre lang="php">\r\n<?php\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪\r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return mysql_insert_id();\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n?>\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-01-06 15:04:29', 175, 'http://xpmyblog.sinaapp.com/?p=177', 0, 'revision', '', 0),
(178, 1, '2012-01-06 15:25:41', '转载请注明出处！\r\n\r\n<pre lang="php">\r\n<?php\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪 http://weibo.com/xpmozong \r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return mysql_insert_id();\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n?>\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-01-06 15:25:41', 175, 'http://xpmyblog.sinaapp.com/?p=178', 0, 'revision', '', 0),
(180, 1, '2012-01-08 13:32:41', '前段时间研究了下CI框架的router，今天下午，继续看CI，发现\r\n<pre class="brush: php;">\r\nclass Welcome extends CI_Controller {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n</pre>\r\n\r\n为什么能够直接用$this->load呢？？？ 这是我在面试的时候，被提问的。所以就仔细看看啰。\r\n\r\n这块和构造函数有关，所以看了下手册，自己写了个模仿CI的例子。\r\n\r\n<pre class="brush: php;">\r\n\r\nclass BaseClass {\r\n	var $load;\r\n	function __construct() {\r\n		$this->load = new load();\r\n	}\r\n}\r\n\r\nclass load {\r\n	function helper($helper) {\r\n		echo $helper;die;   //这里可以加载文件\r\n	}\r\n}\r\n\r\nclass SubClass extends BaseClass {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n\r\n$obj = new SubClass();\r\n\r\n</pre>\r\n\r\n\r\n不知道我上面写的对不对，希望有高手评价下。', '对于CI框架$this->load->helper(''url'');这种用法的理解', '', 'publish', 'open', '2012-12-21 16:19:56', 0, 'http://xpmyblog.sinaapp.com/?p=180', 0, 'post', '', 0),
(181, 1, '2012-01-08 13:32:02', '前段时间研究了下CI框架的router，今天下午，继续看CI，发现\n<pre lang="php">\nclass Welcome extends CI_Controller {\n	function __construct() {\n		parent::__construct();\n		$this->load->helper(''url'');\n	}\n}\n</pre>\n\n为什么能够直接用$this->load呢？？？ 这是我在面试的时候，被提问的。所以就仔细看看啰。\n\n这块和构造函数有关，所以看了下手册，自己写了个模仿CI的例子。\n\n<pre lang="php">\n<?php\nclass BaseClass {\n	var $load;\n	function __construct() {\n		$this->load = new load();\n	}\n}\n\nclass load {\n	function helper($helper) {\n		echo $helper;die;   //这里可以加载文件\n	}\n}\n\nclass SubClass extends BaseClass {\n	function __construct() {\n		parent::__construct();\n		$this->load->helper(''url'');\n	}\n}\n\n$obj = new SubClass();\n\n?> \n\n</pre>\n\n\n\n', '对于CI框架$this->load->helper(''url'');这种用的理解', '', 'inherit', 'open', '2012-01-08 13:32:02', 180, 'http://xpmyblog.sinaapp.com/?p=181', 0, 'revision', '', 0),
(182, 1, '2012-01-08 13:32:41', '前段时间研究了下CI框架的router，今天下午，继续看CI，发现\r\n<pre lang="php">\r\nclass Welcome extends CI_Controller {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n</pre>\r\n\r\n为什么能够直接用$this->load呢？？？ 这是我在面试的时候，被提问的。所以就仔细看看啰。\r\n\r\n这块和构造函数有关，所以看了下手册，自己写了个模仿CI的例子。\r\n\r\n<pre lang="php">\r\n<?php\r\nclass BaseClass {\r\n	var $load;\r\n	function __construct() {\r\n		$this->load = new load();\r\n	}\r\n}\r\n\r\nclass load {\r\n	function helper($helper) {\r\n		echo $helper;die;   //这里可以加载文件\r\n	}\r\n}\r\n\r\nclass SubClass extends BaseClass {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n\r\n$obj = new SubClass();\r\n\r\n?> \r\n\r\n</pre>\r\n\r\n\r\n不知道我上面写的对不对，希望有高手评价下。\r\n', '对于CI框架$this->load->helper(''url'');这种用的理解', '', 'inherit', 'open', '2012-01-08 13:32:41', 180, 'http://xpmyblog.sinaapp.com/?p=182', 0, 'revision', '', 0),
(195, 1, '2012-01-06 15:27:18', '转载请注明出处！\r\n\r\n<pre lang="php">\r\n<?php\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪 http://weibo.com/xpmozong \r\n * http://xpmyblog.sinaapp.com/?p=175\r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return mysql_insert_id();\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n?>\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-01-06 15:27:18', 175, 'http://xpmyblog.sinaapp.com/?p=195', 0, 'revision', '', 0),
(196, 1, '2012-01-09 22:38:21', '直接上最简单的\r\n<pre class="brush: php;">\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\nclass call_func{\r\n	function func0() {\r\n		echo ''func0'';\r\n	}\r\n\r\n	function func1($a) {\r\n		echo $a;\r\n	}\r\n\r\n	function func2($a, $b) {\r\n		echo $a+$b;\r\n	}\r\n\r\n	function func3($a, $b, $c) {\r\n		echo $a+$b+$c;\r\n	}\r\n}\r\n\r\nfunction otest() {\r\n	$args = func_get_args();	\r\n	$num = func_num_args();\r\n	call_user_func_array(array(''call_func'',''func''.$num), $args);\r\n}\r\n\r\notest(1,1,1);\r\n</pre>\r\n\r\nmixed call_user_func_array ( callback function, array param_arr ) 和 mixed call_user_func ( callback $function [, mixed $parameter [, mixed $... ]] ) 相似\r\n\r\n还可以这样实例化类的，厉害吧！！！', 'PHP之call_user_func_array用法', '', 'publish', 'open', '2012-12-21 16:19:41', 0, 'http://xpmyblog.sinaapp.com/?p=196', 0, 'post', '', 0),
(197, 1, '2012-01-09 22:37:36', '', 'PHP之call_user_func_array用法', '', 'inherit', 'open', '2012-01-09 22:37:36', 196, 'http://xpmyblog.sinaapp.com/?p=197', 0, 'revision', '', 0),
(198, 1, '2012-01-09 22:45:17', '直接上最简单的\n<pre>\nheader(''Content-Type:text/html;charset=utf-8'');\nclass call_func{\n	function func0() {\n		echo ''func0'';\n	}\n\n	function func1($a) {\n		echo $a;\n	}\n\n	function func2($a, $b) {\n		echo $a+$b;\n	}\n\n	function func3($a, $b, $c) {\n		echo $a+$b+$c;\n	}\n}\n\nfunction otest() {\n	$args = func_get_args();	\n	$num = func_num_args();\n	call_user_func_array(array(''call_func'',''func''.$num), $args);\n}\n\notest(1,1,1);\n</pre>\n\nmixed call_user_func_array ( callback function, array param_arr ) 和 mixed call_user_func ( callback $function [, mixed $parameter [, mixed $... ]] ) \n\n', 'PHP之call_user_func_array用法', '', 'inherit', 'open', '2012-01-09 22:45:17', 196, 'http://xpmyblog.sinaapp.com/?p=198', 0, 'revision', '', 0),
(199, 1, '2012-01-09 22:38:21', '直接上最简单的\r\n<pre>\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\nclass call_func{\r\n	function func0() {\r\n		echo ''func0'';\r\n	}\r\n\r\n	function func1($a) {\r\n		echo $a;\r\n	}\r\n\r\n	function func2($a, $b) {\r\n		echo $a+$b;\r\n	}\r\n\r\n	function func3($a, $b, $c) {\r\n		echo $a+$b+$c;\r\n	}\r\n}\r\n\r\nfunction otest() {\r\n	$args = func_get_args();	\r\n	$num = func_num_args();\r\n	call_user_func_array(array(''call_func'',''func''.$num), $args);\r\n}\r\n\r\notest(1,1,1);\r\n</pre>', 'PHP之call_user_func_array用法', '', 'inherit', 'open', '2012-01-09 22:38:21', 196, 'http://xpmyblog.sinaapp.com/?p=199', 0, 'revision', '', 0),
(200, 1, '2012-01-09 22:50:32', '静态化网页，是个基本技能。下面是smarty静态化。\n打开Smarty.class.php 文件\n加入以下代码\n<pre lang="php">\n        // 循环创建目录 \n	function mk_dir($dir, $mode = 0777) \n	{ \n		if($dir == '''') return true;\n		if (is_dir($dir) || @mkdir($dir,$mode)) return true; \n		if (!$this->mk_dir(dirname($dir),$mode)) return false; \n		return @mkdir($dir,$mode); \n	} \n\n	/**\n	 * 页面静态化\n	 * \n	 * @param string $file_name  \n	 * @param string $content\n	 *\n	 */\n	function makeHtmlFile($filedir, $file_name, $content)\n	{\n		$filedir = $filedir == '''' ? dirname(__FILE__).''/../../'' : $filedir;\n		//目录不存在就创建\n		if (!file_exists($filedir.$file_name)){\n			$this->mk_dir($filedir);\n		}\n		if(!$fp = fopen($filedir.$file_name, "w+", true)){\n			echo ''文件打开失败！'';\n			return false;\n		}\n		if(!fwrite($fp, $content)){\n			echo ''文件写入失败！'';\n			return false;\n		}\n		fclose($fp);\n		if(chmod($filedir.$file_name,0777)){\n			return true;\n		}else{\n			echo ''改变文件权限失败！'';\n			return false;\n		}	\n	}\n</pre>\n\n加好了之后，就是调用了。怎么调用呢，看一下代码：\n<pre lang="php">\n//	$smarty->display(''index.html'');\n	$content = $smarty->fetch(''index.html'');\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\n\n</pre>\n\n\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！\n', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2012-01-09 22:50:32', 160, 'http://xpmyblog.sinaapp.com/?p=200', 0, 'revision', '', 0),
(201, 1, '2011-11-25 13:35:41', '静态化网页，是个基本技能。下面是smarty静态化。\r\n打开Smarty.class.php 文件\r\n加入以下代码\r\n<pre lang="php">\r\n      /**\r\n	 * 页面静态化\r\n	 * \r\n	 * @param string $file_name  \r\n	 * @param string $content\r\n	 *\r\n	 */\r\n	function makeHtmlFile($file_name, $content)\r\n	{\r\n                //先查看下有不有，木有就向下走，生成静态页\r\n		if(file_exists($file_name)){\r\n			require  $file_name;\r\n			die;\r\n		}\r\n\r\n		//目录不存在就创建\r\n		if (!file_exists (dirname($file_name))) {\r\n			if (!@mkdir (dirname($file_name), 0777)) {\r\n				die($file_name."目录创建失败！");\r\n			}\r\n		}\r\n				\r\n		if(!$fp = fopen($file_name, "w")){\r\n		  echo "文件打开失败！";\r\n		  return false;\r\n		}\r\n\r\n		if(!fwrite($fp, $content)){\r\n			echo "文件写入失败！";\r\n			fclose($fp);\r\n			return false;\r\n		}\r\n\r\n		fclose($fp);\r\n		chmod($file_name,0777);\r\n		\r\n		if(file_exists($file_name)){\r\n			require  $file_name;       //包含静态化文件\r\n			die;\r\n		}\r\n		\r\n	}\r\n</pre>\r\n\r\n加好了之后，就是调用了。怎么调用呢，看一下代码：\r\n<pre lang="php">\r\n//	$smarty->display(''index.html'');\r\n	$content = $smarty->fetch(''index.html'');\r\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\r\n\r\n</pre>\r\n\r\n\r\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！\r\n', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2011-11-25 13:35:41', 160, 'http://xpmyblog.sinaapp.com/?p=201', 0, 'revision', '', 0),
(202, 1, '2012-01-10 12:25:25', '同事的wamp打不开，所以帮忙检查下。\r\n先进入cmd.exe，\r\n输入 netstat -ano|findstr 80\r\n会看到 \r\nTCP 0.0.0.0:80 0.0.0.0 LISTENING 6952\r\n......\r\n\r\n然后再输入\r\ntasklist|findstr "6952" \r\n看一下哪个进程占用了它。我是从服务里查到的。OK，问题解决！', 'win7下查看被占用端口', '', 'publish', 'open', '2012-12-21 16:18:19', 0, 'http://xpmyblog.sinaapp.com/?p=202', 0, 'post', '', 0),
(203, 1, '2012-01-10 12:24:27', '同事的wamp打不开，所以帮忙检查下。\n先进入cmd.exe，\n输入 netstat -ano|findstr 80\n会看到 \nTCP 0.0.0.0:80 0.0.0.0 LISTENING 6952\n然后tasklist|findstr "6952" 看一下哪个进程占用了它', 'win7下查看被占用端口', '', 'inherit', 'open', '2012-01-10 12:24:27', 202, 'http://xpmyblog.sinaapp.com/?p=203', 0, 'revision', '', 0),
(204, 1, '2012-01-09 21:30:07', '转载请注明出处！\r\n\r\n<pre lang="php">\r\n<?php\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪 http://weibo.com/xpmozong \r\n * http://xpmyblog.sinaapp.com/?p=175\r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 取得结果数据\r\n	 *\r\n	 * @param resource $query\r\n	 *\r\n	 * @return string\r\n	 *\r\n	 */\r\n	function result($query, $row) {\r\n		$query = @mysql_result($query, $row);\r\n		return $query;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return ($id = mysql_insert_id($this->dblink)) >= 0 ? $id : $this->result($this->query(''SELECT last_insert_id()''), 0);\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n?>\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-01-09 21:30:07', 175, 'http://xpmyblog.sinaapp.com/?p=204', 0, 'revision', '', 0),
(205, 1, '2012-01-17 17:21:23', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre class="brush: php;">\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n</pre>\r\n2、\r\n<pre class="brush: php;">\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre class="brush: php;">\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n</pre>\r\n注意，要把online.txt文件的属性设为777，还有上面程序只对linux系统下有效。\r\n\r\n4、现在开始标题的程序吧\r\n<pre class="brush: php;">\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 http://xpmyblog.sinaapp.com/?p=205', 'php查找一个单词在一个文件中的第几行第几列', '', 'publish', 'open', '2012-12-21 16:19:35', 0, 'http://xpmyblog.sinaapp.com/?p=205', 0, 'post', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(206, 1, '2012-01-17 17:20:47', '在写这个程序之前，先回忆相关的代码。\n1、\n<pre lang="php">\n$file = "aa.txt "; \n$file_array = file($file); \n$file_line_num = count($file_array); \necho $file_line_num;die;    //获得这个文件有多少行\n</pre>\n2、\n<pre lang="php">\n$txt = file(''aa.txt'');\necho $txt[2];die;	//输出第三行\n</pre>\n3、\n有一个很大的日志文件，要读出最后100行，怎么办？\n<pre lang="php">\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\nsystem($commandstr); //调用系统命令\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\nwhile (!feof($file_handle)) {\n   $line = fgets($file_handle);\n        echo nl2br($line); //输出文件\n}\nfclose($file_handle); //关闭文件\n</pre>\n注意，要把online.txt文件的属性设为777\n\n4、现在开始标题的程序吧\n<pre lang="php">\n$txt = file(''aa.txt'');\nforeach($txt as $key=>$value) {\n	if(preg_match(''/heaven/'',$value)) {\n		$strarr = explode('' '',$value);\n		foreach($strarr as $k => $v) {\n			if(preg_match(''/heaven/'',$v)) {\n				echo ($key+1).'',''.($k+1).'' '';\n			}\n		}\n	}\n}\n</pre>\n我写的时间复杂度m\n', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-01-17 17:20:47', 205, 'http://xpmyblog.sinaapp.com/?p=206', 0, 'revision', '', 0),
(207, 1, '2012-01-17 17:21:23', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre lang="php">\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n</pre>\r\n2、\r\n<pre lang="php">\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre lang="php">\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n</pre>\r\n注意，要把online.txt文件的属性设为777\r\n\r\n4、现在开始标题的程序吧\r\n<pre lang="php">\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 \r\n', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-01-17 17:21:23', 205, 'http://xpmyblog.sinaapp.com/?p=207', 0, 'revision', '', 0),
(209, 1, '2012-01-29 15:28:03', 'DDoS deflate是一款免费的用来防御和减轻DDoS攻击的脚本。它通过netstat监测跟踪创建大量网络连接的IP地址，在检测到某个结点超过预设的限 制时，该程序会通过APF或IPTABLES禁止或阻挡这些IP.\r\nDDoS deflate官方网站：http://deflate.medialayer.com/\r\n\r\nnetstat -ntu | awk ''{print $5}'' | cut -d: -f1 | sort | uniq -c | sort -n\r\n\r\n执行上面的命令后，\r\n      1 Address\r\n      1 servers)\r\n      2 123.113.152.60\r\n      4 59.151.36.148\r\n................................\r\n每个IP几个、十几个或几十个连接数都还算比较正常，如果像上面成百上千肯定就不正常了。\r\n\r\n\r\n好了，下面就安装DDoS deflate吧。\r\n\r\n第一步：安装DDoS deflate\r\nwget http://www.inetbase.com/scripts/ddos/install.sh\r\nchmod 0700 install.sh\r\n./install.sh    //安装\r\n（卸载：\r\nwget http://www.inetbase.com/scripts/ddos/uninstall.ddos\r\nchmod 0700 uninstall.ddos\r\n./uninstall.ddos\r\n）\r\n\r\n第二步：配置DDoS deflate\r\n下面是DDoS deflate的默认配置位于/usr/local/ddos/ddos.conf ，内容如下：\r\n\r\n##### Paths of the script and other files\r\nPROGDIR="/usr/local/ddos"\r\nPROG="/usr/local/ddos/ddos.sh"\r\nIGNORE_IP_LIST="/usr/local/ddos/ignore.ip.list"  //IP地址白名单\r\nCRON="/etc/cron.d/ddos.cron"    //定时执行程序\r\nAPF="/etc/apf/apf"\r\nIPT="/sbin/iptables"\r\n\r\n##### frequency in minutes for running the script\r\n##### Caution: Every time this setting is changed, run the script with --cron\r\n#####          option so that the new frequency takes effect\r\nFREQ=1   //检查时间间隔，默认1分钟\r\n\r\n##### How many connections define a bad IP? Indicate that below.\r\nNO_OF_CONNECTIONS=150     //最大连接数，超过这个数IP就会被屏蔽，一般默认即可\r\n\r\n##### APF_BAN=1 (Make sure your APF version is atleast 0.96)\r\n##### APF_BAN=0 (Uses iptables for banning ips instead of APF)\r\nAPF_BAN=1        //使用APF还是iptables。推荐使用iptables,将APF_BAN的值改为0即可。\r\n\r\n##### KILL=0 (Bad IPs are''nt banned, good for interactive execution of script)\r\n##### KILL=1 (Recommended setting)\r\nKILL=1   //是否屏蔽IP，默认即可\r\n\r\n##### An email is sent to the following address when an IP is banned.\r\n##### Blank would suppress sending of mails\r\nEMAIL_TO="root"   //当IP被屏蔽时给指定邮箱发送邮件，推荐使用，换成自己的邮箱即可\r\n\r\n##### Number of seconds the banned ip should remain in blacklist.\r\nBAN_PERIOD=600    //禁用IP时间，默认600秒，可根据情况调整\r\n用户可根据给默认配置文件加上的注释提示内容，修改配置文件。\r\n\r\n第三步：查看/usr/local/ddos/ddos.sh文件的第117行\r\nnetstat -ntu | awk ‘{print $5}’ | cut -d: -f1 | sort | uniq -c | sort -nr > $BAD_IP_LIST\r\n\r\n修改为以下代码即可！\r\n\r\nnetstat -ntu | awk ‘{print $5}’ | cut -d: -f1 | sed -n ‘/[0-9]/p’ | sort | uniq -c | sort -nr > $BAD_IP_LIST\r\n\r\n\r\n\r\nOK了！\r\n', '实战DoS Deflate', '', 'publish', 'open', '2012-12-21 16:22:55', 0, 'http://xpmyblog.sinaapp.com/?p=209', 0, 'post', '', 0),
(210, 1, '2012-01-29 15:27:45', 'DDoS deflate是一款免费的用来防御和减轻DDoS攻击的脚本。它通过netstat监测跟踪创建大量网络连接的IP地址，在检测到某个结点超过预设的限 制时，该程序会通过APF或IPTABLES禁止或阻挡这些IP.\nDDoS deflate官方网站：http://deflate.medialayer.com/\n\nnetstat -ntu | awk ''{print $5}'' | cut -d: -f1 | sort | uniq -c | sort -n\n\n执行上面的命令后，\n      1 Address\n      1 servers)\n      2 123.113.152.60\n      4 59.151.36.148\n................................\n每个IP几个、十几个或几十个连接数都还算比较正常，如果像上面成百上千肯定就不正常了。\n\n\n好了，下面就安装DDoS deflate吧。\n\n第一步：安装DDoS deflate\nwget http://www.inetbase.com/scripts/ddos/install.sh\nchmod 0700 install.sh\n./install.sh    //安装\n（卸载：\nwget http://www.inetbase.com/scripts/ddos/uninstall.ddos\nchmod 0700 uninstall.ddos\n./uninstall.ddos\n）\n\n第二步：配置DDoS deflate\n下面是DDoS deflate的默认配置位于/usr/local/ddos/ddos.conf ，内容如下：\n\n##### Paths of the script and other files\nPROGDIR="/usr/local/ddos"\nPROG="/usr/local/ddos/ddos.sh"\nIGNORE_IP_LIST="/usr/local/ddos/ignore.ip.list"  //IP地址白名单\nCRON="/etc/cron.d/ddos.cron"    //定时执行程序\nAPF="/etc/apf/apf"\nIPT="/sbin/iptables"\n\n##### frequency in minutes for running the script\n##### Caution: Every time this setting is changed, run the script with --cron\n#####          option so that the new frequency takes effect\nFREQ=1   //检查时间间隔，默认1分钟\n\n##### How many connections define a bad IP? Indicate that below.\nNO_OF_CONNECTIONS=150     //最大连接数，超过这个数IP就会被屏蔽，一般默认即可\n\n##### APF_BAN=1 (Make sure your APF version is atleast 0.96)\n##### APF_BAN=0 (Uses iptables for banning ips instead of APF)\nAPF_BAN=1        //使用APF还是iptables。推荐使用iptables,将APF_BAN的值改为0即可。\n\n##### KILL=0 (Bad IPs are''nt banned, good for interactive execution of script)\n##### KILL=1 (Recommended setting)\nKILL=1   //是否屏蔽IP，默认即可\n\n##### An email is sent to the following address when an IP is banned.\n##### Blank would suppress sending of mails\nEMAIL_TO="root"   //当IP被屏蔽时给指定邮箱发送邮件，推荐使用，换成自己的邮箱即可\n\n##### Number of seconds the banned ip should remain in blacklist.\nBAN_PERIOD=600    //禁用IP时间，默认600秒，可根据情况调整\n用户可根据给默认配置文件加上的注释提示内容，修改配置文件。\n\n第三步：查看/usr/local/ddos/ddos.sh文件的第117行\nnetstat -ntu | awk ‘{print $5}’ | cut -d: -f1 | sort | uniq -c | sort -nr > $BAD_IP_LIST\n\n修改为以下代码即可！\n\nnetstat -ntu | awk ‘{print $5}’ | cut -d: -f1 | sed -n ‘/[0-9]/p’ | sort | uniq -c | sort -nr > $BAD_IP_LIST\n', '实战DoS Deflate', '', 'inherit', 'open', '2012-01-29 15:27:45', 209, 'http://xpmyblog.sinaapp.com/?p=210', 0, 'revision', '', 0),
(212, 1, '2012-01-29 21:18:45', '下面是配置nginx负载均衡的简单示例文件,主要作用是:\r\nwww.s135.com 和 blog.s135.com 域名均指向 Nginx 所在的服务器IP。用户访问http://www.s135.com，将其负载均衡到192.168.1.2:80、92.168.1.3:80、192.168.1.4:80、192.168.1.5:80四台服务器。用户访问http://blog.s135.com，将其负载均衡到192.168.1.7服务器的8080、8081、8082端口。获取用户真实ＩＰ.\r\n<pre class="brush: bash;">\r\nuser  www www;\r\n \r\nworker_processes 10;\r\n \r\n#error_log  logs/error.log;\r\n#error_log  logs/error.log  notice;\r\n#error_log  logs/error.log  info;\r\n \r\n#pid        logs/nginx.pid;\r\n \r\n#最大文件描述符\r\nworker_rlimit_nofile 51200;\r\n \r\nevents\r\n{\r\n      use epoll;\r\n \r\n      worker_connections 51200;\r\n}\r\n \r\nhttp\r\n{\r\n      include       conf/mime.types;\r\n      default_type  application/octet-stream;\r\n \r\n      keepalive_timeout 120;\r\n \r\n      tcp_nodelay on;\r\n \r\n      upstream  www.s135.com  {\r\n              server   192.168.1.2:80;\r\n              server   192.168.1.3:80;\r\n              server   192.168.1.4:80;\r\n              server   192.168.1.5:80;\r\n      }\r\n \r\n      upstream  blog.s135.com  {\r\n              server   192.168.1.7:8080;\r\n              server   192.168.1.7:8081;\r\n              server   192.168.1.7:8082;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  www.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://www.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  www_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/www.log  www_s135_com;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  blog.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://blog.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  blog_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/blog.log  blog_s135_com;\r\n      }\r\n}\r\n</pre>\r\n\r\n\r\n这里主要用到两个模块:\r\n１.HTTP负载均衡模块（HTTP Upstream）,其中的一些字段解释:\r\nserver:指定后端服务器的名称和一些参数，可以使用域名，IP，端口，或者unix socket。如果指定为域名，则首先将其解析为IP。\r\nupstream:这个字段设置一群服务器，可以将这个字段放在proxy_pass和fastcgi_pass指令中作为一个单独的实体，它们可以可以是监听不同端口的服务器，并且也可以是同时监听TCP和Unix socket的服务器。\r\n２.HTTP代理模块（HTTP Proxy）\r\n这个模块可以转发请求到其他的服务器。\r\nproxy_pass:这个指令设置被代理服务器的地址和被映射的URI，地址可以使用主机名或IP加端口号的形式\r\nproxy_set_header:这个指令允许将发送到被代理服务器的请求头重新定义或者增加一些字段。这个值可以是一个文本，变量或者它们的组合。', 'Nginx实现HTTP负载均衡', '', 'publish', 'open', '2012-12-21 16:22:39', 0, 'http://xpmyblog.sinaapp.com/?p=212', 0, 'post', '', 0),
(213, 1, '2012-01-29 21:18:05', '下面是配置nginx负载均衡的简单示例文件,主要作用是:\nwww.s135.com 和 blog.s135.com 域名均指向 Nginx 所在的服务器IP。用户访问http://www.s135.com，将其负载均衡到192.168.1.2:80、92.168.1.3:80、192.168.1.4:80、192.168.1.5:80四台服务器。用户访问http://blog.s135.com，将其负载均衡到192.168.1.7服务器的8080、8081、8082端口。获取用户真实ＩＰ.\n<pre lang="php">\nuser  www www;\n \nworker_processes 10;\n \n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n \n#pid        logs/nginx.pid;\n \n#最大文件描述符\nworker_rlimit_nofile 51200;\n \nevents\n{\n      use epoll;\n \n      worker_connections 51200;\n}\n \nhttp\n{\n      include       conf/mime.types;\n      default_type  application/octet-stream;\n \n      keepalive_timeout 120;\n \n      tcp_nodelay on;\n \n      upstream  www.s135.com  {\n              server   192.168.1.2:80;\n              server   192.168.1.3:80;\n              server   192.168.1.4:80;\n              server   192.168.1.5:80;\n      }\n \n      upstream  blog.s135.com  {\n              server   192.168.1.7:8080;\n              server   192.168.1.7:8081;\n              server   192.168.1.7:8082;\n      }\n \n      server\n      {\n              listen  80;\n              server_name  www.s135.com;\n \n              location / {\n                       proxy_pass        http://www.s135.com;\n                       proxy_set_header   Host             $host;\n                       proxy_set_header   X-Real-IP        $remote_addr;\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n              }\n \n              log_format  www_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\n                                ''"$status" $body_bytes_sent "$http_referer" ''\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\n              access_log  /data1/logs/www.log  www_s135_com;\n      }\n \n      server\n      {\n              listen  80;\n              server_name  blog.s135.com;\n \n              location / {\n                       proxy_pass        http://blog.s135.com;\n                       proxy_set_header   Host             $host;\n                       proxy_set_header   X-Real-IP        $remote_addr;\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n              }\n \n              log_format  blog_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\n                                ''"$status" $body_bytes_sent "$http_referer" ''\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\n              access_log  /data1/logs/blog.log  blog_s135_com;\n      }\n}\n</pre>', 'Nginx实现HTTP负载均衡', '', 'inherit', 'open', '2012-01-29 21:18:05', 212, 'http://xpmyblog.sinaapp.com/?p=213', 0, 'revision', '', 0),
(214, 1, '2012-02-27 10:53:05', '转载：http://blog.jobbole.com/13901/\r\n一、\r\n总裁：“我们不需要两台服务器”\r\n我：“可是我们需要双机备份”\r\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\r\n我：“唉…”\r\n二、\r\n领导：“我们的外网网站应该支持IE8”\r\n开发：“我们需要安装IE8才能测试\r\n领导：“技术支持部门会为你们测试”\r\n技术支持：“我们不支持IE8”\r\n开发：“我们需要安装IE8来测试\r\n领导：“你们不允许安装未经批准的软件\r\n开发：“唉…”\r\n领导：“为什么我们的外网网站还没有支持IE8？”\r\n三、\r\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\r\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\r\n技术总监：“因为MySQL不是‘企业级’的。”\r\n唉…\r\n\r\n四、\r\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\r\n唉…\r\n五、\r\n老板：我们需要在这放一个cookie——他指着屏幕。\r\n我：什么？\r\n老板：在这放一个cookie——他再次指了一下屏幕。\r\n我：呃…\r\n技术负责人：他的意思是一个下拉列表。\r\n六、\r\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\r\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\r\n我：这样可能数据量太大…\r\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\r\n团队：哈哈…\r\n….. 一个月后，多线程版的实现了…\r\n团队：局域网上运行表现非常好…放到WiFi网络上试试\r\n…. 由于数据延迟，慢的像蜗牛…\r\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\r\n我：唉…\r\n(mark，这个太形象了，业余时间研究，唉呀妈呀，哪来那么多业余时间啊？？？)\r\n七、\r\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\r\npngquaint软件崩溃了，怎么回事？\r\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。(mark一下，这个某人干过！)\r\n唉…\r\n', '一声叹息', '', 'publish', 'open', '2012-12-21 16:15:09', 0, 'http://xpmyblog.sinaapp.com/?p=214', 0, 'post', '', 0),
(215, 1, '2012-02-27 10:52:24', '转载：http://blog.jobbole.com/13901/\n一、\n总裁：“我们不需要两台服务器”\n我：“可是我们需要双机备份”\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\n我：“唉…”\n二、\n领导：“我们的外网网站应该支持IE8”\n开发：“我们需要安装IE8才能测试\n领导：“技术支持部门会为你们测试”\n技术支持：“我们不支持IE8”\n开发：“我们需要安装IE8来测试\n领导：“你们不允许安装未经批准的软件\n开发：“唉…”\n领导：“为什么我们的外网网站还没有支持IE8？”\n三、\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\n技术总监：“因为MySQL不是‘企业级’的。”\n唉…\n\n四、\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\n唉…\n五、\n老板：我们需要在这放一个cookie——他指着屏幕。\n我：什么？\n老板：在这放一个cookie——他再次指了一下屏幕。\n我：呃…\n技术负责人：他的意思是一个下拉列表。\n六、\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\n我：这样可能数据量太大…\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\n团队：哈哈…\n….. 一个月后，多线程版的实现了…\n团队：局域网上运行表现非常好…放到WiFi网络上试试\n…. 由于数据延迟，慢的像蜗牛…\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\n我：唉…\n七、\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\npngquaint软件崩溃了，怎么回事？\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。\n唉…\n\n\n\n尤其是第六\n', '一声叹息', '', 'inherit', 'open', '2012-02-27 10:52:24', 214, 'http://xpmyblog.sinaapp.com/?p=215', 0, 'revision', '', 0),
(216, 1, '2012-02-27 10:53:05', '转载：http://blog.jobbole.com/13901/\r\n一、\r\n总裁：“我们不需要两台服务器”\r\n我：“可是我们需要双机备份”\r\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\r\n我：“唉…”\r\n二、\r\n领导：“我们的外网网站应该支持IE8”\r\n开发：“我们需要安装IE8才能测试\r\n领导：“技术支持部门会为你们测试”\r\n技术支持：“我们不支持IE8”\r\n开发：“我们需要安装IE8来测试\r\n领导：“你们不允许安装未经批准的软件\r\n开发：“唉…”\r\n领导：“为什么我们的外网网站还没有支持IE8？”\r\n三、\r\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\r\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\r\n技术总监：“因为MySQL不是‘企业级’的。”\r\n唉…\r\n\r\n四、\r\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\r\n唉…\r\n五、\r\n老板：我们需要在这放一个cookie——他指着屏幕。\r\n我：什么？\r\n老板：在这放一个cookie——他再次指了一下屏幕。\r\n我：呃…\r\n技术负责人：他的意思是一个下拉列表。\r\n六、\r\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\r\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\r\n我：这样可能数据量太大…\r\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\r\n团队：哈哈…\r\n….. 一个月后，多线程版的实现了…\r\n团队：局域网上运行表现非常好…放到WiFi网络上试试\r\n…. 由于数据延迟，慢的像蜗牛…\r\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\r\n我：唉…\r\n七、\r\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\r\npngquaint软件崩溃了，怎么回事？\r\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。\r\n唉…\r\n\r\n\r\n\r\n尤其是第六个，太形象了，业余时间研究，唉呀妈呀，哪来那么多业余时间啊？？？\r\n', '一声叹息', '', 'inherit', 'open', '2012-02-27 10:53:05', 214, 'http://xpmyblog.sinaapp.com/?p=216', 0, 'revision', '', 0),
(217, 1, '2012-02-27 10:53:58', '转载：http://blog.jobbole.com/13901/\r\n一、\r\n总裁：“我们不需要两台服务器”\r\n我：“可是我们需要双机备份”\r\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\r\n我：“唉…”\r\n二、\r\n领导：“我们的外网网站应该支持IE8”\r\n开发：“我们需要安装IE8才能测试\r\n领导：“技术支持部门会为你们测试”\r\n技术支持：“我们不支持IE8”\r\n开发：“我们需要安装IE8来测试\r\n领导：“你们不允许安装未经批准的软件\r\n开发：“唉…”\r\n领导：“为什么我们的外网网站还没有支持IE8？”\r\n三、\r\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\r\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\r\n技术总监：“因为MySQL不是‘企业级’的。”\r\n唉…\r\n\r\n四、\r\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\r\n唉…\r\n五、\r\n老板：我们需要在这放一个cookie——他指着屏幕。\r\n我：什么？\r\n老板：在这放一个cookie——他再次指了一下屏幕。\r\n我：呃…\r\n技术负责人：他的意思是一个下拉列表。\r\n六、\r\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\r\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\r\n我：这样可能数据量太大…\r\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\r\n团队：哈哈…\r\n….. 一个月后，多线程版的实现了…\r\n团队：局域网上运行表现非常好…放到WiFi网络上试试\r\n…. 由于数据延迟，慢的像蜗牛…\r\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\r\n我：唉…\r\n七、\r\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\r\npngquaint软件崩溃了，怎么回事？\r\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。\r\n唉…\r\n\r\n<br>\r\n\r\n尤其是第六个，太形象了，业余时间研究，唉呀妈呀，哪来那么多业余时间啊？？？\r\n', '一声叹息', '', 'inherit', 'open', '2012-02-27 10:53:58', 214, 'http://xpmyblog.sinaapp.com/?p=217', 0, 'revision', '', 0),
(219, 1, '2012-02-27 10:55:08', '转载：http://blog.jobbole.com/13901/\r\n一、\r\n总裁：“我们不需要两台服务器”\r\n我：“可是我们需要双机备份”\r\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\r\n我：“唉…”\r\n二、\r\n领导：“我们的外网网站应该支持IE8”\r\n开发：“我们需要安装IE8才能测试\r\n领导：“技术支持部门会为你们测试”\r\n技术支持：“我们不支持IE8”\r\n开发：“我们需要安装IE8来测试\r\n领导：“你们不允许安装未经批准的软件\r\n开发：“唉…”\r\n领导：“为什么我们的外网网站还没有支持IE8？”\r\n三、\r\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\r\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\r\n技术总监：“因为MySQL不是‘企业级’的。”\r\n唉…\r\n\r\n四、\r\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\r\n唉…\r\n五、\r\n老板：我们需要在这放一个cookie——他指着屏幕。\r\n我：什么？\r\n老板：在这放一个cookie——他再次指了一下屏幕。\r\n我：呃…\r\n技术负责人：他的意思是一个下拉列表。\r\n六、\r\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\r\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\r\n我：这样可能数据量太大…\r\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\r\n团队：哈哈…\r\n….. 一个月后，多线程版的实现了…\r\n团队：局域网上运行表现非常好…放到WiFi网络上试试\r\n…. 由于数据延迟，慢的像蜗牛…\r\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\r\n我：唉…\r\n(mark，这个太形象了，业余时间研究，唉呀妈呀，哪来那么多业余时间啊？？？)\r\n七、\r\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\r\npngquaint软件崩溃了，怎么回事？\r\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。\r\n唉…\r\n', '一声叹息', '', 'inherit', 'open', '2012-02-27 10:55:08', 214, 'http://xpmyblog.sinaapp.com/?p=219', 0, 'revision', '', 0),
(220, 1, '2012-03-16 10:18:20', '一般Apache下，我们一般用openssl组件为网站生成证书，方法如下\r\n一，安装环境配置\r\n先检查是否已安装openssl,mod_ssl\r\n<pre class="brush: bash;">\r\nrpm -qa | grep openssl\r\nrpm -qa | grep mod_ssl\r\n</pre>\r\n安装组件\r\n<pre class="brush: bash;">\r\nyum install mod_ssl\r\nyum install openssl\r\n</pre>\r\n\r\n二、配置密钥\r\n步骤1：生成密钥\r\n命令：openssl genrsa 1024 > server.key\r\n说明：这是用128位rsa算法生成密钥，得到server.key文件\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -new -key server.key > server.csr\r\n说明：这是用步骤1的密钥生成证书请求文件server.csr, 这一步提很多问题，一一输入\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -x509 -days 365 -key server.key -in server.csr > server.crt\r\n说明：这是用步骤1,2的的密钥和证书请求生成证书server.crt，-days参数指明证书有效期，单位为天\r\n\r\nhttpd.conf配置文件中有\r\n<pre>\r\nInclude conf.d/*.conf\r\n</pre>\r\n那么在conf.d文件夹下会看到ssl.conf类似的文件。\r\n\r\n修改这三个参数\r\n<pre>\r\nSSLCertificateFile path/ server.crt\r\nSSLCertificateKeyFile path/ server.key\r\nSSLCACertificateFile path/ ca.crt\r\n</pre>\r\n\r\n三、启动ssl服务\r\n*/apachectl startssl\r\n会要求输入server.key的密码\r\n或者重启apache\r\n', 'redhat/cenos下apache安装https证书环境', '', 'publish', 'open', '2012-12-21 16:22:29', 0, 'http://xpmyblog.sinaapp.com/?p=220', 0, 'post', '', 0),
(221, 1, '2012-03-16 10:17:52', '一般Apache下，我们一般用openssl组件为网站生成证书，方法如下\n一，安装环境配置\n先检查是否已安装openssl,mod_ssl\n<pre>\nrpm -qa | grep openssl\nrpm -qa | grep mod_ssl\n</pre>\n安装组件\n<pre>\nyum install mod_ssl\nyum install openssl\n</pre>\n\n二、配置密钥\n步骤1：生成密钥\n命令：openssl genrsa 1024 > server.key\n说明：这是用128位rsa算法生成密钥，得到server.key文件\n\n步骤2: 生成证书请求\n命令：openssl req -new -key server.key > server.csr\n说明：这是用步骤1的密钥生成证书请求文件server.csr, 这一步提很多问题，一一输入\n\n步骤2: 生成证书请求\n命令：openssl req -x509 -days 365 -key server.key -in server.csr > server.crt\n说明：这是用步骤1,2的的密钥和证书请求生成证书server.crt，-days参数指明证书有效期，单位为天\n\nhttpd.conf配置文件中有\n<pre>\nInclude conf.d/*.conf\n</pre>\n那么在conf.d文件夹下会看到ssl.conf文件\n\n修改这三个参数\nSSLCertificateFile path/ server.crt\nSSLCertificateKeyFile path/ server.key\nSSLCACertificateFile path/ ca.crt\n\n\n\n\n\n', 'redhat/cenos下apache安装https证书环境', '', 'inherit', 'open', '2012-03-16 10:17:52', 220, 'http://xpmyblog.sinaapp.com/?p=221', 0, 'revision', '', 0),
(222, 1, '2012-03-16 10:18:20', '一般Apache下，我们一般用openssl组件为网站生成证书，方法如下\r\n一，安装环境配置\r\n先检查是否已安装openssl,mod_ssl\r\n<pre>\r\nrpm -qa | grep openssl\r\nrpm -qa | grep mod_ssl\r\n</pre>\r\n安装组件\r\n<pre>\r\nyum install mod_ssl\r\nyum install openssl\r\n</pre>\r\n\r\n二、配置密钥\r\n步骤1：生成密钥\r\n命令：openssl genrsa 1024 > server.key\r\n说明：这是用128位rsa算法生成密钥，得到server.key文件\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -new -key server.key > server.csr\r\n说明：这是用步骤1的密钥生成证书请求文件server.csr, 这一步提很多问题，一一输入\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -x509 -days 365 -key server.key -in server.csr > server.crt\r\n说明：这是用步骤1,2的的密钥和证书请求生成证书server.crt，-days参数指明证书有效期，单位为天\r\n\r\nhttpd.conf配置文件中有\r\n<pre>\r\nInclude conf.d/*.conf\r\n</pre>\r\n那么在conf.d文件夹下会看到ssl.conf文件\r\n\r\n修改这三个参数\r\nSSLCertificateFile path/ server.crt\r\nSSLCertificateKeyFile path/ server.key\r\nSSLCACertificateFile path/ ca.crt\r\n\r\n三、启动ssl服务\r\n*/apachectl startssl\r\n会要求输入server.key的密码\r\n或者重启apache\r\n\r\n\r\n', 'redhat/cenos下apache安装https证书环境', '', 'inherit', 'open', '2012-03-16 10:18:20', 220, 'http://xpmyblog.sinaapp.com/?p=222', 0, 'revision', '', 0),
(224, 1, '2012-03-19 09:32:01', '//Post方式提交表单  \r\n<pre class="brush: js;">\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161', 'JavaScript 实现POST方式提交表单', '', 'publish', 'open', '2012-12-21 16:25:02', 0, 'http://xpmyblog.sinaapp.com/?p=224', 0, 'post', '', 0),
(225, 1, '2012-03-19 09:31:24', '', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-03-19 09:31:24', 224, 'http://xpmyblog.sinaapp.com/?p=225', 0, 'revision', '', 0),
(226, 1, '2012-03-20 10:32:38', '【puppet nginx 负载均衡导读】\r\npuppet 默认是监听8140端口的，但是随着客户端的不断增多，经常会出现timeout这类问题，\r\npuppet服务器压力也比较大，这次我们使用nginx的upstream模块来实现puppet 负载均衡。\r\n【puppet nginx基础】\r\n本文是给对nginx有一定的了解，并且熟悉nginx模块。本次实验并不是多主机（puppetmaster）\r\n负载，还是单机，只是开了多个端口。用nginx作反向代理。\r\n【puppet  nginx实验环境】\r\n1. 修改默认的puppetmaster监听端口，使其监听18140.18141，18142，18143（端口可以由你决定），\r\n确保四个端口没有使用,puppetmaster没有在运行。\r\n2.安装nginx，使用nginx监听8140,并使用upstream模块，分发请求到18140，18141,18412,18413四个端口。\r\n3.假设你已安装了puppetmaster，如没有安装，请使用yum -y install puppet 进行安装。\r\n【puppet nginx负载均衡安装】\r\n安装nginx负载均衡所需的rubygem-mongrel\r\na.安装sohu的epel源。\r\n<pre>rpm -ivh http://mirrors.sohu.com/fedora-epel/5/x86_64/epel-release-5-4.noarch.rpm</pre>\r\nb.安装rubygem-mongrel:\r\n<pre>yum -y install rubygem-mongrel</pre>\r\n安装nginx\r\nc.下载nginx\r\n<pre>wget -c http://www.nginx.org/download/nginx-1.0.0.tar.gz</pre>\r\nd.安装nginx\r\n<pre>tar zxvf nginx-1.0.0.tar.gz\r\ncd nginx-1.0.0\r\n./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_ssl_module\r\nmake -j5\r\nmake install</pre>\r\n[puppet nginx 配置负载均衡]\r\na.配置puppetmaster\r\n<pre>vim /etc/sysconfig/puppetmaster</pre>\r\n添加下面2行\r\n<pre>PUPPETMASTER_PORTS=( 18140 18141 18142 18143 ) ##修改为上面所修改的端口号\r\nPUPPETMASTER_EXTRA_OPTS="--servertype=mongrel --ssl_client_header=HTTP_X_SSL_SUBJECT"</pre>\r\nb.配置nginx(省略部分配置文件)\r\n<pre>upstream puppet-pool {\r\n\r\n             server 127.0.0.1:18140;\r\n             server 127.0.0.1:18141;\r\n             server 127.0.0.1:18142;\r\n             server 127.0.0.1:18143;\r\n         }\r\n\r\n        server {\r\n                listen 8140;\r\n                root /etc/puppet;\r\n                ssl on;\r\n                ssl_session_timeout 5m;\r\n                ssl_certificate /var/lib/puppet/ssl/certs/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n                ssl_certificate_key /var/lib/puppet/ssl/private_keys/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n\r\n                ssl_client_certificate /var/lib/puppet/ssl/ca/ca_crt.pem;\r\n                ssl_crl /var/lib/puppet/ssl/ca/ca_crl.pem;\r\n                ssl_verify_client optional;\r\n\r\n                # File sections\r\n\r\n                location /production/file_content/files/ {\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    alias /etc/puppet/manifests/files/;\r\n                }\r\n\r\n                # Modules files sections\r\n\r\n                location ~ /production/file_content/modules/.+/ {\r\n                    root /etc/puppet/modules;\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    rewrite ^/production/file_content/modules/(.+)/(.+)$ /$1/files/$2 break;\r\n                }\r\n\r\n                                location / {\r\n                             proxy_pass http://puppet-pool;\r\n                             proxy_redirect off;\r\n                             proxy_set_header Host $host;\r\n                             proxy_set_header X-Real-IP $remote_addr;\r\n                             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                             proxy_set_header X-Client-Verify $ssl_client_verify;\r\n                             proxy_set_header X-SSL-Subject $ssl_client_s_dn;\r\n                             proxy_set_header X-SSL-Issuer $ssl_client_i_dn;\r\n                             proxy_buffer_size 10m;\r\n                             proxy_buffers 1024 10m;\r\n                             proxy_busy_buffers_size 10m;\r\n                             proxy_temp_file_write_size 10m;\r\n                             proxy_read_timeout 120;\r\n                }</pre>\r\n【puppet nginx启动】\r\n\r\n1.启动nginx\r\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\r\n2.启动puppetmaster\r\n/etc/init.d/puppetmaster start\r\n\r\n【puppet nginx模拟测试】\r\n1.使用不同的客户端来请求puppetmaster,查看相关日志。\r\n192.168.3.234 - - [16/Sep/2011:15:08:47 +0800] "GET /production/catalog/xxx HTTP/1.1" 3033 16/Sep/2011:15:08:47 +0800200 771 913 27 1316156927.889 "-" "-" - 0.064 127.0.0.1:18142 200\r\n192.168.2.229 - - [16/Sep/2011:15:10:10 +0800] "GET /production/catalog/xxxHTTP/1.1" 3026 16/Sep/2011:15:10:10 +0800200 779 921 29 1316157010.376 "-" "-" - 0.077 127.0.0.1:18143 200\r\n看到上面的加粗的部分，说明nginx已经把请求转发到相应的端口上。\r\n【puppet nginx总结】\r\n为什么使用nginx来作负载均衡，因为nginx比较小，比较精简，响应速度非常快速，配置简单，模块易于扩展，易于升级。\r\npuppetlabs也介绍了很多负载均衡的方法，大家都可以去尝试下，本上有点懒，就没有画这个架构图了，通过上面的介绍\r\n也能理解，其实就是个proxy，分发到puppetmaster的端口上。更多请参阅 puppetlabs。\r\n\r\n官方参考文档：<a href="http://projects.puppetlabs.com/projects/1/wiki/Using_Mongrel_Nginx">http://projects.puppetlabs.com/projects/1/wiki/Using_Mongrel_Nginx</a>\r\n\r\n&nbsp;\r\n\r\n&nbsp;\r\n\r\n转载自：<a href="http://www.mysqlops.com/2011/09/20/puppet-%E8%BF%90%E7%BB%B4%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B9%8B%E4%BD%BF%E7%94%A8nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html">http://www.mysqlops.com</a>', 'puppet 运维自动化之使用nginx负载均衡', '', 'publish', 'open', '2012-12-21 16:22:08', 0, 'http://xpmyblog.sinaapp.com/?p=226', 0, 'post', '', 0),
(227, 1, '2012-03-20 10:32:03', '【puppet nginx 负载均衡导读】\npuppet 默认是监听8140端口的，但是随着客户端的不断增多，经常会出现timeout这类问题，\npuppet服务器压力也比较大，这次我们使用nginx的upstream模块来实现puppet 负载均衡。\n【puppet nginx基础】\n本文是给对nginx有一定的了解，并且熟悉nginx模块。本次实验并不是多主机（puppetmaster）\n负载，还是单机，只是开了多个端口。用nginx作反向代理。\n【puppet  nginx实验环境】\n1. 修改默认的puppetmaster监听端口，使其监听18140.18141，18142，18143（端口可以由你决定），\n确保四个端口没有使用,puppetmaster没有在运行。\n2.安装nginx，使用nginx监听8140,并使用upstream模块，分发请求到18140，18141,18412,18413四个端口。\n3.假设你已安装了puppetmaster，如没有安装，请使用yum -y install puppet 进行安装。\n【puppet nginx负载均衡安装】\n安装nginx负载均衡所需的rubygem-mongrel\na.安装sohu的epel源。\n<pre>\nrpm -ivh http://mirrors.sohu.com/fedora-epel/5/x86_64/epel-release-5-4.noarch.rpm\n</pre>\nb.安装rubygem-mongrel:\n<pre>\nyum -y install rubygem-mongrel\n</pre>\n------------------------------------------------------------------\n安装nginx\nc.下载nginx\n<pre>\nwget -c http://www.nginx.org/download/nginx-1.0.0.tar.gz\n</pre>\nd.安装nginx\n<pre>\ntar zxvf nginx-1.0.0.tar.gz\ncd nginx-1.0.0\n./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_ssl_module\nmake -j5\nmake install\n</pre>\n\n[puppet nginx 配置负载均衡]\na.配置puppetmaster\n<pre>\nvim /etc/sysconfig/puppetmaster\n</pre>\n\n添加下面2行\n<pre>\nPUPPETMASTER_PORTS=( 18140 18141 18142 18143 ) ##修改为上面所修改的端口号\nPUPPETMASTER_EXTRA_OPTS="--servertype=mongrel --ssl_client_header=HTTP_X_SSL_SUBJECT"\n</pre>\n\nb.配置nginx(省略部分配置文件)\n<pre>\nupstream puppet-pool {\n \n             server 127.0.0.1:18140;\n             server 127.0.0.1:18141;\n             server 127.0.0.1:18142;\n             server 127.0.0.1:18143;\n         }\n \n        server {\n                listen 8140;\n                root /etc/puppet;\n                ssl on;\n                ssl_session_timeout 5m;\n                ssl_certificate /var/lib/puppet/ssl/certs/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\n                ssl_certificate_key /var/lib/puppet/ssl/private_keys/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\n \n                ssl_client_certificate /var/lib/puppet/ssl/ca/ca_crt.pem;\n                ssl_crl /var/lib/puppet/ssl/ca/ca_crl.pem;\n                ssl_verify_client optional;\n \n                # File sections\n \n                location /production/file_content/files/ {\n                    types { }\n                    default_type application/x-raw;\n                    alias /etc/puppet/manifests/files/;\n                }\n \n                # Modules files sections\n \n                location ~ /production/file_content/modules/.+/ {\n                    root /etc/puppet/modules;\n                    types { }\n                    default_type application/x-raw;\n                    rewrite ^/production/file_content/modules/(.+)/(.+)$ /$1/files/$2 break;\n                }\n \n                                location / {\n                             proxy_pass http://puppet-pool;\n                             proxy_redirect off;\n                             proxy_set_header Host $host;\n                             proxy_set_header X-Real-IP $remote_addr;\n                             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                             proxy_set_header X-Client-Verify $ssl_client_verify;\n                             proxy_set_header X-SSL-Subject $ssl_client_s_dn;\n                             proxy_set_header X-SSL-Issuer $ssl_client_i_dn;\n                             proxy_buffer_size 10m;\n                             proxy_buffers 1024 10m;\n                             proxy_busy_buffers_size 10m;\n                             proxy_temp_file_write_size 10m;\n                             proxy_read_timeout 120;\n                }\n</pre>\n\n【puppet nginx启动】\n\n1.启动nginx \n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n2.启动puppetmaster\n/etc/init.d/puppetmaster start\n\n【puppet nginx模拟测试】\n1.使用不同的客户端来请求puppetmaster,查看相关日志。\n192.168.3.234 - - [16/Sep/2011:15:08:47 +0800] "GET /production/catalog/xxx HTTP/1.1" 3033 16/Sep/2011:15:08:47 +0800200 771 913 27 1316156927.889 "-" "-" - 0.064 127.0.0.1:18142 200\n192.168.2.229 - - [16/Sep/2011:15:10:10 +0800] "GET /production/catalog/xxxHTTP/1.1" 3026 16/Sep/2011:15:10:10 +0800200 779 921 29 1316157010.376 "-" "-" - 0.077 127.0.0.1:18143 200\n看到上面的加粗的部分，说明nginx已经把请求转发到相应的端口上。\n【puppet nginx总结】\n为什么使用nginx来作负载均衡，因为nginx比较小，比较精简，响应速度非常快速，配置简单，模块易于扩展，易于升级。\npuppetlabs也介绍了很多负载均衡的方法，大家都可以去尝试下，本上有点懒，就没有画这个架构图了，通过上面的介绍\n也能理解，其实就是个proxy，分发到puppetmaster的端口上。更多请参阅 puppetlabs。\n\n转载自：http://www.mysqlops.com/2011/09/20/puppet-%E8%BF%90%E7%BB%B4%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B9%8B%E4%BD%BF%E7%94%A8nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html', 'puppet 运维自动化之使用nginx负载均衡', '', 'inherit', 'open', '2012-03-20 10:32:03', 226, 'http://xpmyblog.sinaapp.com/?p=227', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(228, 1, '2012-03-20 10:32:38', '【puppet nginx 负载均衡导读】\r\npuppet 默认是监听8140端口的，但是随着客户端的不断增多，经常会出现timeout这类问题，\r\npuppet服务器压力也比较大，这次我们使用nginx的upstream模块来实现puppet 负载均衡。\r\n【puppet nginx基础】\r\n本文是给对nginx有一定的了解，并且熟悉nginx模块。本次实验并不是多主机（puppetmaster）\r\n负载，还是单机，只是开了多个端口。用nginx作反向代理。\r\n【puppet  nginx实验环境】\r\n1. 修改默认的puppetmaster监听端口，使其监听18140.18141，18142，18143（端口可以由你决定），\r\n确保四个端口没有使用,puppetmaster没有在运行。\r\n2.安装nginx，使用nginx监听8140,并使用upstream模块，分发请求到18140，18141,18412,18413四个端口。\r\n3.假设你已安装了puppetmaster，如没有安装，请使用yum -y install puppet 进行安装。\r\n【puppet nginx负载均衡安装】\r\n安装nginx负载均衡所需的rubygem-mongrel\r\na.安装sohu的epel源。\r\n<pre>\r\nrpm -ivh http://mirrors.sohu.com/fedora-epel/5/x86_64/epel-release-5-4.noarch.rpm\r\n</pre>\r\nb.安装rubygem-mongrel:\r\n<pre>\r\nyum -y install rubygem-mongrel\r\n</pre>\r\n------------------------------------------------------------------\r\n安装nginx\r\nc.下载nginx\r\n<pre>\r\nwget -c http://www.nginx.org/download/nginx-1.0.0.tar.gz\r\n</pre>\r\nd.安装nginx\r\n<pre>\r\ntar zxvf nginx-1.0.0.tar.gz\r\ncd nginx-1.0.0\r\n./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_ssl_module\r\nmake -j5\r\nmake install\r\n</pre>\r\n\r\n[puppet nginx 配置负载均衡]\r\na.配置puppetmaster\r\n<pre>\r\nvim /etc/sysconfig/puppetmaster\r\n</pre>\r\n\r\n添加下面2行\r\n<pre>\r\nPUPPETMASTER_PORTS=( 18140 18141 18142 18143 ) ##修改为上面所修改的端口号\r\nPUPPETMASTER_EXTRA_OPTS="--servertype=mongrel --ssl_client_header=HTTP_X_SSL_SUBJECT"\r\n</pre>\r\n\r\nb.配置nginx(省略部分配置文件)\r\n<pre>\r\nupstream puppet-pool {\r\n \r\n             server 127.0.0.1:18140;\r\n             server 127.0.0.1:18141;\r\n             server 127.0.0.1:18142;\r\n             server 127.0.0.1:18143;\r\n         }\r\n \r\n        server {\r\n                listen 8140;\r\n                root /etc/puppet;\r\n                ssl on;\r\n                ssl_session_timeout 5m;\r\n                ssl_certificate /var/lib/puppet/ssl/certs/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n                ssl_certificate_key /var/lib/puppet/ssl/private_keys/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n \r\n                ssl_client_certificate /var/lib/puppet/ssl/ca/ca_crt.pem;\r\n                ssl_crl /var/lib/puppet/ssl/ca/ca_crl.pem;\r\n                ssl_verify_client optional;\r\n \r\n                # File sections\r\n \r\n                location /production/file_content/files/ {\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    alias /etc/puppet/manifests/files/;\r\n                }\r\n \r\n                # Modules files sections\r\n \r\n                location ~ /production/file_content/modules/.+/ {\r\n                    root /etc/puppet/modules;\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    rewrite ^/production/file_content/modules/(.+)/(.+)$ /$1/files/$2 break;\r\n                }\r\n \r\n                                location / {\r\n                             proxy_pass http://puppet-pool;\r\n                             proxy_redirect off;\r\n                             proxy_set_header Host $host;\r\n                             proxy_set_header X-Real-IP $remote_addr;\r\n                             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                             proxy_set_header X-Client-Verify $ssl_client_verify;\r\n                             proxy_set_header X-SSL-Subject $ssl_client_s_dn;\r\n                             proxy_set_header X-SSL-Issuer $ssl_client_i_dn;\r\n                             proxy_buffer_size 10m;\r\n                             proxy_buffers 1024 10m;\r\n                             proxy_busy_buffers_size 10m;\r\n                             proxy_temp_file_write_size 10m;\r\n                             proxy_read_timeout 120;\r\n                }\r\n</pre>\r\n\r\n【puppet nginx启动】\r\n\r\n1.启动nginx \r\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\r\n2.启动puppetmaster\r\n/etc/init.d/puppetmaster start\r\n\r\n【puppet nginx模拟测试】\r\n1.使用不同的客户端来请求puppetmaster,查看相关日志。\r\n192.168.3.234 - - [16/Sep/2011:15:08:47 +0800] "GET /production/catalog/xxx HTTP/1.1" 3033 16/Sep/2011:15:08:47 +0800200 771 913 27 1316156927.889 "-" "-" - 0.064 127.0.0.1:18142 200\r\n192.168.2.229 - - [16/Sep/2011:15:10:10 +0800] "GET /production/catalog/xxxHTTP/1.1" 3026 16/Sep/2011:15:10:10 +0800200 779 921 29 1316157010.376 "-" "-" - 0.077 127.0.0.1:18143 200\r\n看到上面的加粗的部分，说明nginx已经把请求转发到相应的端口上。\r\n【puppet nginx总结】\r\n为什么使用nginx来作负载均衡，因为nginx比较小，比较精简，响应速度非常快速，配置简单，模块易于扩展，易于升级。\r\npuppetlabs也介绍了很多负载均衡的方法，大家都可以去尝试下，本上有点懒，就没有画这个架构图了，通过上面的介绍\r\n也能理解，其实就是个proxy，分发到puppetmaster的端口上。更多请参阅 puppetlabs。\r\n\r\n转载自：http://www.mysqlops.com/2011/09/20/puppet-%e8%bf%90%e7%bb%b4%e8%87%aa%e5%8a%a8%e5%8c%96%e4%b9%8b%e4%bd%bf%e7%94%a8nginx%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1.html', 'puppet 运维自动化之使用nginx负载均衡', '', 'inherit', 'open', '2012-03-20 10:32:38', 226, 'http://xpmyblog.sinaapp.com/?p=228', 0, 'revision', '', 0),
(229, 1, '2012-03-20 10:33:08', '【puppet nginx 负载均衡导读】\r\npuppet 默认是监听8140端口的，但是随着客户端的不断增多，经常会出现timeout这类问题，\r\npuppet服务器压力也比较大，这次我们使用nginx的upstream模块来实现puppet 负载均衡。\r\n【puppet nginx基础】\r\n本文是给对nginx有一定的了解，并且熟悉nginx模块。本次实验并不是多主机（puppetmaster）\r\n负载，还是单机，只是开了多个端口。用nginx作反向代理。\r\n【puppet  nginx实验环境】\r\n1. 修改默认的puppetmaster监听端口，使其监听18140.18141，18142，18143（端口可以由你决定），\r\n确保四个端口没有使用,puppetmaster没有在运行。\r\n2.安装nginx，使用nginx监听8140,并使用upstream模块，分发请求到18140，18141,18412,18413四个端口。\r\n3.假设你已安装了puppetmaster，如没有安装，请使用yum -y install puppet 进行安装。\r\n【puppet nginx负载均衡安装】\r\n安装nginx负载均衡所需的rubygem-mongrel\r\na.安装sohu的epel源。\r\n<pre>\r\nrpm -ivh http://mirrors.sohu.com/fedora-epel/5/x86_64/epel-release-5-4.noarch.rpm\r\n</pre>\r\nb.安装rubygem-mongrel:\r\n<pre>\r\nyum -y install rubygem-mongrel\r\n</pre>\r\n\r\n安装nginx\r\nc.下载nginx\r\n<pre>\r\nwget -c http://www.nginx.org/download/nginx-1.0.0.tar.gz\r\n</pre>\r\nd.安装nginx\r\n<pre>\r\ntar zxvf nginx-1.0.0.tar.gz\r\ncd nginx-1.0.0\r\n./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_ssl_module\r\nmake -j5\r\nmake install\r\n</pre>\r\n\r\n[puppet nginx 配置负载均衡]\r\na.配置puppetmaster\r\n<pre>\r\nvim /etc/sysconfig/puppetmaster\r\n</pre>\r\n\r\n添加下面2行\r\n<pre>\r\nPUPPETMASTER_PORTS=( 18140 18141 18142 18143 ) ##修改为上面所修改的端口号\r\nPUPPETMASTER_EXTRA_OPTS="--servertype=mongrel --ssl_client_header=HTTP_X_SSL_SUBJECT"\r\n</pre>\r\n\r\nb.配置nginx(省略部分配置文件)\r\n<pre>\r\nupstream puppet-pool {\r\n \r\n             server 127.0.0.1:18140;\r\n             server 127.0.0.1:18141;\r\n             server 127.0.0.1:18142;\r\n             server 127.0.0.1:18143;\r\n         }\r\n \r\n        server {\r\n                listen 8140;\r\n                root /etc/puppet;\r\n                ssl on;\r\n                ssl_session_timeout 5m;\r\n                ssl_certificate /var/lib/puppet/ssl/certs/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n                ssl_certificate_key /var/lib/puppet/ssl/private_keys/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n \r\n                ssl_client_certificate /var/lib/puppet/ssl/ca/ca_crt.pem;\r\n                ssl_crl /var/lib/puppet/ssl/ca/ca_crl.pem;\r\n                ssl_verify_client optional;\r\n \r\n                # File sections\r\n \r\n                location /production/file_content/files/ {\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    alias /etc/puppet/manifests/files/;\r\n                }\r\n \r\n                # Modules files sections\r\n \r\n                location ~ /production/file_content/modules/.+/ {\r\n                    root /etc/puppet/modules;\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    rewrite ^/production/file_content/modules/(.+)/(.+)$ /$1/files/$2 break;\r\n                }\r\n \r\n                                location / {\r\n                             proxy_pass http://puppet-pool;\r\n                             proxy_redirect off;\r\n                             proxy_set_header Host $host;\r\n                             proxy_set_header X-Real-IP $remote_addr;\r\n                             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                             proxy_set_header X-Client-Verify $ssl_client_verify;\r\n                             proxy_set_header X-SSL-Subject $ssl_client_s_dn;\r\n                             proxy_set_header X-SSL-Issuer $ssl_client_i_dn;\r\n                             proxy_buffer_size 10m;\r\n                             proxy_buffers 1024 10m;\r\n                             proxy_busy_buffers_size 10m;\r\n                             proxy_temp_file_write_size 10m;\r\n                             proxy_read_timeout 120;\r\n                }\r\n</pre>\r\n\r\n【puppet nginx启动】\r\n\r\n1.启动nginx \r\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\r\n2.启动puppetmaster\r\n/etc/init.d/puppetmaster start\r\n\r\n【puppet nginx模拟测试】\r\n1.使用不同的客户端来请求puppetmaster,查看相关日志。\r\n192.168.3.234 - - [16/Sep/2011:15:08:47 +0800] "GET /production/catalog/xxx HTTP/1.1" 3033 16/Sep/2011:15:08:47 +0800200 771 913 27 1316156927.889 "-" "-" - 0.064 127.0.0.1:18142 200\r\n192.168.2.229 - - [16/Sep/2011:15:10:10 +0800] "GET /production/catalog/xxxHTTP/1.1" 3026 16/Sep/2011:15:10:10 +0800200 779 921 29 1316157010.376 "-" "-" - 0.077 127.0.0.1:18143 200\r\n看到上面的加粗的部分，说明nginx已经把请求转发到相应的端口上。\r\n【puppet nginx总结】\r\n为什么使用nginx来作负载均衡，因为nginx比较小，比较精简，响应速度非常快速，配置简单，模块易于扩展，易于升级。\r\npuppetlabs也介绍了很多负载均衡的方法，大家都可以去尝试下，本上有点懒，就没有画这个架构图了，通过上面的介绍\r\n也能理解，其实就是个proxy，分发到puppetmaster的端口上。更多请参阅 puppetlabs。\r\n\r\n转载自：http://www.mysqlops.com/2011/09/20/puppet-%e8%bf%90%e7%bb%b4%e8%87%aa%e5%8a%a8%e5%8c%96%e4%b9%8b%e4%bd%bf%e7%94%a8nginx%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1.html', 'puppet 运维自动化之使用nginx负载均衡', '', 'inherit', 'open', '2012-03-20 10:33:08', 226, 'http://xpmyblog.sinaapp.com/?p=229', 0, 'revision', '', 0),
(230, 1, '2012-03-20 10:34:37', '【puppet nginx 负载均衡导读】\r\npuppet 默认是监听8140端口的，但是随着客户端的不断增多，经常会出现timeout这类问题，\r\npuppet服务器压力也比较大，这次我们使用nginx的upstream模块来实现puppet 负载均衡。\r\n【puppet nginx基础】\r\n本文是给对nginx有一定的了解，并且熟悉nginx模块。本次实验并不是多主机（puppetmaster）\r\n负载，还是单机，只是开了多个端口。用nginx作反向代理。\r\n【puppet  nginx实验环境】\r\n1. 修改默认的puppetmaster监听端口，使其监听18140.18141，18142，18143（端口可以由你决定），\r\n确保四个端口没有使用,puppetmaster没有在运行。\r\n2.安装nginx，使用nginx监听8140,并使用upstream模块，分发请求到18140，18141,18412,18413四个端口。\r\n3.假设你已安装了puppetmaster，如没有安装，请使用yum -y install puppet 进行安装。\r\n【puppet nginx负载均衡安装】\r\n安装nginx负载均衡所需的rubygem-mongrel\r\na.安装sohu的epel源。\r\n<pre>\r\nrpm -ivh http://mirrors.sohu.com/fedora-epel/5/x86_64/epel-release-5-4.noarch.rpm\r\n</pre>\r\nb.安装rubygem-mongrel:\r\n<pre>\r\nyum -y install rubygem-mongrel\r\n</pre>\r\n\r\n安装nginx\r\nc.下载nginx\r\n<pre>\r\nwget -c http://www.nginx.org/download/nginx-1.0.0.tar.gz\r\n</pre>\r\nd.安装nginx\r\n<pre>\r\ntar zxvf nginx-1.0.0.tar.gz\r\ncd nginx-1.0.0\r\n./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_ssl_module\r\nmake -j5\r\nmake install\r\n</pre>\r\n\r\n[puppet nginx 配置负载均衡]\r\na.配置puppetmaster\r\n<pre>\r\nvim /etc/sysconfig/puppetmaster\r\n</pre>\r\n\r\n添加下面2行\r\n<pre>\r\nPUPPETMASTER_PORTS=( 18140 18141 18142 18143 ) ##修改为上面所修改的端口号\r\nPUPPETMASTER_EXTRA_OPTS="--servertype=mongrel --ssl_client_header=HTTP_X_SSL_SUBJECT"\r\n</pre>\r\n\r\nb.配置nginx(省略部分配置文件)\r\n<pre>\r\nupstream puppet-pool {\r\n \r\n             server 127.0.0.1:18140;\r\n             server 127.0.0.1:18141;\r\n             server 127.0.0.1:18142;\r\n             server 127.0.0.1:18143;\r\n         }\r\n \r\n        server {\r\n                listen 8140;\r\n                root /etc/puppet;\r\n                ssl on;\r\n                ssl_session_timeout 5m;\r\n                ssl_certificate /var/lib/puppet/ssl/certs/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n                ssl_certificate_key /var/lib/puppet/ssl/private_keys/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n \r\n                ssl_client_certificate /var/lib/puppet/ssl/ca/ca_crt.pem;\r\n                ssl_crl /var/lib/puppet/ssl/ca/ca_crl.pem;\r\n                ssl_verify_client optional;\r\n \r\n                # File sections\r\n \r\n                location /production/file_content/files/ {\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    alias /etc/puppet/manifests/files/;\r\n                }\r\n \r\n                # Modules files sections\r\n \r\n                location ~ /production/file_content/modules/.+/ {\r\n                    root /etc/puppet/modules;\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    rewrite ^/production/file_content/modules/(.+)/(.+)$ /$1/files/$2 break;\r\n                }\r\n \r\n                                location / {\r\n                             proxy_pass http://puppet-pool;\r\n                             proxy_redirect off;\r\n                             proxy_set_header Host $host;\r\n                             proxy_set_header X-Real-IP $remote_addr;\r\n                             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                             proxy_set_header X-Client-Verify $ssl_client_verify;\r\n                             proxy_set_header X-SSL-Subject $ssl_client_s_dn;\r\n                             proxy_set_header X-SSL-Issuer $ssl_client_i_dn;\r\n                             proxy_buffer_size 10m;\r\n                             proxy_buffers 1024 10m;\r\n                             proxy_busy_buffers_size 10m;\r\n                             proxy_temp_file_write_size 10m;\r\n                             proxy_read_timeout 120;\r\n                }\r\n</pre>\r\n\r\n【puppet nginx启动】\r\n\r\n1.启动nginx \r\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\r\n2.启动puppetmaster\r\n/etc/init.d/puppetmaster start\r\n\r\n【puppet nginx模拟测试】\r\n1.使用不同的客户端来请求puppetmaster,查看相关日志。\r\n192.168.3.234 - - [16/Sep/2011:15:08:47 +0800] "GET /production/catalog/xxx HTTP/1.1" 3033 16/Sep/2011:15:08:47 +0800200 771 913 27 1316156927.889 "-" "-" - 0.064 127.0.0.1:18142 200\r\n192.168.2.229 - - [16/Sep/2011:15:10:10 +0800] "GET /production/catalog/xxxHTTP/1.1" 3026 16/Sep/2011:15:10:10 +0800200 779 921 29 1316157010.376 "-" "-" - 0.077 127.0.0.1:18143 200\r\n看到上面的加粗的部分，说明nginx已经把请求转发到相应的端口上。\r\n【puppet nginx总结】\r\n为什么使用nginx来作负载均衡，因为nginx比较小，比较精简，响应速度非常快速，配置简单，模块易于扩展，易于升级。\r\npuppetlabs也介绍了很多负载均衡的方法，大家都可以去尝试下，本上有点懒，就没有画这个架构图了，通过上面的介绍\r\n也能理解，其实就是个proxy，分发到puppetmaster的端口上。更多请参阅 puppetlabs。\r\n\r\n转载自：http://www.mysqlops.com', 'puppet 运维自动化之使用nginx负载均衡', '', 'inherit', 'open', '2012-03-20 10:34:37', 226, 'http://xpmyblog.sinaapp.com/?p=230', 0, 'revision', '', 0),
(231, 1, '2012-03-20 10:35:43', '【puppet nginx 负载均衡导读】\r\npuppet 默认是监听8140端口的，但是随着客户端的不断增多，经常会出现timeout这类问题，\r\npuppet服务器压力也比较大，这次我们使用nginx的upstream模块来实现puppet 负载均衡。\r\n【puppet nginx基础】\r\n本文是给对nginx有一定的了解，并且熟悉nginx模块。本次实验并不是多主机（puppetmaster）\r\n负载，还是单机，只是开了多个端口。用nginx作反向代理。\r\n【puppet  nginx实验环境】\r\n1. 修改默认的puppetmaster监听端口，使其监听18140.18141，18142，18143（端口可以由你决定），\r\n确保四个端口没有使用,puppetmaster没有在运行。\r\n2.安装nginx，使用nginx监听8140,并使用upstream模块，分发请求到18140，18141,18412,18413四个端口。\r\n3.假设你已安装了puppetmaster，如没有安装，请使用yum -y install puppet 进行安装。\r\n【puppet nginx负载均衡安装】\r\n安装nginx负载均衡所需的rubygem-mongrel\r\na.安装sohu的epel源。\r\n<pre>rpm -ivh http://mirrors.sohu.com/fedora-epel/5/x86_64/epel-release-5-4.noarch.rpm</pre>\r\nb.安装rubygem-mongrel:\r\n<pre>yum -y install rubygem-mongrel</pre>\r\n安装nginx\r\nc.下载nginx\r\n<pre>wget -c http://www.nginx.org/download/nginx-1.0.0.tar.gz</pre>\r\nd.安装nginx\r\n<pre>tar zxvf nginx-1.0.0.tar.gz\r\ncd nginx-1.0.0\r\n./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_ssl_module\r\nmake -j5\r\nmake install</pre>\r\n[puppet nginx 配置负载均衡]\r\na.配置puppetmaster\r\n<pre>vim /etc/sysconfig/puppetmaster</pre>\r\n添加下面2行\r\n<pre>PUPPETMASTER_PORTS=( 18140 18141 18142 18143 ) ##修改为上面所修改的端口号\r\nPUPPETMASTER_EXTRA_OPTS="--servertype=mongrel --ssl_client_header=HTTP_X_SSL_SUBJECT"</pre>\r\nb.配置nginx(省略部分配置文件)\r\n<pre>upstream puppet-pool {\r\n\r\n             server 127.0.0.1:18140;\r\n             server 127.0.0.1:18141;\r\n             server 127.0.0.1:18142;\r\n             server 127.0.0.1:18143;\r\n         }\r\n\r\n        server {\r\n                listen 8140;\r\n                root /etc/puppet;\r\n                ssl on;\r\n                ssl_session_timeout 5m;\r\n                ssl_certificate /var/lib/puppet/ssl/certs/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n                ssl_certificate_key /var/lib/puppet/ssl/private_keys/primarylb.test.com.pem; ##加粗这里填写puppetmaster主机名\r\n\r\n                ssl_client_certificate /var/lib/puppet/ssl/ca/ca_crt.pem;\r\n                ssl_crl /var/lib/puppet/ssl/ca/ca_crl.pem;\r\n                ssl_verify_client optional;\r\n\r\n                # File sections\r\n\r\n                location /production/file_content/files/ {\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    alias /etc/puppet/manifests/files/;\r\n                }\r\n\r\n                # Modules files sections\r\n\r\n                location ~ /production/file_content/modules/.+/ {\r\n                    root /etc/puppet/modules;\r\n                    types { }\r\n                    default_type application/x-raw;\r\n                    rewrite ^/production/file_content/modules/(.+)/(.+)$ /$1/files/$2 break;\r\n                }\r\n\r\n                                location / {\r\n                             proxy_pass http://puppet-pool;\r\n                             proxy_redirect off;\r\n                             proxy_set_header Host $host;\r\n                             proxy_set_header X-Real-IP $remote_addr;\r\n                             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                             proxy_set_header X-Client-Verify $ssl_client_verify;\r\n                             proxy_set_header X-SSL-Subject $ssl_client_s_dn;\r\n                             proxy_set_header X-SSL-Issuer $ssl_client_i_dn;\r\n                             proxy_buffer_size 10m;\r\n                             proxy_buffers 1024 10m;\r\n                             proxy_busy_buffers_size 10m;\r\n                             proxy_temp_file_write_size 10m;\r\n                             proxy_read_timeout 120;\r\n                }</pre>\r\n【puppet nginx启动】\r\n\r\n1.启动nginx\r\n/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\r\n2.启动puppetmaster\r\n/etc/init.d/puppetmaster start\r\n\r\n【puppet nginx模拟测试】\r\n1.使用不同的客户端来请求puppetmaster,查看相关日志。\r\n192.168.3.234 - - [16/Sep/2011:15:08:47 +0800] "GET /production/catalog/xxx HTTP/1.1" 3033 16/Sep/2011:15:08:47 +0800200 771 913 27 1316156927.889 "-" "-" - 0.064 127.0.0.1:18142 200\r\n192.168.2.229 - - [16/Sep/2011:15:10:10 +0800] "GET /production/catalog/xxxHTTP/1.1" 3026 16/Sep/2011:15:10:10 +0800200 779 921 29 1316157010.376 "-" "-" - 0.077 127.0.0.1:18143 200\r\n看到上面的加粗的部分，说明nginx已经把请求转发到相应的端口上。\r\n【puppet nginx总结】\r\n为什么使用nginx来作负载均衡，因为nginx比较小，比较精简，响应速度非常快速，配置简单，模块易于扩展，易于升级。\r\npuppetlabs也介绍了很多负载均衡的方法，大家都可以去尝试下，本上有点懒，就没有画这个架构图了，通过上面的介绍\r\n也能理解，其实就是个proxy，分发到puppetmaster的端口上。更多请参阅 puppetlabs。\r\n\r\n&nbsp;\r\n\r\n&nbsp;\r\n\r\n转载自：<a href="http://www.mysqlops.com/2011/09/20/puppet-%E8%BF%90%E7%BB%B4%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B9%8B%E4%BD%BF%E7%94%A8nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html">http://www.mysqlops.com</a>', 'puppet 运维自动化之使用nginx负载均衡', '', 'inherit', 'open', '2012-03-20 10:35:43', 226, 'http://xpmyblog.sinaapp.com/?p=231', 0, 'revision', '', 0),
(232, 1, '2012-03-21 17:59:54', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！\r\n\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。\r\n\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。\r\n\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”\r\n\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！\r\n\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”\r\n\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。\r\n\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......\r\n\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）\r\n\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。\r\n\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...\r\n\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”\r\n\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”\r\n\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…\r\n\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……\r\n\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”\r\n\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\r\n\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\r\n\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'publish', 'open', '2012-12-21 16:14:28', 0, 'http://xpmyblog.sinaapp.com/?p=232', 0, 'post', '', 0),
(233, 1, '2012-03-21 17:59:51', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。\n【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\n20、抄作业其实不叫抄作业，语文上说是借鉴，数学上叫类比，英语上叫copy，地理上是迁移，生物上是转录，物理上是参考系，化学上叫同分异构体，政治上叫求同存异，历史上就是文化大统一。\n21、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 17:59:51', 232, 'http://xpmyblog.sinaapp.com/?p=233', 0, 'revision', '', 0),
(234, 1, '2012-03-21 18:05:36', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！<br>\n\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。<br>\n\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。<br>\n\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”<br>\n\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！<br>\n\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”<br>\n\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。<br>\n\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......<br>\n\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）<br>\n\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。<br>\n\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...<br>\n\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”<br>\n\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”<br>\n\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…<br>\n\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……<br>\n\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”<br>\n\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\n\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！\n\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 18:05:36', 232, '', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(235, 1, '2012-03-21 17:59:54', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。\r\n【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\r\n20、抄作业其实不叫抄作业，语文上说是借鉴，数学上叫类比，英语上叫copy，地理上是迁移，生物上是转录，物理上是参考系，化学上叫同分异构体，政治上叫求同存异，历史上就是文化大统一。\r\n21、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 17:59:54', 232, '', 0, 'revision', '', 0),
(236, 1, '2012-03-21 18:01:59', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 18:01:59', 232, 'http://xpmyblog.sinaapp.com/?p=236', 0, 'revision', '', 0),
(237, 1, '2012-03-21 18:03:22', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！&lt;br&gt;\r\n\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。&lt;br&gt;\r\n\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。&lt;br&gt;\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”&lt;br&gt;\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！&lt;br&gt;\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”&lt;br&gt;\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。&lt;br&gt;\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......&lt;br&gt;\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）&lt;br&gt;\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。&lt;br&gt;\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...&lt;br&gt;\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”&lt;br&gt;\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”&lt;br&gt;\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…&lt;br&gt;\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……&lt;br&gt;\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”&lt;br&gt;\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。&lt;br&gt;\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....&lt;br&gt;\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。&lt;br&gt;\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！&lt;br&gt;\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 18:03:22', 232, 'http://xpmyblog.sinaapp.com/?p=237', 0, 'revision', '', 0),
(238, 1, '2012-03-21 18:05:46', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！<br>\r\n\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。<br>\r\n\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。<br>\r\n\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”<br>\r\n\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！<br>\r\n\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”<br>\r\n\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。<br>\r\n\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......<br>\r\n\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）<br>\r\n\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。<br>\r\n\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...<br>\r\n\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”<br>\r\n\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”<br>\r\n\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…<br>\r\n\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……<br>\r\n\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”<br>\r\n\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。<br>\r\n\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....<br>\r\n\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。<br>\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！<br>\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 18:05:46', 232, 'http://xpmyblog.sinaapp.com/?p=238', 0, 'revision', '', 0),
(239, 1, '2012-03-21 18:06:10', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！<p></p>\r\n\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。<br>\r\n\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。<br>\r\n\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”<br>\r\n\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！<br>\r\n\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”<br>\r\n\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。<br>\r\n\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......<br>\r\n\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）<br>\r\n\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。<br>\r\n\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...<br>\r\n\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”<br>\r\n\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”<br>\r\n\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…<br>\r\n\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……<br>\r\n\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”<br>\r\n\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。<br>\r\n\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....<br>\r\n\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。<br>\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！<br>\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 18:06:10', 232, 'http://xpmyblog.sinaapp.com/?p=239', 0, 'revision', '', 0),
(240, 1, '2012-03-31 10:48:36', '在网上看到这篇文章。\r\n转载自：<a href="http://www.blogabc.net/i3379_PHP%E4%BD%BF%E7%94%A8mysql_pconnetct()%E5%90%8EMySQL%E4%BA%A7%E7%94%9F%E5%A4%A7%E9%87%8FSleep%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95.htm">PHP使用mysql_pconnetct()后MySQL产生大量Sleep进程的解决方法</a>\r\n\r\n==========================================\r\n\r\n第一部分为产生大量sleep进程的原理及对应解决方法\r\n\r\n第二部分为设置wait_timeout值，有效减少sleep进程\r\n\r\n==========================================\r\n\r\n第一部分开始\r\n\r\n1、通常来说，MySQL出现大量Sleep进程是因为采用的PHP的MySQL长链接数据库方式，即使用了mysql_pconnect来打开链接数据库，解决办法就是使用“短”链接，即mysql_connect函数。\r\n\r\n2、在使用mysql_connect短链接方式打开数据库，每个页面在打开数据库后，执行SQL完成，当页面脚本结束的时候，这个MySQL连接会自动关闭并且释放内存。但仍然出现大量Sleep进程，可以看看网站是否存在以下几个方面的问题。\r\n\r\nA，硬盘上存在大量的静态文件，或者WEB服务器负荷太重，在处理HTTP请求响应变得太慢，这样也有可能导致出现大量Sleep进程，解决方法适当调整WEB服务参数和文件，一味的静态或者缓存化网页内容并不是灵丹妙药。\r\n\r\nB，在网页脚本中，有些计算和应用可能非常耗时，比如在0秒的时候打开数据库执行完一段SQL代码后，网页脚本随即花了20秒钟进行一段复杂的运算，或者是require了一个庞大的PHP文件（比如含有几千个违规关键字的过滤函数），哪么这个时候在MySQL后台看到的进程中，这个20秒的过程MySQL并没有做任何事情了，一直处于Sleep状态，直到这个页面执行完毕或者达到wait_timeout值（被强行关闭），优化网页脚本，尽量让程序快速运行，或者在执行这段耗时的运行过程中，执行mysql_close把当前MySQL链接强行关闭。\r\n\r\nC，在采集站中，MySQL中大量的Sleep进程这类现象尤其明显（比如很多网友问道DeDeCMS的MySQL中出现大量Sleep），因为大部的采集器页面在运行过程中，事先打开了一个MySQL链接（可能是为了验证用户权限等），然后开始使用file_get_contents之类的操作去获取一个远程的网页内容，如果这个远程的站点访问速度太慢，比如花了10秒时间才把网页取回，哪么当前采集脚本程序就一直阻塞在这里，并且MySQL啥事也没干，一直处于Sleep状态。解决方法同上，在发出file_get_contents采集远程网页的时候，使用mysql_close强行关闭MySQL的连接，等采集完成在适当需要的时候再重新mysql_connect即可。\r\n\r\n==========================================\r\n\r\n第二部分开始\r\n\r\n设置wait_timeout的值，有效减少sleep进程\r\n\r\n如果你没有修改过MySQL的配置，缺省情况下，wait_timeout的初始值是28800。\r\n\r\nwait_timeout过大有弊端，其体现就是MySQL里大量的SLEEP进程无法及时释放，拖累系统性能，不过也不能把这个值设置的过小，否则可能会遭遇到“MySQL has gone away”之类的问题（你可以在程序里时不时mysql_ping一下，以便服务器知道你还活着，重新计算wait_timeout时间），使用\r\n\r\nmysql>show processlist; 用这个命令来查看当前mysql的进程情况，可以看出大量的sleep进程的时间是多少，大部分的都是10左右的，这时wait_timeout值就可以设置成8-10;\r\n\r\n设置wait_timeout的方法有2个：\r\n\r\n# vi /etc/my.cnf (在windows下是my.ini)\r\n\r\n[mysqld]\r\n\r\nwait_timeout=10\r\n\r\n# /etc/init.d/mysql restart\r\n\r\n这个方法设置后即使服务器以后重启，设置照样生效，不过这个方法会造成mysql服务重启，无论如何都应该尽可能避免；\r\n\r\n下面看看在MySQL命令行里通过SET来设置：\r\n\r\nmysql> set global wait_timeout=10;\r\n\r\nmysql> show global variables like ''wait_timeout'';\r\n\r\n+—————————-+——-+\r\n\r\n| Variable_name              | Value |\r\n\r\n+—————————-+——-+\r\n\r\n| wait_timeout               | 10    |\r\n\r\n+—————————-+——-+\r\n\r\n这里一个容易把人搞蒙的地方是如果查询时使用的是show variables的话，会发现设置好像并没有生效，这是因为单纯使用show variables的话就等同于使用的是show session variables，查询的是会话变量，只有使用show global variables，查询的才是全局变量。\r\n\r\n网络上很多人都抱怨说他们set global之后使用show variables查询没有发现改变，原因就在于混淆了会话变量和全局变量，如果仅仅想修改会话变量的话，可以使用类似set wait_timeout=10;或者set session wait_timeout=10;这样的语法。\r\n\r\n这个方法只是临时性的，如果服务器重启后，wait_timeout的值又会变成28800。', 'PHP使用mysql_pconnetct()后MySQL产生大量Sleep进程的解决方法', '', 'publish', 'open', '2012-12-21 16:17:38', 0, 'http://xpmyblog.sinaapp.com/?p=240', 0, 'post', '', 0),
(241, 1, '2012-03-31 10:47:45', '\n转载自：<a href="http://www.blogabc.net/i3379_PHP%E4%BD%BF%E7%94%A8mysql_pconnetct()%E5%90%8EMySQL%E4%BA%A7%E7%94%9F%E5%A4%A7%E9%87%8FSleep%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95.htm">PHP使用mysql_pconnetct()后MySQL产生大量Sleep进程的解决方法</a>', 'PHP使用mysql_pconnetct()后MySQL产生大量Sleep进程的解决方法', '', 'inherit', 'open', '2012-03-31 10:47:45', 240, 'http://xpmyblog.sinaapp.com/?p=241', 0, 'revision', '', 0),
(242, 1, '2012-04-06 16:02:38', '1.丢弃小数部分,保留整数部分 \r\nparseInt(5/2) \r\n\r\n2.向上取整,有小数就整数部分加1 \r\n\r\nMath.ceil(5/2) \r\n\r\n3,四舍五入. \r\n\r\nMath.round(5/2) \r\n\r\n4,向下取整 \r\n\r\nMath.floor(5/2) \r\n\r\n\r\nMath 对象的方法 \r\n\r\nFF: Firefox, N: Netscape, IE: Internet Explorer \r\n方法 描述 FF N IE \r\nabs(x) 返回数的绝对值 1 2 3 \r\nacos(x) 返回数的反余弦值 1 2 3 \r\nasin(x) 返回数的反正弦值 1 2 3 \r\natan(x) 以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值 1 2 3 \r\natan2(y,x) 返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间） 1 2 3 \r\nceil(x) 对一个数进行上舍入。 1 2 3 \r\ncos(x) 返回数的余弦 1 2 3 \r\nexp(x) 返回 e 的指数。 1 2 3 \r\nfloor(x) 对一个数进行下舍入。 1 2 3 \r\nlog(x) 返回数的自然对数（底为e） 1 2 3 \r\nmax(x,y) 返回 x 和 y 中的最高值 1 2 3 \r\nmin(x,y) 返回 x 和 y 中的最低值 1 2 3 \r\npow(x,y) 返回 x 的 y 次幂 1 2 3 \r\nrandom() 返回 0 ~ 1 之间的随机数 1 2 3 \r\nround(x) 把一个数四舍五入为最接近的整数 1 2 3 \r\nsin(x) 返回数的正弦 1 2 3 \r\nsqrt(x) 返回数的平方根 1 2 3 \r\ntan(x) 返回一个角的正切 1 2 3 \r\ntoSource() 代表对象的源代码 1 4 - \r\nvalueOf() 返回一个 Math 对象的原始值', 'js Math 中数学函数用法 取整出 向上取整 向下取整', '', 'publish', 'open', '2012-12-21 16:24:50', 0, 'http://xpmyblog.sinaapp.com/?p=242', 0, 'post', '', 0),
(243, 1, '2012-04-06 16:02:23', '', 'js Math 中数学函数用法 取整出 向上取整 向下取整', '', 'inherit', 'open', '2012-04-06 16:02:23', 242, 'http://xpmyblog.sinaapp.com/?p=243', 0, 'revision', '', 0),
(248, 1, '2012-05-17 16:39:05', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre class="brush: js;">\r\nfunction js_unescape($str)\r\n{\r\n    $ret = '''';\r\n    $len = strlen($str);\r\n    for ($i = 0; $i < $len; $i++) {\r\n        if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n            $val = hexdec(substr($str, $i+2, 4));\r\n            if ($val < 0x7f) $ret .= chr($val);\r\n            else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n            else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n            $i += 5;\r\n        }else if ($str[$i] == ''%''){\r\n            $ret .= urldecode(substr($str, $i, 3));\r\n            $i += 2;\r\n	}else{\r\n            $ret .= $str[$i];\r\n	}\r\n}\r\n    return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'publish', 'open', '2012-12-21 16:24:56', 0, 'http://xpmyblog.sinaapp.com/?p=248', 0, 'post', '', 0),
(249, 1, '2012-05-17 16:38:08', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\n分析一下原因，echo $_GET[''username''];  输出是空值，也就是没有传递过来。\n\n解决办法就是在客户端加escape\n$.get("aa.php&username="+escape(username)+"&rand="+Math.random(), function(data){\n\n});\n\n然后在php解决', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-05-17 16:38:08', 248, '', 0, 'revision', '', 0),
(250, 1, '2012-05-17 16:39:05', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username''];  输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&username="+escape(username)+"&rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="php">\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i < $len; $i++) {\r\n		if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val < 0x7f) $ret .= chr($val);\r\n				else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n				else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}\r\n</pre>\r\n', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-05-17 16:39:05', 248, 'http://xpmyblog.sinaapp.com/?p=250', 0, 'revision', '', 0),
(251, 1, '2012-03-19 09:32:01', '//Post方式提交表单  \r\n<pre>\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161\r\n', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-03-19 09:32:01', 224, 'http://xpmyblog.sinaapp.com/?p=251', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(252, 1, '2012-01-29 21:18:45', '下面是配置nginx负载均衡的简单示例文件,主要作用是:\r\nwww.s135.com 和 blog.s135.com 域名均指向 Nginx 所在的服务器IP。用户访问http://www.s135.com，将其负载均衡到192.168.1.2:80、92.168.1.3:80、192.168.1.4:80、192.168.1.5:80四台服务器。用户访问http://blog.s135.com，将其负载均衡到192.168.1.7服务器的8080、8081、8082端口。获取用户真实ＩＰ.\r\n<pre lang="php">\r\nuser  www www;\r\n \r\nworker_processes 10;\r\n \r\n#error_log  logs/error.log;\r\n#error_log  logs/error.log  notice;\r\n#error_log  logs/error.log  info;\r\n \r\n#pid        logs/nginx.pid;\r\n \r\n#最大文件描述符\r\nworker_rlimit_nofile 51200;\r\n \r\nevents\r\n{\r\n      use epoll;\r\n \r\n      worker_connections 51200;\r\n}\r\n \r\nhttp\r\n{\r\n      include       conf/mime.types;\r\n      default_type  application/octet-stream;\r\n \r\n      keepalive_timeout 120;\r\n \r\n      tcp_nodelay on;\r\n \r\n      upstream  www.s135.com  {\r\n              server   192.168.1.2:80;\r\n              server   192.168.1.3:80;\r\n              server   192.168.1.4:80;\r\n              server   192.168.1.5:80;\r\n      }\r\n \r\n      upstream  blog.s135.com  {\r\n              server   192.168.1.7:8080;\r\n              server   192.168.1.7:8081;\r\n              server   192.168.1.7:8082;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  www.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://www.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  www_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/www.log  www_s135_com;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  blog.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://blog.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  blog_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/blog.log  blog_s135_com;\r\n      }\r\n}\r\n</pre>\r\n\r\n\r\n这里主要用到两个模块:\r\n１.HTTP负载均衡模块（HTTP Upstream）,其中的一些字段解释:\r\nserver:指定后端服务器的名称和一些参数，可以使用域名，IP，端口，或者unix socket。如果指定为域名，则首先将其解析为IP。\r\nupstream:这个字段设置一群服务器，可以将这个字段放在proxy_pass和fastcgi_pass指令中作为一个单独的实体，它们可以可以是监听不同端口的服务器，并且也可以是同时监听TCP和Unix socket的服务器。\r\n２.HTTP代理模块（HTTP Proxy）\r\n这个模块可以转发请求到其他的服务器。\r\nproxy_pass:这个指令设置被代理服务器的地址和被映射的URI，地址可以使用主机名或IP加端口号的形式\r\nproxy_set_header:这个指令允许将发送到被代理服务器的请求头重新定义或者增加一些字段。这个值可以是一个文本，变量或者它们的组合。\r\n\r\n', 'Nginx实现HTTP负载均衡', '', 'inherit', 'open', '2012-01-29 21:18:45', 212, 'http://xpmyblog.sinaapp.com/?p=252', 0, 'revision', '', 0),
(253, 1, '2012-01-17 17:22:34', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre lang="php">\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n</pre>\r\n2、\r\n<pre lang="php">\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre lang="php">\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n</pre>\r\n注意，要把online.txt文件的属性设为777，还有上面程序只对linux系统下有效。\r\n\r\n4、现在开始标题的程序吧\r\n<pre lang="php">\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 http://xpmyblog.sinaapp.com/?p=205\r\n', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-01-17 17:22:34', 205, 'http://xpmyblog.sinaapp.com/?p=253', 0, 'revision', '', 0),
(254, 1, '2012-06-18 22:14:33', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username''];  输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&username="+escape(username)+"&rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre class="brush: c-sharp;">\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i < $len; $i++) {\r\n		if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val < 0x7f) $ret .= chr($val);\r\n				else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n				else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}\r\n</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-06-18 22:14:33', 248, 'http://xpmyblog.sinaapp.com/?p=254', 0, 'revision', '', 0),
(255, 1, '2012-06-18 22:26:34', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username''];  输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&username="+escape(username)+"&rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre class="brush: c-sharp;">\r\n<script>\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i < $len; $i++) {\r\n		if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val < 0x7f) $ret .= chr($val);\r\n				else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n				else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}\r\n<script>\r\n</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-06-18 22:26:34', 248, 'http://xpmyblog.sinaapp.com/?p=255', 0, 'revision', '', 0),
(256, 1, '2012-06-18 22:31:30', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username''];  输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&username="+escape(username)+"&rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="php">\r\n<script>\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i < $len; $i++) {\r\n		if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val < 0x7f) $ret .= chr($val);\r\n				else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n				else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}\r\n<script>\r\n</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-06-18 22:31:30', 248, 'http://xpmyblog.sinaapp.com/?p=256', 0, 'revision', '', 0),
(257, 1, '2012-06-18 22:15:53', '//Post方式提交表单  \r\n<pre class="brush: c-sharp;">\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-06-18 22:15:53', 224, 'http://xpmyblog.sinaapp.com/?p=257', 0, 'revision', '', 0),
(258, 1, '2012-06-18 22:22:54', '下面是配置nginx负载均衡的简单示例文件,主要作用是:\r\nwww.s135.com 和 blog.s135.com 域名均指向 Nginx 所在的服务器IP。用户访问http://www.s135.com，将其负载均衡到192.168.1.2:80、92.168.1.3:80、192.168.1.4:80、192.168.1.5:80四台服务器。用户访问http://blog.s135.com，将其负载均衡到192.168.1.7服务器的8080、8081、8082端口。获取用户真实ＩＰ.\r\n<pre class="brush: c-sharp;">\r\nuser  www www;\r\n \r\nworker_processes 10;\r\n \r\n#error_log  logs/error.log;\r\n#error_log  logs/error.log  notice;\r\n#error_log  logs/error.log  info;\r\n \r\n#pid        logs/nginx.pid;\r\n \r\n#最大文件描述符\r\nworker_rlimit_nofile 51200;\r\n \r\nevents\r\n{\r\n      use epoll;\r\n \r\n      worker_connections 51200;\r\n}\r\n \r\nhttp\r\n{\r\n      include       conf/mime.types;\r\n      default_type  application/octet-stream;\r\n \r\n      keepalive_timeout 120;\r\n \r\n      tcp_nodelay on;\r\n \r\n      upstream  www.s135.com  {\r\n              server   192.168.1.2:80;\r\n              server   192.168.1.3:80;\r\n              server   192.168.1.4:80;\r\n              server   192.168.1.5:80;\r\n      }\r\n \r\n      upstream  blog.s135.com  {\r\n              server   192.168.1.7:8080;\r\n              server   192.168.1.7:8081;\r\n              server   192.168.1.7:8082;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  www.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://www.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  www_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/www.log  www_s135_com;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  blog.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://blog.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  blog_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/blog.log  blog_s135_com;\r\n      }\r\n}\r\n</pre>\r\n\r\n\r\n这里主要用到两个模块:\r\n１.HTTP负载均衡模块（HTTP Upstream）,其中的一些字段解释:\r\nserver:指定后端服务器的名称和一些参数，可以使用域名，IP，端口，或者unix socket。如果指定为域名，则首先将其解析为IP。\r\nupstream:这个字段设置一群服务器，可以将这个字段放在proxy_pass和fastcgi_pass指令中作为一个单独的实体，它们可以可以是监听不同端口的服务器，并且也可以是同时监听TCP和Unix socket的服务器。\r\n２.HTTP代理模块（HTTP Proxy）\r\n这个模块可以转发请求到其他的服务器。\r\nproxy_pass:这个指令设置被代理服务器的地址和被映射的URI，地址可以使用主机名或IP加端口号的形式\r\nproxy_set_header:这个指令允许将发送到被代理服务器的请求头重新定义或者增加一些字段。这个值可以是一个文本，变量或者它们的组合。\r\n', 'Nginx实现HTTP负载均衡', '', 'inherit', 'open', '2012-06-18 22:22:54', 212, 'http://xpmyblog.sinaapp.com/?p=258', 0, 'revision', '', 0),
(259, 1, '2012-06-18 22:25:22', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre class="brush: c-sharp;">\r\n<?php\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n?>\r\n</pre>\r\n2、\r\n<pre class="brush: c-sharp;">\r\n<?php\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n?>\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre class="brush: c-sharp;">\r\n<?php\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n?>\r\n</pre>\r\n注意，要把online.txt文件的属性设为777，还有上面程序只对linux系统下有效。\r\n\r\n4、现在开始标题的程序吧\r\n<pre class="brush: c-sharp;">\r\n<?php\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n?>\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 http://xpmyblog.sinaapp.com/?p=205', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-06-18 22:25:22', 205, 'http://xpmyblog.sinaapp.com/?p=259', 0, 'revision', '', 0),
(260, 1, '2012-01-09 22:45:49', '直接上最简单的\r\n<pre>\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\nclass call_func{\r\n	function func0() {\r\n		echo ''func0'';\r\n	}\r\n\r\n	function func1($a) {\r\n		echo $a;\r\n	}\r\n\r\n	function func2($a, $b) {\r\n		echo $a+$b;\r\n	}\r\n\r\n	function func3($a, $b, $c) {\r\n		echo $a+$b+$c;\r\n	}\r\n}\r\n\r\nfunction otest() {\r\n	$args = func_get_args();	\r\n	$num = func_num_args();\r\n	call_user_func_array(array(''call_func'',''func''.$num), $args);\r\n}\r\n\r\notest(1,1,1);\r\n</pre>\r\n\r\nmixed call_user_func_array ( callback function, array param_arr ) 和 mixed call_user_func ( callback $function [, mixed $parameter [, mixed $... ]] ) 相似\r\n\r\n还可以这样实例化类的，厉害吧！！！\r\n', 'PHP之call_user_func_array用法', '', 'inherit', 'open', '2012-01-09 22:45:49', 196, 'http://xpmyblog.sinaapp.com/?p=260', 0, 'revision', '', 0),
(261, 1, '2012-06-19 23:26:43', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，我的微博：<a href="http://weibo.com/xpmozong" target="_blank">寞踪</a>\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. js+html+css\r\n3. linux+lnmp\r\n4. ios\r\n5. python\r\n</pre>', '关于我', '', 'publish', 'open', '2012-11-01 11:35:21', 0, 'http://xpmyblog.sinaapp.com/?page_id=261', 0, 'page', '', 7),
(262, 1, '2012-06-19 23:26:38', '', '关于', '', 'inherit', 'open', '2012-06-19 23:26:38', 261, 'http://xpmyblog.sinaapp.com/?p=262', 0, 'revision', '', 0),
(263, 1, '2012-06-19 23:34:25', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术。业余时间学习ios\n\n掌握技能:\n<ol>\n	<li>php+mysql</li>\n	<li>css+html</li>\n	<li>linux+lnmp</li>\n	<li>ios</li>\n</ol>', '关于我', '', 'inherit', 'open', '2012-06-19 23:34:25', 261, '', 0, 'revision', '', 0),
(264, 1, '2012-06-19 23:26:43', '关于我', '关于', '', 'inherit', 'open', '2012-06-19 23:26:43', 261, 'http://xpmyblog.sinaapp.com/?p=264', 0, 'revision', '', 0),
(265, 1, '2012-06-19 23:32:25', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术。\r\n\r\n掌握技能:\r\n<ol>\r\n	<li>php+mysql</li>\r\n	<li>css+html</li>\r\n	<li>linux+lnmp</li>\r\n	<li>ios</li>\r\n</ol>', '关于我', '', 'inherit', 'open', '2012-06-19 23:32:25', 261, '', 0, 'revision', '', 0),
(266, 1, '2012-06-19 23:35:14', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。\r\n\r\n掌握技能:\r\n<pre>\r\n	php+mysql\r\n	css+html\r\n	linux+lnmp\r\n	ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:35:14', 261, '', 0, 'revision', '', 0),
(267, 1, '2012-06-19 23:36:01', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。\r\n\r\n掌握技能:\r\n<pre>\r\n1、php+mysql\r\n2、css+html\r\n3、linux+lnmp\r\n4、ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:36:01', 261, 'http://xpmyblog.sinaapp.com/?p=267', 0, 'revision', '', 0),
(268, 1, '2012-06-19 23:36:26', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。\r\n\r\n掌握技能:\r\n<pre>\r\n1.php+mysql\r\n2.css+html\r\n3.linux+lnmp\r\n4.ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:36:26', 261, 'http://xpmyblog.sinaapp.com/?p=268', 0, 'revision', '', 0),
(269, 1, '2012-06-19 23:36:37', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. css+html\r\n3. linux+lnmp\r\n4. ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:36:37', 261, 'http://xpmyblog.sinaapp.com/?p=269', 0, 'revision', '', 0),
(270, 1, '2012-06-19 23:41:22', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。我的微博：http://weibo.com/xpmozong\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. css+html\r\n3. linux+lnmp\r\n4. ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:41:22', 261, '', 0, 'revision', '', 0),
(271, 1, '2012-06-19 23:41:41', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。我的微博：<a href="http://weibo.com/xpmozong">寞踪</a>\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. css+html\r\n3. linux+lnmp\r\n4. ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:41:41', 261, 'http://xpmyblog.sinaapp.com/?p=271', 0, 'revision', '', 0),
(272, 1, '2012-06-18 22:35:12', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre lang="php">\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n</pre>\r\n2、\r\n<pre class="brush: c-sharp;">\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre class="brush: c-sharp;">\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n</pre>\r\n注意，要把online.txt文件的属性设为777，还有上面程序只对linux系统下有效。\r\n\r\n4、现在开始标题的程序吧\r\n<pre class="brush: c-sharp;">\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 http://xpmyblog.sinaapp.com/?p=205', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-06-18 22:35:12', 205, 'http://xpmyblog.sinaapp.com/?p=272', 0, 'revision', '', 0),
(274, 1, '2012-06-19 23:42:13', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习ios。我的微博：<a href="http://weibo.com/xpmozong" target="_blank">寞踪</a>\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. css+html\r\n3. linux+lnmp\r\n4. ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-19 23:42:13', 261, 'http://xpmyblog.sinaapp.com/?p=274', 0, 'revision', '', 0),
(276, 1, '2012-07-17 17:38:37', '1.让下面图层可以触摸\r\nsearchImage.exclusiveTouch = YES;//第一层searchImage.userInteractionEnabled = NO;myMapView.exclusiveTouch = NO;//第二层myMapView.userInteractionEnabled = YES;\r\n\r\n2.设置状态栏\r\n[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation: UIStatusBarAnimationSlide];//隐藏状态栏\r\n[[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleBlackTranslucent];\r\n//设置状态栏透明\r\n\r\n3.判断网络是否连接\r\n/**\r\n *\r\n *  此函数用来判断是否网络连接服务器正常\r\n *  @return 无返回结果\r\n *\r\n */\r\n+(BOOL)isExistenceNetwork{\r\n	BOOL isExistenceNetwork;\r\n	Reachability *reachability=[Reachability reachabilityWithHostName:@""];/** 测试服务器状态*/\r\n	\r\n	switch ([reachability currentReachabilityStatus]) {\r\n		case NotReachable:/** 无网络连接*/\r\n			isExistenceNetwork=FALSE;\r\n			break;\r\n		case ReachableViaWWAN:/** 使用3G/GPRS网络*/\r\n		    isExistenceNetwork=TRUE;\r\n			break;\r\n        case ReachableViaWiFi:/** 使用wifi连接*/\r\n			isExistenceNetwork=TRUE;\r\n			break;\r\n	}\r\n	\r\n	return isExistenceNetwork;\r\n}\r\n注：需要导入Reachability类\r\n\r\n4.实时通知网络状况\r\n\r\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {    \r\n     ....................\r\n	[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(reachabilityChanged:) name:kReachabilityChangedNotification object:nil];\r\n    reachability=[[Reachability reachabilityWithHostName:@"www.baidu.com"] retain];\r\n	[reachability startNotifier];\r\n	return YES;\r\n}\r\n\r\n/**\r\n *\r\n *  此函数通过判断联网方式，通知给用户\r\n *  @param notification 为一个通知对象\r\n *  @return 无返回结果\r\n *\r\n */\r\n-(void)reachabilityChanged:(NSNotification *)notification{\r\n	Reachability *curReachability=[notification object];\r\n	NSParameterAssert([curReachability isKindOfClass:[Reachability class]]);\r\n	NetworkStatus curStatus=[curReachability currentReachabilityStatus];\r\n	if (curStatus==NotReachable) {/** 此处用来判断连接是否失败*/\r\n		[DOIN_Util logFax:@"连接失败"];\r\n	}\r\n}\r\n\r\n注：以上需要Reachability类在2.0以上才可以适用。\r\n\r\n6.显示和隐藏UITabBarController\r\n\r\n   secondViewController.hidesBottomBarWhenPushed=YES \r\n    其中的secondViewController为需要隐藏tabbar的视图，如果全部视图都需要隐藏，那么可以使用self.hidesBottomBarWhenPushed=YES来实现。\r\n\r\n注：缺点就是隐藏tabbar的视图不能在显示tabbar。\r\n\r\n\r\n7.UINavigationController显示为透明状态或者隐藏\r\n   \r\n    navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent\r\n   其中 navigationController为一个UINavigationController对象，通过上述代码可以使导航栏背景处于透明状态。\r\n\r\n   [self.navigationController setNavigationBarHidden:NO animated:YES];\r\n   上述代码可以把navigationController隐藏起来，如果把其中的NO改为YES就可以显示出来\r\n\r\n\r\n8.UINavigationController中的toolbar设置透明\r\n\r\n    [self.navigationController.toolbar setTranslucent:YES];设置为透明\r\n   \r\n9.置于底层\r\n[self.view insertSubview:_backImg atIndex:0];\r\n\r\n\r\n\r\n', 'iphone技术总结', '', 'publish', 'open', '2012-12-21 16:25:58', 0, 'http://xpmyblog.sinaapp.com/?p=276', 0, 'post', '', 0),
(277, 1, '2012-07-17 17:37:18', '1.让下面图层可以触摸\nsearchImage.exclusiveTouch = YES;//第一层searchImage.userInteractionEnabled = NO;myMapView.exclusiveTouch = NO;//第二层myMapView.userInteractionEnabled = YES;\n\n2.设置状态栏\n[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation: UIStatusBarAnimationSlide];//隐藏状态栏\n[[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleBlackTranslucent];\n//设置状态栏透明\n\n3.判断网络是否连接\n/**\n *\n *  此函数用来判断是否网络连接服务器正常\n *  @return 无返回结果\n *\n */\n+(BOOL)isExistenceNetwork{\n	BOOL isExistenceNetwork;\n	Reachability *reachability=[Reachability reachabilityWithHostName:@""];/** 测试服务器状态*/\n	\n	switch ([reachability currentReachabilityStatus]) {\n		case NotReachable:/** 无网络连接*/\n			isExistenceNetwork=FALSE;\n			break;\n		case ReachableViaWWAN:/** 使用3G/GPRS网络*/\n		    isExistenceNetwork=TRUE;\n			break;\n        case ReachableViaWiFi:/** 使用wifi连接*/\n			isExistenceNetwork=TRUE;\n			break;\n	}\n	\n	return isExistenceNetwork;\n}\n注：需要导入Reachability类\n\n4.实时通知网络状况\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {    \n     ....................\n	[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(reachabilityChanged:) name:kReachabilityChangedNotification object:nil];\n    reachability=[[Reachability reachabilityWithHostName:@"www.baidu.com"] retain];\n	[reachability startNotifier];\n	return YES;\n}\n\n/**\n *\n *  此函数通过判断联网方式，通知给用户\n *  @param notification 为一个通知对象\n *  @return 无返回结果\n *\n */\n-(void)reachabilityChanged:(NSNotification *)notification{\n	Reachability *curReachability=[notification object];\n	NSParameterAssert([curReachability isKindOfClass:[Reachability class]]);\n	NetworkStatus curStatus=[curReachability currentReachabilityStatus];\n	if (curStatus==NotReachable) {/** 此处用来判断连接是否失败*/\n		[DOIN_Util logFax:@"连接失败"];\n	}\n}\n\n注：以上需要Reachability类在2.0以上才可以适用。\n\n\n', 'iphone技术总结', '', 'inherit', 'open', '2012-07-17 17:37:18', 276, 'http://xpmyblog.sinaapp.com/?p=277', 0, 'revision', '', 0),
(279, 1, '2012-07-17 17:37:44', '1.让下面图层可以触摸\r\nsearchImage.exclusiveTouch = YES;//第一层searchImage.userInteractionEnabled = NO;myMapView.exclusiveTouch = NO;//第二层myMapView.userInteractionEnabled = YES;\r\n\r\n2.设置状态栏\r\n[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation: UIStatusBarAnimationSlide];//隐藏状态栏\r\n[[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleBlackTranslucent];\r\n//设置状态栏透明\r\n\r\n3.判断网络是否连接\r\n/**\r\n *\r\n *  此函数用来判断是否网络连接服务器正常\r\n *  @return 无返回结果\r\n *\r\n */\r\n+(BOOL)isExistenceNetwork{\r\n	BOOL isExistenceNetwork;\r\n	Reachability *reachability=[Reachability reachabilityWithHostName:@""];/** 测试服务器状态*/\r\n	\r\n	switch ([reachability currentReachabilityStatus]) {\r\n		case NotReachable:/** 无网络连接*/\r\n			isExistenceNetwork=FALSE;\r\n			break;\r\n		case ReachableViaWWAN:/** 使用3G/GPRS网络*/\r\n		    isExistenceNetwork=TRUE;\r\n			break;\r\n        case ReachableViaWiFi:/** 使用wifi连接*/\r\n			isExistenceNetwork=TRUE;\r\n			break;\r\n	}\r\n	\r\n	return isExistenceNetwork;\r\n}\r\n注：需要导入Reachability类\r\n\r\n4.实时通知网络状况\r\n\r\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {    \r\n     ....................\r\n	[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(reachabilityChanged:) name:kReachabilityChangedNotification object:nil];\r\n    reachability=[[Reachability reachabilityWithHostName:@"www.baidu.com"] retain];\r\n	[reachability startNotifier];\r\n	return YES;\r\n}\r\n\r\n/**\r\n *\r\n *  此函数通过判断联网方式，通知给用户\r\n *  @param notification 为一个通知对象\r\n *  @return 无返回结果\r\n *\r\n */\r\n-(void)reachabilityChanged:(NSNotification *)notification{\r\n	Reachability *curReachability=[notification object];\r\n	NSParameterAssert([curReachability isKindOfClass:[Reachability class]]);\r\n	NetworkStatus curStatus=[curReachability currentReachabilityStatus];\r\n	if (curStatus==NotReachable) {/** 此处用来判断连接是否失败*/\r\n		[DOIN_Util logFax:@"连接失败"];\r\n	}\r\n}\r\n\r\n注：以上需要Reachability类在2.0以上才可以适用。\r\n\r\n6.显示和隐藏UITabBarController\r\n\r\n   secondViewController.hidesBottomBarWhenPushed=YES \r\n    其中的secondViewController为需要隐藏tabbar的视图，如果全部视图都需要隐藏，那么可以使用self.hidesBottomBarWhenPushed=YES来实现。\r\n\r\n注：缺点就是隐藏tabbar的视图不能在显示tabbar。\r\n\r\n\r\n7.UINavigationController显示为透明状态或者隐藏\r\n   \r\n    navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent\r\n   其中 navigationController为一个UINavigationController对象，通过上述代码可以使导航栏背景处于透明状态。\r\n\r\n   [self.navigationController setNavigationBarHidden:NO animated:YES];\r\n   上述代码可以把navigationController隐藏起来，如果把其中的NO改为YES就可以显示出来\r\n\r\n\r\n8.UINavigationController中的toolbar设置透明\r\n\r\n    [self.navigationController.toolbar setTranslucent:YES];设置为透明\r\n   \r\n9.置于底层\r\n[self.view insertSubview:_backImg atIndex:0];\r\n\r\n\r\n\r\n', 'iphone技术总结', '', 'inherit', 'open', '2012-07-17 17:37:44', 276, 'http://xpmyblog.sinaapp.com/?p=279', 0, 'revision', '', 0),
(280, 1, '2012-07-17 18:07:57', '方法	                                动作\r\nalloc/new/copy/mutableCopy	生成对象并拥有所有权\r\nretain	                                拥有对象所有权\r\nrelease	                        释放对象所有权\r\ndealloc	                        释放对象资源', 'ios 内存管理基本原则', '', 'publish', 'open', '2012-12-21 16:25:53', 0, 'http://xpmyblog.sinaapp.com/?p=280', 0, 'post', '', 0),
(281, 1, '2012-07-17 18:07:20', '', 'ios 内存管理基本原则', '', 'inherit', 'open', '2012-07-17 18:07:20', 280, 'http://xpmyblog.sinaapp.com/?p=281', 0, 'revision', '', 0),
(283, 1, '2012-08-24 10:39:16', '上网下载rarlinux这款软件，先解压，然后进入解压目录：\r\n＃cd rar\r\n＃make\r\n看见下面这些信息就是安装成功了\r\nmkdir -p /usr/local/bin \r\nmkdir -p /usr/local/lib \r\ncp rar unrar /usr/local/bin \r\ncp rarfiles.lst /etc \r\ncp default.sfx /usr/local/lib\r\n\r\n但是在运行命令rar时,出现下面这个问题,\r\nrar: /lib/i686/nosegneg/libc.so.6: version `GLIBC_2.7'' not found (required by rar)\r\n\r\n解决办法：\r\n\r\ncp rar_static /usr/local/bin/rar\r\n先记住两个常用命令吧：\r\n\r\nrar x vpsyou.rar //解压 vpsyou.rar 到当前目录\r\n rar vpsyou.rar ./vpsyou.com/ //将 vpsyou.com 目录打包为 vpsyou.rar', 'Centos下解压rar文件的方法', '', 'publish', 'open', '2012-12-21 16:22:00', 0, 'http://xpmyblog.sinaapp.com/?p=283', 0, 'post', '', 0),
(284, 1, '2012-08-24 10:39:03', '', 'Centos下解压rar文件的方法  ', '', 'inherit', 'open', '2012-08-24 10:39:03', 283, 'http://xpmyblog.sinaapp.com/?p=284', 0, 'revision', '', 0),
(288, 1, '2012-06-18 22:32:17', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username''];  输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&username="+escape(username)+"&rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="php">\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i < $len; $i++) {\r\n		if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val < 0x7f) $ret .= chr($val);\r\n				else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n				else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}\r\n</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-06-18 22:32:17', 248, 'http://xpmozong.sinaapp.com/?p=288', 0, 'revision', '', 0),
(290, 1, '2012-08-24 12:54:25', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="javascript">\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i &lt; $len; $i++) {\r\n		if ($str[$i] == ''%'' &amp;&amp; $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val &lt; 0x7f) $ret .= chr($val);\r\n				else if($val &lt; 0x800) $ret .= chr(0xc0|($val&gt;&gt;6)).chr(0x80|($val&amp;0x3f));\r\n				else $ret .= chr(0xe0|($val&gt;&gt;12)).chr(0x80|(($val&gt;&gt;6)&amp;0x3f)).chr(0x80|($val&amp;0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-08-24 12:54:25', 248, 'http://xpmyblog.sinaapp.com/?p=290', 0, 'revision', '', 0),
(291, 1, '2012-09-06 21:29:13', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\n\n解决办法就是在客户端加escape\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\n\n});\n\n然后在php解escape\n<pre lang="javascript">function js_unescape($str)\n{\n    $ret = '''';\n    $len = strlen($str);\n    for ($i = 0; $i < $len; $i++) {\n        if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\n            $val = hexdec(substr($str, $i+2, 4));\n            if ($val < 0x7f) $ret .= chr($val);\n            else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\n            else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\n            $i += 5;\n	}else if ($str[$i] == ''%''){\n    $ret .= urldecode(substr($str, $i, 3));\n		$i += 2;\n	}else{\n		$ret .= $str[$i];\n	}\n}\nreturn $ret;\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-09-06 21:29:13', 248, 'http://xpmyblog.sinaapp.com/?p=291', 0, 'revision', '', 0),
(292, 1, '2012-09-06 21:25:11', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="php">\r\nfunction js_unescape($str)\r\n{\r\n	$ret = '''';\r\n	$len = strlen($str);\r\n	for ($i = 0; $i &lt; $len; $i++) {\r\n		if ($str[$i] == ''%'' &amp;&amp; $str[$i+1] == ''u''){\r\n				$val = hexdec(substr($str, $i+2, 4));\r\n				if ($val &lt; 0x7f) $ret .= chr($val);\r\n				else if($val &lt; 0x800) $ret .= chr(0xc0|($val&gt;&gt;6)).chr(0x80|($val&amp;0x3f));\r\n				else $ret .= chr(0xe0|($val&gt;&gt;12)).chr(0x80|(($val&gt;&gt;6)&amp;0x3f)).chr(0x80|($val&amp;0x3f));\r\n				$i += 5;\r\n		}else if ($str[$i] == ''%''){\r\n			$ret .= urldecode(substr($str, $i, 3));\r\n			$i += 2;\r\n		}else{\r\n			$ret .= $str[$i];\r\n		}\r\n	}\r\n	return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-09-06 21:25:11', 248, 'http://xpmyblog.sinaapp.com/?p=292', 0, 'revision', '', 0),
(293, 1, '2012-06-18 22:33:41', '//Post方式提交表单  \r\n<pre lang="php">\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-06-18 22:33:41', 224, 'http://xpmyblog.sinaapp.com/?p=293', 0, 'revision', '', 0),
(295, 1, '2011-11-25 23:41:19', '<pre lang="php">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nvar rand = function(num){\r\n	return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nvar randomcolor = function(){\r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;\r\n}\r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'inherit', 'open', '2011-11-25 23:41:19', 163, 'http://xpmyblog.sinaapp.com/?p=295', 0, 'revision', '', 0),
(296, 1, '2012-09-12 17:25:39', '调用方法:\r\n<pre class="brush: php;">\r\nrequire_once("ZabbixAPI.class.php");\r\n// This enables debugging, this is rather verbose but can help debug problems\r\nZabbixAPI::debugEnabled(TRUE);\r\n\r\n// This logs into Zabbix, and returns false if it fails\r\n//ZabbixAPI::debugEnabled(true);\r\nZabbixAPI::login(''host'',''user'',''passwd'');\r\n\r\n$a = ZabbixAPI::fetch_array(''template'',''get'');\r\n\r\n</pre>\r\n<pre>\r\n1. Javier commented on January 25th, 2012 at 9:54 AM PST  \r\nI found the solution in the next commentary: tcpsyn commented on March 22nd, 2011 at 8:45 AM PST Interesting. I found somewhere that the issue was solved by uncommenting ZabbixAPI::debugEnabled(TRUE); ... This was not in this version of your wrapper. I added it to line 89 and now can use the api. Weird.\r\n\r\n2. Michel Groenescheij commented on February 22nd, 2012 at 1:47 AM PST  \r\nAs we successfully worked with your API under Zabbix 1.8, we now run into problems after we upgraded to Zabbix 2.0. Can you tell us if your API is compatible with ZabbixAPI 2.0?\r\n\r\n3. korvet commented on February 22nd, 2012 at 10:55 AM PST  \r\nHow to return hostid using ZabbixAPI::query ''host'',''create''\r\n\r\n4. Chris commented on May 2nd, 2012 at 5:30 AM PST  \r\nIf you got the "Call to undefined method stdClass::__login()" error (like I did in php 5.3), then fix the ZabbixAPI.class.php file by replacing the line: if (get_class(self::$instance) != "ZabbixAPI") with if (!self::$instance || get_class(self::$instance) != "ZabbixAPI")\r\n\r\n5. Clark commented on May 7th, 2012 at 3:32 PM PST  \r\nI want to get a list of a specific host. How can I use the filter option? $host_details = ZabbixAPI::fetch_array(''host'',''get'',array(''extendoutput''=>1, ''filter''=>''dns:am-akiban02.nj1.afcv.net''))\r\n\r\n</pre>', 'Zabbix  API 一些错误的解决办法', '', 'publish', 'open', '2012-12-21 16:19:25', 0, 'http://xpmyblog.sinaapp.com/?p=296', 0, 'post', '', 0),
(297, 1, '2012-09-12 17:25:17', '调用方法:\n<pre lang="php">\n<?php\nrequire_once("ZabbixAPI.class.php");\n// This enables debugging, this is rather verbose but can help debug problems\nZabbixAPI::debugEnabled(TRUE);\n\n// This logs into Zabbix, and returns false if it fails\n//ZabbixAPI::debugEnabled(true);\nZabbixAPI::login(''http://118.26.228.6/zabbix'',''admin'',''20d64f329702eecf84a37dbc14b28624'');\n\n$a = ZabbixAPI::fetch_array(''template'',''get'');\n?>\n</pre>\n<pre>\n1. Javier commented on January 25th, 2012 at 9:54 AM PST  \nI found the solution in the next commentary: tcpsyn commented on March 22nd, 2011 at 8:45 AM PST Interesting. I found somewhere that the issue was solved by uncommenting ZabbixAPI::debugEnabled(TRUE); ... This was not in this version of your wrapper. I added it to line 89 and now can use the api. Weird.\n\n2. Michel Groenescheij commented on February 22nd, 2012 at 1:47 AM PST  \nAs we successfully worked with your API under Zabbix 1.8, we now run into problems after we upgraded to Zabbix 2.0. Can you tell us if your API is compatible with ZabbixAPI 2.0?\n\n3. korvet commented on February 22nd, 2012 at 10:55 AM PST  \nHow to return hostid using ZabbixAPI::query ''host'',''create''\n\n4. Chris commented on May 2nd, 2012 at 5:30 AM PST  \nIf you got the "Call to undefined method stdClass::__login()" error (like I did in php 5.3), then fix the ZabbixAPI.class.php file by replacing the line: if (get_class(self::$instance) != "ZabbixAPI") with if (!self::$instance || get_class(self::$instance) != "ZabbixAPI")\n\n5. Clark commented on May 7th, 2012 at 3:32 PM PST  \nI want to get a list of a specific host. How can I use the filter option? $host_details = ZabbixAPI::fetch_array(''host'',''get'',array(''extendoutput''=>1, ''filter''=>''dns:am-akiban02.nj1.afcv.net''))\n\n</pre>', 'Zabbix  API 一些错误的解决办法', '', 'inherit', 'open', '2012-09-12 17:25:17', 296, 'http://xpmyblog.sinaapp.com/?p=297', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(298, 1, '2011-08-19 23:03:21', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\r\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\r\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\r\n\r\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\r\n他们的用法如下：\r\n1、Strings\r\n> set foo bar\r\nOK\r\n>get foo\r\n"bar"\r\n\r\n2、integer\r\n	>set mykey "10"\r\n	OK \r\n	>incr mykey\r\n	(integer) 11\r\n	>get mykey\r\n	"11"\r\n	>decr mykey\r\n	(integer) 10\r\n	>get mykey\r\n	"10"\r\n\r\n3、Lists\r\n>rpush foo baz\r\n(integer) 1\r\n>rpush foo qux\r\n(integer) 2\r\n>lpush foo bar\r\n(integer) 3\r\n	>lrange foo 0 -1\r\n	"bar"\r\n	"baz"\r\n	"qux"\r\n	>lrange foo 0 1\r\n	"bar"\r\n	"baz"\r\n	>lpop foo\r\n	"bar"\r\n	>rpop foo\r\n	"qux"\r\n\r\n4、Hashes\r\n>hset foo bar baz\r\n(integer) 1\r\n>hset foo qux quxx\r\n(integer) 1\r\n>hget foo bar\r\n"baz"\r\n>hgetall foo\r\n"bar"\r\n"baz"\r\n"qux"\r\n"quxx"\r\n\r\n5、Set\r\n	>sadd m1 jan\r\n	(integer) 1\r\n	>sadd m1 feb\r\n	(integer) 1\r\n	>sismember m1 jan\r\n	(integer) 1\r\n	>sismember m1 feb\r\n	(integer) 1\r\n	>smembers m1\r\n	"feb"\r\n	"jan"\r\n	>sadd m2 feb\r\n	(integer) 1\r\n	>sismember m2 jan\r\n	(integer) 1\r\n	>sismember m2 mar\r\n	(integer) 1\r\n	>sinter m1 m2\r\n	"feb"\r\n	>sdiff m1 m2\r\n	"jan"\r\n	>sunion m1 m2\r\n	"mar"\r\n	"jan"\r\n	"feb"\r\n\r\n6、sorted sets\r\n	>zadd z1 1 jan\r\n	(integer) 1\r\n	>zadd z1 2 feb\r\n	(integer) 1\r\n	>zadd z1 3 mar\r\n	(integer) 1\r\n	>zscore z1 feb\r\n	"2"\r\n	>zrange z1 0 1 withscores\r\n	"jan"\r\n	"1"\r\n	"feb"\r\n	"2"\r\n	"mar"\r\n	"3"\r\n\r\n由上可知，我觉得理想的存储数据类型是lists和hashes。\r\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\r\n\r\n二、Redis进阶教程-aof(append only file)日志文件\r\n原文出处:http://lgone.com/html/y2010/757.html\r\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\r\n何为AOF?\r\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\r\n扩展知识:\r\nRedis有三种类型的落地文件:\r\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\r\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\r\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\r\n运行流程\r\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\r\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\r\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\r\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\r\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\r\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\r\n内部实现\r\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\r\nfork! Redis通过fork产生子进程.\r\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\r\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\r\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\r\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\r\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\r\n其它\r\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\r\n\r\n三、在windows环境下，phper想使用php操作redis，那怎么办呢？\r\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\r\n用法很简单，\r\n<?php\r\n	require ''Rediska.php'';\r\n	$rediska = new Rediska();\r\n	$rediska ->connect(''127.0.0.1'',6379);\r\n	$rediska ->set(''test'',''hello world!'');\r\n	echo $rediska ->get(''test'');\r\n?>\r\n\r\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'inherit', 'open', '2011-08-19 23:03:21', 57, 'http://xpmyblog.sinaapp.com/?p=298', 0, 'revision', '', 0),
(299, 1, '2012-09-12 17:26:52', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\r\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\r\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\r\n\r\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\r\n他们的用法如下：\r\n<pre>\r\n1、Strings\r\n> set foo bar\r\nOK\r\n>get foo\r\n"bar"\r\n</pre>\r\n<pre>\r\n2、integer\r\n	>set mykey "10"\r\n	OK \r\n	>incr mykey\r\n	(integer) 11\r\n	>get mykey\r\n	"11"\r\n	>decr mykey\r\n	(integer) 10\r\n	>get mykey\r\n	"10"\r\n</pre>\r\n<pre>\r\n3、Lists\r\n>rpush foo baz\r\n(integer) 1\r\n>rpush foo qux\r\n(integer) 2\r\n>lpush foo bar\r\n(integer) 3\r\n	>lrange foo 0 -1\r\n	"bar"\r\n	"baz"\r\n	"qux"\r\n	>lrange foo 0 1\r\n	"bar"\r\n	"baz"\r\n	>lpop foo\r\n	"bar"\r\n	>rpop foo\r\n	"qux"\r\n</pre>\r\n<pre>\r\n4、Hashes\r\n>hset foo bar baz\r\n(integer) 1\r\n>hset foo qux quxx\r\n(integer) 1\r\n>hget foo bar\r\n"baz"\r\n>hgetall foo\r\n"bar"\r\n"baz"\r\n"qux"\r\n"quxx"\r\n</pre>\r\n<pre>\r\n5、Set\r\n	>sadd m1 jan\r\n	(integer) 1\r\n	>sadd m1 feb\r\n	(integer) 1\r\n	>sismember m1 jan\r\n	(integer) 1\r\n	>sismember m1 feb\r\n	(integer) 1\r\n	>smembers m1\r\n	"feb"\r\n	"jan"\r\n	>sadd m2 feb\r\n	(integer) 1\r\n	>sismember m2 jan\r\n	(integer) 1\r\n	>sismember m2 mar\r\n	(integer) 1\r\n	>sinter m1 m2\r\n	"feb"\r\n	>sdiff m1 m2\r\n	"jan"\r\n	>sunion m1 m2\r\n	"mar"\r\n	"jan"\r\n	"feb"\r\n</pre>\r\n<pre>\r\n6、sorted sets\r\n	>zadd z1 1 jan\r\n	(integer) 1\r\n	>zadd z1 2 feb\r\n	(integer) 1\r\n	>zadd z1 3 mar\r\n	(integer) 1\r\n	>zscore z1 feb\r\n	"2"\r\n	>zrange z1 0 1 withscores\r\n	"jan"\r\n	"1"\r\n	"feb"\r\n	"2"\r\n	"mar"\r\n	"3"\r\n</pre>\r\n由上可知，我觉得理想的存储数据类型是lists和hashes。\r\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\r\n\r\n二、Redis进阶教程-aof(append only file)日志文件\r\n原文出处:http://lgone.com/html/y2010/757.html\r\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\r\n何为AOF?\r\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\r\n扩展知识:\r\nRedis有三种类型的落地文件:\r\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\r\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\r\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\r\n运行流程\r\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\r\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\r\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\r\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\r\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\r\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\r\n内部实现\r\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\r\nfork! Redis通过fork产生子进程.\r\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\r\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\r\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\r\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\r\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\r\n其它\r\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\r\n\r\n三、在windows环境下，phper想使用php操作redis，那怎么办呢？\r\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\r\n用法很简单，\r\n<?php\r\n	require ''Rediska.php'';\r\n	$rediska = new Rediska();\r\n	$rediska ->connect(''127.0.0.1'',6379);\r\n	$rediska ->set(''test'',''hello world!'');\r\n	echo $rediska ->get(''test'');\r\n?>\r\n\r\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'inherit', 'open', '2012-09-12 17:26:52', 57, 'http://xpmyblog.sinaapp.com/?p=299', 0, 'revision', '', 0),
(301, 1, '2012-09-13 16:56:58', '在PHP5.4版本的时候用PHPExcel导出excel报错，\r\n报错如下：\r\nFatal error: Uncaught exception ''LogicException'' with message ''In the constructor of PHPExcel_WorksheetIterator, parent::__construct() must be called and its exceptions cannot be cleared'' in F:\\wamp\\www\\ops2.0\\PHPExcel.php:515 Stack trace: #0 F:\\wamp\\www\\ops2.0\\PHPExcel.php(515): PHPExcel_WorksheetIterator->internal_construction_wrapper(Object(PHPExcel)) #1 F:\\wamp\\www\\ops2.0\\PHPExcel\\ReferenceHelper.php(530): PHPExcel->getWorksheetIterator() #2 F:\\wamp\\www\\ops2.0\\PHPExcel\\Worksheet.php(693): PHPExcel_ReferenceHelper->updateNamedFormulas(Object(PHPExcel), ''Worksheet'', ''???????????????...'') #3 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(31): PHPExcel_Worksheet->setTitle(''???????????????...'') #4 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(111): export_domain_excel() #5 {main} thrown in F:\\wamp\\www\\ops2.0\\PHPExcel.php on line 515\r\n\r\n解决办法：\r\n\r\nI manged to make it work again, but the generated Excel spreadsheet is corrupted. To make it run under PHP 5.4.0beta1 you have to modify the PHPExcel_WorksheetIterator class. Currently, it extends the CachingIterator which constructor has been changed in the PHP beta. To make the code run, you can change the class definition to: "implements Iterator" instead of "extends CachingIterator". \r\n\r\n\r\n就是将 extends CachingIterator 替换成 implements Iterator就OK了！\r\n', 'PHPExcel Urgent: SetTitle does not work on PHP 5.4.0beta1', '', 'publish', 'open', '2012-12-21 16:19:20', 0, 'http://xpmyblog.sinaapp.com/?p=301', 0, 'post', '', 0),
(302, 1, '2012-09-13 16:56:43', '在PHP5.4版本的时候用PHPExcel导出excel报错，\n报错如下：\n<pre>\nFatal error: Uncaught exception ''LogicException'' with message ''In the constructor of PHPExcel_WorksheetIterator, parent::__construct() must be called and its exceptions cannot be cleared'' in F:\\wamp\\www\\ops2.0\\PHPExcel.php:515 Stack trace: #0 F:\\wamp\\www\\ops2.0\\PHPExcel.php(515): PHPExcel_WorksheetIterator->internal_construction_wrapper(Object(PHPExcel)) #1 F:\\wamp\\www\\ops2.0\\PHPExcel\\ReferenceHelper.php(530): PHPExcel->getWorksheetIterator() #2 F:\\wamp\\www\\ops2.0\\PHPExcel\\Worksheet.php(693): PHPExcel_ReferenceHelper->updateNamedFormulas(Object(PHPExcel), ''Worksheet'', ''???????????????...'') #3 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(31): PHPExcel_Worksheet->setTitle(''???????????????...'') #4 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(111): export_domain_excel() #5 {main} thrown in F:\\wamp\\www\\ops2.0\\PHPExcel.php on line 515\n</pre>\n\n解决办法：\n<pre>\nI manged to make it work again, but the generated Excel spreadsheet is corrupted. To make it run under PHP 5.4.0beta1 you have to modify the PHPExcel_WorksheetIterator class. Currently, it extends the CachingIterator which constructor has been changed in the PHP beta. To make the code run, you can change the class definition to: "implements Iterator" instead of "extends CachingIterator". \n</pre>\n\n就是将 \n', 'PHPExcel Urgent: SetTitle does not work on PHP 5.4.0beta1', '', 'inherit', 'open', '2012-09-13 16:56:43', 301, 'http://xpmyblog.sinaapp.com/?p=302', 0, 'revision', '', 0),
(303, 1, '2012-09-13 16:56:58', '在PHP5.4版本的时候用PHPExcel导出excel报错，\r\n报错如下：\r\n<pre>\r\nFatal error: Uncaught exception ''LogicException'' with message ''In the constructor of PHPExcel_WorksheetIterator, parent::__construct() must be called and its exceptions cannot be cleared'' in F:\\wamp\\www\\ops2.0\\PHPExcel.php:515 Stack trace: #0 F:\\wamp\\www\\ops2.0\\PHPExcel.php(515): PHPExcel_WorksheetIterator->internal_construction_wrapper(Object(PHPExcel)) #1 F:\\wamp\\www\\ops2.0\\PHPExcel\\ReferenceHelper.php(530): PHPExcel->getWorksheetIterator() #2 F:\\wamp\\www\\ops2.0\\PHPExcel\\Worksheet.php(693): PHPExcel_ReferenceHelper->updateNamedFormulas(Object(PHPExcel), ''Worksheet'', ''???????????????...'') #3 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(31): PHPExcel_Worksheet->setTitle(''???????????????...'') #4 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(111): export_domain_excel() #5 {main} thrown in F:\\wamp\\www\\ops2.0\\PHPExcel.php on line 515\r\n</pre>\r\n\r\n解决办法：\r\n<pre>\r\nI manged to make it work again, but the generated Excel spreadsheet is corrupted. To make it run under PHP 5.4.0beta1 you have to modify the PHPExcel_WorksheetIterator class. Currently, it extends the CachingIterator which constructor has been changed in the PHP beta. To make the code run, you can change the class definition to: "implements Iterator" instead of "extends CachingIterator". \r\n</pre>\r\n\r\n就是将 extends CachingIterator 替换成 implements Iterator就OK了！\r\n', 'PHPExcel Urgent: SetTitle does not work on PHP 5.4.0beta1', '', 'inherit', 'open', '2012-09-13 16:56:58', 301, 'http://xpmyblog.sinaapp.com/?p=303', 0, 'revision', '', 0),
(331, 1, '2012-09-21 09:50:15', '', '读者墙', '', 'publish', 'open', '2012-09-21 09:56:42', 0, 'http://xpmyblog.sinaapp.com/?page_id=331', 0, 'page', '', 0),
(332, 1, '2012-09-21 09:49:56', '', '读者墙', '', 'inherit', 'open', '2012-09-21 09:49:56', 331, 'http://xpmyblog.sinaapp.com/?p=332', 0, 'revision', '', 0),
(333, 1, '2012-09-21 09:50:15', '', '读者墙', '', 'inherit', 'open', '2012-09-21 09:50:15', 331, 'http://xpmyblog.sinaapp.com/?p=333', 0, 'revision', '', 0),
(335, 1, '2012-09-28 00:08:55', '<pre class="brush:bash;">\r\nconfigure: error: xml2-config not found. Please check your libxml2 installation.\r\nyum install libxml2-devel\r\n\r\nconfigure: error: Cannot find OpenSSL’s\r\nyum install openssl-devel\r\n\r\nconfigure: error: Please reinstall the libcurl distribution -easy.h should be in /include/curl/\r\nyum install curl-devel\r\nconfigure: error: libjpeg.(a|so) not found\r\nyum install libjpeg-devel\r\n\r\nconfigure: error: libpng.(a|so) not found.\r\nyum install libpng-devel\r\n\r\nconfigure: error: libXpm.(a|so) not found.\r\nyum install libXpm-devel\r\n\r\nconfigure: error: freetype.h not found.\r\nyum install freetype-devel\r\n\r\nconfigure: error: utf8_mime2text() has new signature, but U8T_CANONICAL is missing. This should not happen. Check config.log for additional information.\r\nyum install libc-client-devel\r\n\r\nconfigure: error: mcrypt.h not found. Please reinstall libmcrypt.\r\nyum install libmcrypt-devel\r\n\r\nconfigure: error: Please reinstall libmhash – I cannot find mhash.h\r\nyum install mhash-devel\r\n\r\nconfigure: error: Cannot find MySQL header files under /usr.\r\nNote that the MySQL client library is not bundled anymore!\r\nyum install mysql-devel\r\n\r\nconfigure: error: Please reinstall ming distribution. libming.(a|so) not found\r\n- temp remove the config for ‘–with-ming=/opt/ming/’\r\n\r\nconfigure: error: Cannot find pspell\r\nyum install pspell-devel\r\n\r\nconfigure: error: cannot find mm library\r\nDownload from http://www.ossp.org/pkg/lib/mm/\r\nwget ftp://ftp.ossp.org/pkg/lib/mm/mm-1.4.2.tar.gz\r\nExtract it:  tar -zxvf mm-1.4.2.tar.gz\r\n./configure\r\nmake\r\nmake install\r\n\r\nconfigure: error: Cannot find libtidy\r\nyum install libtidy-devel\r\nyum install libtidy\r\nchange path at configure: ‘–with-tidy=/usr’\r\n\r\nconfigure: error: not found. Please reinstall the expat distribution.\r\nyum install expat-devel\r\n\r\nconfigure: error: xslt-config not found. Please reinstall the libxslt >= 1.1.0 distribution\r\nyum install libxslt-devel\r\n\r\n*Tips: To uninstall, just enter:\r\nyum remove {package-name}\r\n\r\nFinally the compilation of php end with "Thank you for using PHP."\r\n</pre>\r\n<p>&nbsp;</p>', 'CentOS 5.5下编译php时的一些典型错误及解决办法.', '', 'publish', 'open', '2012-12-21 15:48:07', 0, 'http://xpmyblog.sinaapp.com/?p=335', 0, 'post', '', 0),
(336, 1, '2012-09-28 00:08:15', '', 'CentOS 5.5下编译php时的一些典型错误及解决办法.', '', 'inherit', 'open', '2012-09-28 00:08:15', 335, 'http://xpmyblog.sinaapp.com/?p=336', 0, 'revision', '', 0),
(337, 1, '2012-09-28 18:12:52', 'zclip\r\n<pre class="brush: js;">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>zclip test</title>\r\n<meta name="generator" content="editplus" />\r\n<meta name="author" content="" />\r\n<meta name="keywords" content="" />\r\n<meta name="description" content="" />\r\n<style type="text/css">\r\na{ color:#000; text-decoration:none;}\r\na:hover{ color:blue;}\r\n</style>\r\n<script type="text/javascript" src="jquery-1.4.min.js"></script>\r\n<script type="text/javascript" src="jquery.zclip.js"></script>\r\n<script type="text/javascript">\r\n$(document).ready(function(){\r\n    $("#copy-button").zclip({\r\n		path: "ZeroClipboard.swf",\r\n		copy: function(){\r\n			return $("#text-to-copy").val();\r\n		},\r\n		beforeCopy:function(){\r\n            $(''.try'').css(''background'',''yellow'');\r\n            $(''#text-to-copy'').css(''color'',''orange'');\r\n        },\r\n        afterCopy:function(){\r\n            $(''.try'').css(''background'',''green'');\r\n            $(''#text-to-copy'').css(''color'',''purple'');\r\n        }\r\n	});\r\n});\r\n</script>\r\n</head>\r\n\r\n<body>\r\n<div class="try">\r\n<textarea id="text-to-copy" onfocus="if(this.value==''Type your text here.'')this.value='''';" onblur="if(this.value=='''')this.value=''Type your text here.'';">Type your text here.</textarea>\r\n<a id="copy-button" href="#">Copy</a>\r\n</div>\r\n</body>\r\n</html>\r\n</pre>\r\n下载地址：<a href="http://www.steamdev.com/zclip/archive/jquery.zclip.1.1.1.zip">jquery.zclip.1.1.1.zip ~8KB</a>', '兼容任何浏览器的复制', '', 'publish', 'open', '2012-12-21 16:24:44', 0, 'http://xpmyblog.sinaapp.com/?p=337', 0, 'post', '', 0),
(338, 1, '2012-09-28 18:12:07', 'zclip\n<pre>\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n<title>zclip test</title>\n<meta name="generator" content="editplus" />\n<meta name="author" content="" />\n<meta name="keywords" content="" />\n<meta name="description" content="" />\n<style type="text/css">\na{ color:#000; text-decoration:none;}\na:hover{ color:blue;}\n</style>\n<script type="text/javascript" src="jquery-1.4.min.js"></script>\n<script type="text/javascript" src="jquery.zclip.js"></script>\n<script type="text/javascript">\n$(document).ready(function(){\n    $("#copy-button").zclip({\n		path: "ZeroClipboard.swf",\n		copy: function(){\n			return $("#text-to-copy").val();\n		},\n		beforeCopy:function(){\n            $(''.try'').css(''background'',''yellow'');\n            $(''#text-to-copy'').css(''color'',''orange'');\n        },\n        afterCopy:function(){\n            $(''.try'').css(''background'',''green'');\n            $(''#text-to-copy'').css(''color'',''purple'');\n        }\n	});\n});\n</script>\n</head>\n\n<body>\n<div class="try">\n<textarea id="text-to-copy" onfocus="if(this.value==''Type your text here.'')this.value='''';" onblur="if(this.value=='''')this.value=''Type your text here.'';">Type your text here.</textarea>\n<a id="copy-button" href="#">Copy</a>\n</div>\n</body>\n</html>\n</pre>\n', '兼容任何浏览器的复制', '', 'inherit', 'open', '2012-09-28 18:12:07', 337, 'http://xpmyblog.sinaapp.com/?p=338', 0, 'revision', '', 0),
(340, 1, '2012-06-20 11:00:17', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，业余时间学习IOS，目标成为PHP+IOS工程师，我的微博：<a href="http://weibo.com/xpmozong" target="_blank">寞踪</a>\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. css+html\r\n3. linux+lnmp\r\n4. ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-06-20 11:00:17', 261, 'http://xpmyblog.sinaapp.com/?p=340', 0, 'revision', '', 0),
(341, 1, '2012-10-17 13:58:44', 'apache默认列出目录文件的样式其丑无比\r\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\r\n注意：这个目录文件的子文件下，不要有.php 、 .htm、.html文件，否则将展示的不是目录！\r\n下载文件\r\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\r\n\r\n把文件解压到host根目录下，\r\nhost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\r\n\r\n其它apache环境配置参考\r\n开启 ssi、htaccess 支持\r\n\r\n配置httpd.conf\r\n搜索“AddType text/html .shtml”\r\n找到： \r\n# AddType text/html .shtml \r\n# AddOutputFilter INCLUDES .shtml \r\n去掉#\r\nAddType text/html .shtml \r\nAddOutputFilter INCLUDES .shtml \r\n\r\n搜索“Options”\r\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\r\nAllowOverride All\r\nOrder allow,deny\r\nallow from all\r\n\r\n\r\n\r\nOK，重启服务器，完成！', 'apache修改htaccess下载列表样式美化', '', 'publish', 'open', '2012-12-21 16:21:52', 0, 'http://xpmyblog.sinaapp.com/?p=341', 0, 'post', '', 0),
(342, 1, '2012-10-17 13:58:00', 'apache默认列出目录文件的样式其丑无比\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\n下载文件\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\n\n把文件解压到host根目录下，\nhost\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\n\n配置httpd.conf\n搜索“AddType text/html .shtml”\n找到： \n# AddType text/html .shtml \n# AddOutputFilter INCLUDES .shtml \n去掉#\nAddType text/html .shtml \nAddOutputFilter INCLUDES .shtml \n\n搜索“Options”\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\nAllowOverride All\nOrder allow,deny\nallow from all\n', 'apache修改htaccess下载列表样式美化', '', 'inherit', 'open', '2012-10-17 13:58:00', 341, 'http://xpmyblog.sinaapp.com/?p=342', 0, 'revision', '', 0),
(343, 1, '2012-10-17 14:01:05', '', 'host', '', 'inherit', 'open', '2012-10-17 14:01:05', 341, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/10/host.jpg', 0, 'attachment', 'image/jpeg', 0),
(344, 1, '2012-10-17 13:58:44', 'apache默认列出目录文件的样式其丑无比\r\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\r\n下载文件\r\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\r\n\r\n把文件解压到host根目录下，\r\nhost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\r\n\r\n其它apache环境配置参考\r\n开启 ssi、htaccess 支持\r\n\r\n配置httpd.conf\r\n搜索“AddType text/html .shtml”\r\n找到： \r\n# AddType text/html .shtml \r\n# AddOutputFilter INCLUDES .shtml \r\n去掉#\r\nAddType text/html .shtml \r\nAddOutputFilter INCLUDES .shtml \r\n\r\n搜索“Options”\r\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\r\nAllowOverride All\r\nOrder allow,deny\r\nallow from all\r\n\r\n\r\n\r\nOK，重启服务器，完成！', 'apache修改htaccess下载列表样式美化', '', 'inherit', 'open', '2012-10-17 13:58:44', 341, '', 0, 'revision', '', 0),
(345, 1, '2012-10-17 14:09:32', 'apache默认列出目录文件的样式其丑无比\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\n注意：这个目录文件的子文件下，zui\n下载文件\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\n\n把文件解压到host根目录下，\nhost\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\n\n其它apache环境配置参考\n开启 ssi、htaccess 支持\n\n配置httpd.conf\n搜索“AddType text/html .shtml”\n找到： \n# AddType text/html .shtml \n# AddOutputFilter INCLUDES .shtml \n去掉#\nAddType text/html .shtml \nAddOutputFilter INCLUDES .shtml \n\n搜索“Options”\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\nAllowOverride All\nOrder allow,deny\nallow from all\n\n\n\nOK，重启服务器，完成！', 'apache修改htaccess下载列表样式美化', '', 'inherit', 'open', '2012-10-17 14:09:32', 341, 'http://xpmyblog.sinaapp.com/?p=345', 0, 'revision', '', 0),
(346, 1, '2012-10-17 13:58:44', 'apache默认列出目录文件的样式其丑无比\r\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\r\n下载文件\r\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\r\n\r\n把文件解压到host根目录下，\r\nhost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\r\n\r\n其它apache环境配置参考\r\n开启 ssi、htaccess 支持\r\n\r\n配置httpd.conf\r\n搜索“AddType text/html .shtml”\r\n找到： \r\n# AddType text/html .shtml \r\n# AddOutputFilter INCLUDES .shtml \r\n去掉#\r\nAddType text/html .shtml \r\nAddOutputFilter INCLUDES .shtml \r\n\r\n搜索“Options”\r\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\r\nAllowOverride All\r\nOrder allow,deny\r\nallow from all\r\n\r\n\r\n\r\nOK，重启服务器，完成！', 'apache修改htaccess下载列表样式美化', '', 'inherit', 'open', '2012-10-17 13:58:44', 341, 'http://xpmyblog.sinaapp.com/?p=346', 0, 'revision', '', 0),
(348, 1, '2012-10-18 15:11:15', '[root@localhost ~]# uname -a\r\nLinux localhost.localdomain 2.6.18-238.el5 #1 SMP Thu Jan 13 15:51:15 EST 2011 x86_64 x86_64 x86_64 GNU/Linux\r\n[root@localhost ~]# getconf WORD_BIT\r\n32\r\n[root@localhost ~]# echo $HOSTTYPE\r\nx86_64', 'centos下查看自己的系统是多少位的', '', 'publish', 'open', '2012-12-21 16:21:45', 0, 'http://xpmyblog.sinaapp.com/?p=348', 0, 'post', '', 0),
(349, 1, '2012-10-18 15:10:46', '[root@localhost ~]# uname -a\nLinux localhost.localdomain 2.6.18-238.el5 #1 SMP Thu Jan 13 15:51:15 EST 2011 x86_64 x86_64 x86_64 GNU/Linux\n[root@localhost ~]# getconf WORD_BIT\n32\n[root@localhost ~]# echo $HOSTTYPE\ni686', 'centos下查看自己的系统是多少位的', '', 'inherit', 'open', '2012-10-18 15:10:46', 348, 'http://xpmyblog.sinaapp.com/?p=349', 0, 'revision', '', 0),
(350, 1, '2012-10-18 17:42:35', '<pre class="brush: php;">\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n\r\n</pre>', 'yii获取当前url和域名', '', 'publish', 'open', '2012-12-21 16:19:16', 0, 'http://xpmyblog.sinaapp.com/?p=350', 0, 'post', '', 0),
(351, 1, '2012-10-18 17:42:22', '<pre la>\n<?php\n//当前域名\n\necho Yii::app()->request->hostInfo;\n\n//除域名外的URL\n\necho Yii::app()->request->getUrl();\n\n//除域名外的首页地址\n\necho Yii::app()->user->returnUrl;\n\n//除域名外的根目录地址\necho Yii::app()->homeUrl;\n\necho Yii::app()->request->baseUrl;\n?>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-10-18 17:42:22', 350, 'http://xpmyblog.sinaapp.com/?p=351', 0, 'revision', '', 0),
(352, 1, '2012-10-18 17:42:35', '<pre lang="php">\r\n<?php\r\n//当前域名\r\n\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\n\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\n\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n?>\r\n\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-10-18 17:42:35', 350, 'http://xpmyblog.sinaapp.com/?p=352', 0, 'revision', '', 0),
(355, 1, '2011-09-26 17:15:16', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\r\n\r\nAdd an Expires or a Cache-Control Header：\r\n\r\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\r\n再简单点说：就是在.htaccess文件中写入以下内容：\r\n\r\n<pre lang="php">\r\n<IfModule mod_expires.c>\r\nExpiresActive On\r\nExpiresDefault A600\r\nExpiresByType image/x-icon A2592000\r\nExpiresByType application/x-javascript A2592000\r\nExpiresByType text/css A604800\r\nExpiresByType image/gif A2592000\r\nExpiresByType image/png A2592000\r\nExpiresByType image/jpeg A2592000\r\nExpiresByType text/plain A86400\r\nExpiresByType application/x-shockwave-flash A2592000\r\nExpiresByType video/x-flv A2592000\r\nExpiresByType application/pdf A2592000\r\nExpiresByType text/html A600\r\n</IfModule> \r\n</pre>\r\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\r\n更多选项请参考apache手册吧。\r\n\r\n\r\n\r\n文章来源：合肥网产品中心  <a href="http://lab.wehefei.com/posts/405">http://lab.wehefei.com/posts/405</a>\r\n', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'inherit', 'open', '2011-09-26 17:15:16', 119, 'http://xpmyblog.sinaapp.com/?p=355', 0, 'revision', '', 0),
(356, 1, '2012-01-10 12:25:25', '同事的wamp打不开，所以帮忙检查下。\r\n先进入cmd.exe，\r\n输入 netstat -ano|findstr 80\r\n会看到 \r\nTCP 0.0.0.0:80 0.0.0.0 LISTENING 6952\r\n......\r\n\r\n然后再输入\r\ntasklist|findstr "6952" \r\n看一下哪个进程占用了它。我是从服务里查到的。OK，问题解决！', 'win7下查看被占用端口', '', 'inherit', 'open', '2012-01-10 12:25:25', 202, 'http://xpmyblog.sinaapp.com/?p=356', 0, 'revision', '', 0),
(357, 1, '2012-03-16 10:19:22', '一般Apache下，我们一般用openssl组件为网站生成证书，方法如下\r\n一，安装环境配置\r\n先检查是否已安装openssl,mod_ssl\r\n<pre>\r\nrpm -qa | grep openssl\r\nrpm -qa | grep mod_ssl\r\n</pre>\r\n安装组件\r\n<pre>\r\nyum install mod_ssl\r\nyum install openssl\r\n</pre>\r\n\r\n二、配置密钥\r\n步骤1：生成密钥\r\n命令：openssl genrsa 1024 > server.key\r\n说明：这是用128位rsa算法生成密钥，得到server.key文件\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -new -key server.key > server.csr\r\n说明：这是用步骤1的密钥生成证书请求文件server.csr, 这一步提很多问题，一一输入\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -x509 -days 365 -key server.key -in server.csr > server.crt\r\n说明：这是用步骤1,2的的密钥和证书请求生成证书server.crt，-days参数指明证书有效期，单位为天\r\n\r\nhttpd.conf配置文件中有\r\n<pre>\r\nInclude conf.d/*.conf\r\n</pre>\r\n那么在conf.d文件夹下会看到ssl.conf类似的文件。\r\n\r\n修改这三个参数\r\n<pre>\r\nSSLCertificateFile path/ server.crt\r\nSSLCertificateKeyFile path/ server.key\r\nSSLCACertificateFile path/ ca.crt\r\n</pre>\r\n\r\n三、启动ssl服务\r\n*/apachectl startssl\r\n会要求输入server.key的密码\r\n或者重启apache\r\n\r\n', 'redhat/cenos下apache安装https证书环境', '', 'inherit', 'open', '2012-03-16 10:19:22', 220, 'http://xpmyblog.sinaapp.com/?p=357', 0, 'revision', '', 0),
(358, 1, '2012-10-17 14:10:22', 'apache默认列出目录文件的样式其丑无比\r\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\r\n注意：这个目录文件的子文件下，不要有.php 、 .htm、.html文件，否则将展示的不是目录！\r\n下载文件\r\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\r\n\r\n把文件解压到host根目录下，\r\nhost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\r\n\r\n其它apache环境配置参考\r\n开启 ssi、htaccess 支持\r\n\r\n配置httpd.conf\r\n搜索“AddType text/html .shtml”\r\n找到： \r\n# AddType text/html .shtml \r\n# AddOutputFilter INCLUDES .shtml \r\n去掉#\r\nAddType text/html .shtml \r\nAddOutputFilter INCLUDES .shtml \r\n\r\n搜索“Options”\r\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\r\nAllowOverride All\r\nOrder allow,deny\r\nallow from all\r\n\r\n\r\n\r\nOK，重启服务器，完成！', 'apache修改htaccess下载列表样式美化', '', 'inherit', 'open', '2012-10-17 14:10:22', 341, 'http://xpmyblog.sinaapp.com/?p=358', 0, 'revision', '', 0),
(359, 1, '2012-09-28 18:12:52', 'zclip\r\n<pre>\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>zclip test</title>\r\n<meta name="generator" content="editplus" />\r\n<meta name="author" content="" />\r\n<meta name="keywords" content="" />\r\n<meta name="description" content="" />\r\n<style type="text/css">\r\na{ color:#000; text-decoration:none;}\r\na:hover{ color:blue;}\r\n</style>\r\n<script type="text/javascript" src="jquery-1.4.min.js"></script>\r\n<script type="text/javascript" src="jquery.zclip.js"></script>\r\n<script type="text/javascript">\r\n$(document).ready(function(){\r\n    $("#copy-button").zclip({\r\n		path: "ZeroClipboard.swf",\r\n		copy: function(){\r\n			return $("#text-to-copy").val();\r\n		},\r\n		beforeCopy:function(){\r\n            $(''.try'').css(''background'',''yellow'');\r\n            $(''#text-to-copy'').css(''color'',''orange'');\r\n        },\r\n        afterCopy:function(){\r\n            $(''.try'').css(''background'',''green'');\r\n            $(''#text-to-copy'').css(''color'',''purple'');\r\n        }\r\n	});\r\n});\r\n</script>\r\n</head>\r\n\r\n<body>\r\n<div class="try">\r\n<textarea id="text-to-copy" onfocus="if(this.value==''Type your text here.'')this.value='''';" onblur="if(this.value=='''')this.value=''Type your text here.'';">Type your text here.</textarea>\r\n<a id="copy-button" href="#">Copy</a>\r\n</div>\r\n</body>\r\n</html>\r\n</pre>\r\n下载地址：<a href="http://www.steamdev.com/zclip/archive/jquery.zclip.1.1.1.zip">jquery.zclip.1.1.1.zip ~8KB</a>', '兼容任何浏览器的复制', '', 'inherit', 'open', '2012-09-28 18:12:52', 337, 'http://xpmyblog.sinaapp.com/?p=359', 0, 'revision', '', 0),
(360, 1, '2012-09-06 21:29:56', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="javascript">function js_unescape($str)\r\n{\r\n    $ret = '''';\r\n    $len = strlen($str);\r\n    for ($i = 0; $i < $len; $i++) {\r\n        if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n            $val = hexdec(substr($str, $i+2, 4));\r\n            if ($val < 0x7f) $ret .= chr($val);\r\n            else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n            else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n            $i += 5;\r\n        }else if ($str[$i] == ''%''){\r\n            $ret .= urldecode(substr($str, $i, 3));\r\n            $i += 2;\r\n	}else{\r\n            $ret .= $str[$i];\r\n	}\r\n}\r\n    return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-09-06 21:29:56', 248, 'http://xpmyblog.sinaapp.com/?p=360', 0, 'revision', '', 0),
(361, 1, '2012-04-06 16:02:38', '1.丢弃小数部分,保留整数部分 \r\nparseInt(5/2) \r\n\r\n2.向上取整,有小数就整数部分加1 \r\n\r\nMath.ceil(5/2) \r\n\r\n3,四舍五入. \r\n\r\nMath.round(5/2) \r\n\r\n4,向下取整 \r\n\r\nMath.floor(5/2) \r\n\r\n\r\nMath 对象的方法 \r\n\r\nFF: Firefox, N: Netscape, IE: Internet Explorer \r\n方法 描述 FF N IE \r\nabs(x) 返回数的绝对值 1 2 3 \r\nacos(x) 返回数的反余弦值 1 2 3 \r\nasin(x) 返回数的反正弦值 1 2 3 \r\natan(x) 以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值 1 2 3 \r\natan2(y,x) 返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间） 1 2 3 \r\nceil(x) 对一个数进行上舍入。 1 2 3 \r\ncos(x) 返回数的余弦 1 2 3 \r\nexp(x) 返回 e 的指数。 1 2 3 \r\nfloor(x) 对一个数进行下舍入。 1 2 3 \r\nlog(x) 返回数的自然对数（底为e） 1 2 3 \r\nmax(x,y) 返回 x 和 y 中的最高值 1 2 3 \r\nmin(x,y) 返回 x 和 y 中的最低值 1 2 3 \r\npow(x,y) 返回 x 的 y 次幂 1 2 3 \r\nrandom() 返回 0 ~ 1 之间的随机数 1 2 3 \r\nround(x) 把一个数四舍五入为最接近的整数 1 2 3 \r\nsin(x) 返回数的正弦 1 2 3 \r\nsqrt(x) 返回数的平方根 1 2 3 \r\ntan(x) 返回一个角的正切 1 2 3 \r\ntoSource() 代表对象的源代码 1 4 - \r\nvalueOf() 返回一个 Math 对象的原始值', 'js Math 中数学函数用法 取整出 向上取整 向下取整', '', 'inherit', 'open', '2012-04-06 16:02:38', 242, 'http://xpmyblog.sinaapp.com/?p=361', 0, 'revision', '', 0),
(362, 1, '2012-09-06 21:53:46', '//Post方式提交表单  \r\n<pre lang="javascript">\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-09-06 21:53:46', 224, 'http://xpmyblog.sinaapp.com/?p=362', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(363, 1, '2012-09-06 21:55:24', '<pre lang="javascript">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nvar rand = function(num){\r\n	return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nvar randomcolor = function(){\r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;\r\n}\r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'inherit', 'open', '2012-09-06 21:55:24', 163, 'http://xpmyblog.sinaapp.com/?p=363', 0, 'revision', '', 0),
(364, 1, '2011-10-20 12:09:53', '<pre lang="php">\r\n<object id="MediaPlayer" width="320" height="240" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"\r\ncodebase= "http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"\r\nstandby="Loading Microsoft? Windows Media? Player components..." type="application/x-oleobject" >\r\n<param name="AudioStream" value="-1">\r\n<param name="URL" value="11111111.wmv">\r\n<param name="UIMode" value="full">\r\n<param name="AutoStart" value="true">\r\n<param name="Enabled" value="true">\r\n<param name="enableContextMenu" value="true">\r\n</object>\r\n</pre>', '在网页上播放wmv视频格式的代码', '', 'inherit', 'open', '2011-10-20 12:09:53', 152, 'http://xpmyblog.sinaapp.com/?p=364', 0, 'revision', '', 0),
(365, 1, '2011-09-23 15:42:20', 'Google JavaScript Style Guide\r\nhttp://google-styleguide.mangguo.org/javascriptguide.xml\r\n\r\nGoogle JSON Style Guide\r\nhttp://google-styleguide.mangguo.org/jsoncstyleguide.xml\r\n\r\nGoogle XML Document Format Style Guide\r\nhttp://google-styleguide.mangguo.org/xmlstyle.html\r\n\r\nGoogle Python Style Guide\r\nhttp://google-styleguide.mangguo.org/pyguide.html\r\n\r\nGoogle Objective-C Style Guide\r\nhttp://google-styleguide.mangguo.org/objcguide.xml\r\n\r\nGoogle C++ Style Guide\r\nhttp://google-styleguide.mangguo.org/cppguide.xml', '来自 Google 的编程风格指南 ', '', 'inherit', 'open', '2011-09-23 15:42:20', 100, 'http://xpmyblog.sinaapp.com/?p=365', 0, 'revision', '', 0),
(366, 1, '2011-09-05 16:41:44', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n\r\n\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2011-09-05 16:41:44', 63, 'http://xpmyblog.sinaapp.com/?p=366', 0, 'revision', '', 0),
(367, 1, '2012-11-01 11:26:21', 'zclip\r\n<pre>\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>zclip test</title>\r\n<meta name="generator" content="editplus" />\r\n<meta name="author" content="" />\r\n<meta name="keywords" content="" />\r\n<meta name="description" content="" />\r\n<style type="text/css">\r\na{ color:#000; text-decoration:none;}\r\na:hover{ color:blue;}\r\n</style>\r\n<script type="text/javascript" src="jquery-1.4.min.js"></script>\r\n<script type="text/javascript" src="jquery.zclip.js"></script>\r\n<script type="text/javascript">\r\n$(document).ready(function(){\r\n    $("#copy-button").zclip({\r\n		path: "ZeroClipboard.swf",\r\n		copy: function(){\r\n			return $("#text-to-copy").val();\r\n		},\r\n		beforeCopy:function(){\r\n            $(''.try'').css(''background'',''yellow'');\r\n            $(''#text-to-copy'').css(''color'',''orange'');\r\n        },\r\n        afterCopy:function(){\r\n            $(''.try'').css(''background'',''green'');\r\n            $(''#text-to-copy'').css(''color'',''purple'');\r\n        }\r\n	});\r\n});\r\n</script>\r\n</head>\r\n\r\n<body>\r\n<div class="try">\r\n<textarea id="text-to-copy" onfocus="if(this.value==''Type your text here.'')this.value='''';" onblur="if(this.value=='''')this.value=''Type your text here.'';">Type your text here.</textarea>\r\n<a id="copy-button" href="#">Copy</a>\r\n</div>\r\n</body>\r\n</html>\r\n</pre>\r\n下载地址：<a href="http://www.steamdev.com/zclip/archive/jquery.zclip.1.1.1.zip">jquery.zclip.1.1.1.zip ~8KB</a>', '兼容任何浏览器的复制', '', 'inherit', 'open', '2012-11-01 11:26:21', 337, 'http://xpmyblog.sinaapp.com/?p=367', 0, 'revision', '', 0),
(368, 1, '2012-11-01 11:26:21', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="javascript">function js_unescape($str)\r\n{\r\n    $ret = '''';\r\n    $len = strlen($str);\r\n    for ($i = 0; $i < $len; $i++) {\r\n        if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n            $val = hexdec(substr($str, $i+2, 4));\r\n            if ($val < 0x7f) $ret .= chr($val);\r\n            else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n            else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n            $i += 5;\r\n        }else if ($str[$i] == ''%''){\r\n            $ret .= urldecode(substr($str, $i, 3));\r\n            $i += 2;\r\n	}else{\r\n            $ret .= $str[$i];\r\n	}\r\n}\r\n    return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-11-01 11:26:21', 248, 'http://xpmyblog.sinaapp.com/?p=368', 0, 'revision', '', 0),
(369, 1, '2012-11-01 11:26:21', '1.丢弃小数部分,保留整数部分 \r\nparseInt(5/2) \r\n\r\n2.向上取整,有小数就整数部分加1 \r\n\r\nMath.ceil(5/2) \r\n\r\n3,四舍五入. \r\n\r\nMath.round(5/2) \r\n\r\n4,向下取整 \r\n\r\nMath.floor(5/2) \r\n\r\n\r\nMath 对象的方法 \r\n\r\nFF: Firefox, N: Netscape, IE: Internet Explorer \r\n方法 描述 FF N IE \r\nabs(x) 返回数的绝对值 1 2 3 \r\nacos(x) 返回数的反余弦值 1 2 3 \r\nasin(x) 返回数的反正弦值 1 2 3 \r\natan(x) 以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值 1 2 3 \r\natan2(y,x) 返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间） 1 2 3 \r\nceil(x) 对一个数进行上舍入。 1 2 3 \r\ncos(x) 返回数的余弦 1 2 3 \r\nexp(x) 返回 e 的指数。 1 2 3 \r\nfloor(x) 对一个数进行下舍入。 1 2 3 \r\nlog(x) 返回数的自然对数（底为e） 1 2 3 \r\nmax(x,y) 返回 x 和 y 中的最高值 1 2 3 \r\nmin(x,y) 返回 x 和 y 中的最低值 1 2 3 \r\npow(x,y) 返回 x 的 y 次幂 1 2 3 \r\nrandom() 返回 0 ~ 1 之间的随机数 1 2 3 \r\nround(x) 把一个数四舍五入为最接近的整数 1 2 3 \r\nsin(x) 返回数的正弦 1 2 3 \r\nsqrt(x) 返回数的平方根 1 2 3 \r\ntan(x) 返回一个角的正切 1 2 3 \r\ntoSource() 代表对象的源代码 1 4 - \r\nvalueOf() 返回一个 Math 对象的原始值', 'js Math 中数学函数用法 取整出 向上取整 向下取整', '', 'inherit', 'open', '2012-11-01 11:26:21', 242, '', 0, 'revision', '', 0),
(370, 1, '2012-11-01 11:26:21', '//Post方式提交表单  \r\n<pre lang="javascript">\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-11-01 11:26:21', 224, 'http://xpmyblog.sinaapp.com/?p=370', 0, 'revision', '', 0),
(371, 1, '2012-11-01 11:26:21', '<pre lang="javascript">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nvar rand = function(num){\r\n	return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nvar randomcolor = function(){\r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;\r\n}\r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'inherit', 'open', '2012-11-01 11:26:21', 163, 'http://xpmyblog.sinaapp.com/?p=371', 0, 'revision', '', 0),
(372, 1, '2012-11-01 11:26:22', '<pre lang="php">\r\n<object id="MediaPlayer" width="320" height="240" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"\r\ncodebase= "http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"\r\nstandby="Loading Microsoft? Windows Media? Player components..." type="application/x-oleobject" >\r\n<param name="AudioStream" value="-1">\r\n<param name="URL" value="11111111.wmv">\r\n<param name="UIMode" value="full">\r\n<param name="AutoStart" value="true">\r\n<param name="Enabled" value="true">\r\n<param name="enableContextMenu" value="true">\r\n</object>\r\n</pre>', '在网页上播放wmv视频格式的代码', '', 'inherit', 'open', '2012-11-01 11:26:22', 152, 'http://xpmyblog.sinaapp.com/?p=372', 0, 'revision', '', 0),
(373, 1, '2012-11-01 11:26:22', 'Google JavaScript Style Guide\r\nhttp://google-styleguide.mangguo.org/javascriptguide.xml\r\n\r\nGoogle JSON Style Guide\r\nhttp://google-styleguide.mangguo.org/jsoncstyleguide.xml\r\n\r\nGoogle XML Document Format Style Guide\r\nhttp://google-styleguide.mangguo.org/xmlstyle.html\r\n\r\nGoogle Python Style Guide\r\nhttp://google-styleguide.mangguo.org/pyguide.html\r\n\r\nGoogle Objective-C Style Guide\r\nhttp://google-styleguide.mangguo.org/objcguide.xml\r\n\r\nGoogle C++ Style Guide\r\nhttp://google-styleguide.mangguo.org/cppguide.xml', '来自 Google 的编程风格指南 ', '', 'inherit', 'open', '2012-11-01 11:26:22', 100, 'http://xpmyblog.sinaapp.com/?p=373', 0, 'revision', '', 0),
(374, 1, '2012-11-01 11:26:22', '大家都知道，ecshop是不能用jQuery的，所以百度、谷歌一下，上面的解决办法都太麻烦了。\r\n现在看下面的解决办法吧。。。\r\n在头部page_header.lbi文件中的\r\n{insert_scripts files=''transport.js,utils.js''}\r\n这句话下面添加\r\n{insert_scripts files=''jquery.js''}\r\n\r\n\r\nvar jQuery = $;\r\n$(function(){\r\n	alert("aaaa");\r\n})\r\n\r\n注意，javascript也是从上到下执行的，这是常识。\r\n哈哈哈哈，这就能用jquery了吧。。。', '如何在ecshop中使用jQuery', '', 'inherit', 'open', '2012-11-01 11:26:22', 63, 'http://xpmyblog.sinaapp.com/?p=374', 0, 'revision', '', 0),
(375, 1, '2011-10-06 21:19:36', '身为PHPer，C/C++是必学的语言。所以，孩子，努力学吧。\r\n\r\n1.单击“开始”，指向“所有程序”、“Microsoft Visual Studio 2010”和“Visual Studio 工具”，然后单击“Visual Studio 2010 命令提示”。\r\n根据计算机上的 Windows 版本和系统安全配置，可能必须右击“Visual Studio 2008 命令提示”，然后单击“以管理员身份运行”，才能成功运行按下列步骤创建的应用程序。\r\n\r\n2.在命令提示符下，键入 notepad simple.c，并按 Enter。\r\n在系统提示是否创建文件时，单击“是”。\r\n\r\n3.在记事本中，键入下列各行。\r\n<pre lang="php">\r\n#include <stdio.h>\r\nint main()\r\n{\r\n    printf("This is a native C program.\\n");\r\n    return 0;\r\n}\r\n</pre>\r\n\r\n4.在“文件”菜单上，单击“保存”，以创建 C 源文件。\r\n5.关闭记事本。\r\n6.在命令提示符下，键入 cl simple.c，并按 Enter。\r\ncl.exe 编译器将生成一个可执行程序 Simple.exe。\r\n您可以在编译器显示的多行输出信息中看到可执行程序的名称。\r\n<pre>\r\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 16.00 for 80x86\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\nsimple.c\r\nMicrosoft (R) Incremental Linker Version 10.00\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n/out:simple.exe\r\nsimple.obj\r\n\r\n</pre>\r\n\r\n7.若要查看 \\simple\\ 目录中的所有文件的列表，请键入 dir simple.* 并按 Enter。\r\n\r\n.obj 文件是一个中间格式文件，可以安全地忽略它。\r\n\r\n8.若要运行 Simple.exe，请键入 simple 并按 Enter。\r\n\r\n该程序显示以下文本并退出：\r\n\r\nThis is a native C program.\r\n\r\n9.若要关闭命令提示符窗口，请键入 exit 并按 Enter。\r\n\r\n\r\n\r\n\r\n', '用Visual Studio 2010 命令提示 运行C程序', '', 'inherit', 'open', '2011-10-06 21:19:36', 146, 'http://xpmyblog.sinaapp.com/?p=375', 0, 'revision', '', 0),
(376, 1, '2011-08-13 15:44:50', '    在Java语言中， abstract class 和interface 是支持抽象类定义的两种机制。正是由于这两种机制的存在，才赋予了Java强大的 面向对象能力。abstract class和interface之间在对于抽象类定义的支持方面具有很大的相似性，甚至可以相互替换，因此很多开发者在进 行抽象类定义时对于abstract class和interface的选择显得比较随意。其实，两者之间还是有很大的区别的，对于它们的选择甚至反映出对 于问题领域本质的理解、对于设计意图的理解是否正确、合理。本文将对它们之间的区别进行一番剖析，试图给开发者提供一个在二者之间进行选择的依据。\r\n\r\n　　理解抽象类\r\n\r\n　　abstract class和interface在Java语言中都是用来进行抽象类（本文 中的抽象类并非从abstract class翻译而来，它表示的是一个抽象体，而abstract class为Java语言中用于定义抽象类的一种方法， 请读者注意区分）定义的，那么什么是抽象类，使用抽象类能为我们带来什么好处呢？\r\n\r\n　　在 面向对象的概念中，我们知道所有的对象都是通过类来描绘的，但是反过来却不是这样。并不是 所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。抽象类往往用来表征我们在对问题领域进行分析、 设计中得出的抽象概念，是对一系列看上去不同，但是本质上相同的具体概念的抽象。比如：如果我们进行一个图形编辑软件的开发，就会发现问题领域存在着圆、 三角形这样一些具体概念，它们是不同的，但是它们又都属于形状这样一个概念，形状这个概念在问题领域是不存在的，它就是一个抽象概念。正是因为抽象的概念 在问题领域没有对应的具体概念，所以用以表征抽象概念的抽象类是不能够实例化的。\r\n\r\n　　在面向对象领域，抽象类主要用来进行类型隐藏。 我们可以构造出一个固定的一组行为的抽象描 述，但是这组行为却能够有任意个可能的具体实现方式。这个抽象描述就是抽象类，而这一组任意个可能的具体实现则表现为所有可能的派生类。模块可以操作一个 抽象体。由于模块依赖于一个固定的抽象体，因此它可以是不允许修改的；同时，通过从这个抽象体派生，也可扩展此模块的行为功能。熟悉OCP的读者一定知 道，为了能够实现面向对象设计的一个最核心的原则OCP(Open-Closed Principle)，抽象类是其中的关键所在。\r\n\r\n　　从语法定义层面看abstract class 和 interface\r\n\r\n　　在语法层面，Java语言对于abstract class和interface给出了不同的定义方式，下面以定义一个名为Demo的抽象类为例来说明这种不同。\r\n\r\n　　使用abstract class的方式定义Demo抽象类的方式如下：\r\n\r\nabstract class Demo｛   \r\nabstract void method1();   \r\nabstract void method2();   \r\n…   \r\n｝   \r\n \r\n\r\n    使用interface的方式定义Demo抽象类的方式如下：\r\n\r\n\r\ninterface Demo{   \r\nvoid method1();   \r\nvoid method2();   \r\n…   \r\n}   \r\n \r\n\r\n    在abstract class方式中，Demo可以有自己的数据成员，也可以有非 abstract的成员方法，而在interface方式的实现中，Demo只能够有静态的不能被修改的数据成员（也就是必须是static final 的，不过在interface中一般不定义数据成员），所有的成员方法都是abstract的。从某种意义上说，interface是一种特殊形式的 abstract class。\r\n\r\n　　从编程的角度来看，abstract class和interface都可以用来实现 "design by contract" 的思想。但是在具体的使用上面还是有一些区别的。\r\n\r\n　　首先，abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系(因为Java不支持多继承 -- 转注)。但是，一个类却可以实现多个interface。也许，这是Java语言的设计者在考虑Java对于多重继承的支持方面的一种折中考虑吧。\r\n\r\n　　其次，在abstract class的定义中，我们可以赋予方法的默认行为。但是在interface的定义中，方法却不能拥有默认行为，为了绕过这个限制，必须使用委托，但是这会增加一些复杂性，有时会造成很大的麻烦。\r\n\r\n　　在 抽象类中不能定义默认行为还存在另一个比较严重的问题，那就是可能会造成维护上的麻烦。因 为如果后来想修改类的界面（一般通过 abstract class 或者interface来表示）以适应新的情况（比如，添加新的方法或者给已用的方法中添 加新的参数）时，就会非常的麻烦，可能要花费很多的时间（对于派生类很多的情况，尤为如此）。但是如果界面是通过abstract class来实现的，那 么可能就只需要修改定义在abstract class中的默认行为就可以了。\r\n\r\n　　同样，如果不能在抽象类中定义默认行为，就会导致同样的方法实现出现在该抽象类的每一个派生类中，违反了 "one rule，one place" 原则，造成代码重复，同样不利于以后的维护。因此，在abstract class和interface间进行选择时要非常的小心。\r\n\r\n　　从设计理念层面看 abstract class 和 interface\r\n\r\n　　上面主要从语法定义和编程的角度论述了abstract class和interface的区 别，这些层面的区别是比较低层次的、非本质的。本小节将从另一个层面：abstract class和interface所反映出的设计理念，来分析一下二者的区别。作者认为，从这个层面进行分析才能理解二者概念的本质所在。\r\n\r\n　　前面已经提到过，abstract class在Java语言中体现了一种继承关系，要想使得继承关系合理，父类和派生类之间必须存在"is-a"关系，即父类和派生类在概念本质上应该是相同的。对于interface来说则不然，并不要求interface的实现者和interface定义在概念本质上是一致的， 仅仅是实现了interface定义的契约而已。为了使论述便于理解，下面将通过一个简单的实例进行说明。\r\n\r\n　　考虑这样一个例子，假设在我们的问题领域中有一个关于Door的抽象概念，该Door具有执行两个动作open和close，此时我们可以通过abstract class或者interface来定义一个表示该抽象概念的类型，定义方式分别如下所示：\r\n\r\n　　使用abstract class方式定义Door：\r\n\r\n\r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\n}   \r\n \r\n\r\n    使用interface方式定义Door：\r\n\r\n  \r\ninterface Door{   \r\nvoid open();   \r\nvoid close();   \r\n}    \r\n \r\n\r\n    其他具体的Door类型可以extends使用abstract class方式定义的Door或者implements使用interface方式定义的Door。看起来好像使用abstract class和interface没有大的区别。\r\n\r\n　　如果现在要求Door还要具有报警的功能。我们该如何设计针对该例子的类结构呢（在本例中， 主要是为了展示 abstract class 和interface 反映在设计理念上的区别，其他方面无关的问题都做了简化或者忽略）？下面将罗列出可能的解 决方案，并从设计理念层面对这些不同的方案进行分析。\r\n\r\n　　解决方案一：\r\n\r\n　　简单的在Door的定义中增加一个alarm方法，如下：\r\n\r\n\r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\nabstract void alarm();   \r\n}   \r\n \r\n\r\n　或者\r\n\r\n\r\ninterface Door{   \r\nvoid open();   \r\nvoid close();   \r\nvoid alarm();   \r\n}   \r\n\r\n \r\n\r\n\r\n　　那么具有报警功能的AlarmDoor的定义方式如下：\r\n\r\n\r\nclass AlarmDoor extends Door{   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n}   \r\n \r\n\r\n\r\n　　或者\r\n\r\n\r\nclass AlarmDoor implements Door｛   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n｝   \r\n \r\n\r\n    这种方法违反了面向对象设计中的一个核心原则 ISP (Interface Segregation Principle)，在Door的定义中把Door概念本身固有的行为方法和另外一个概念"报警器"的行为方 法混在了一起。这样引起的一个问题是那些仅仅依赖于Door这个概念的模块会因为"报警器"这个概念的改变（比如：修改alarm方法的参数）而改变，反 之依然。\r\n\r\n　　解决方案二：\r\n\r\n　　既然open、close和alarm属于两个不同的概念，根据ISP原则应该把它们分别定 义在代表这两个概念的抽象类中。定义方式有：这两个概念都使用 abstract class 方式定义；两个概念都使用interface方式定义；一个概念 使用 abstract class 方式定义，另一个概念使用interface方式定义。\r\n\r\n　　显然，由于Java语言不支持多重继承，所以两个概念都使用abstract class方式定义是不可行的。后面两种方式都是可行的，但是对于它们的选择却反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理。我们一一来分析、说明。\r\n\r\n　　如果两个概念都使用interface方式来定义，那么就反映出两个问题：1、我们可能没有 理解清楚问题领域，AlarmDoor在概念本质上到底是Door还是报警器？2、如果我们对于问题领域的理解没有问题，比如：我们通过对于问题领域的分 析发现AlarmDoor在概念本质上和Door是一致的，那么我们在实现时就没有能够正确的揭示我们的设计意图，因为在这两个概念的定义上（均使用 interface方式定义）反映不出上述含义。\r\n\r\n　　如果我们对于问题领域的理解是：AlarmDoor在概念本质上是Door，同时它有具有报 警的功能。我们该如何来设计、实现来明确的反映出我们的意思呢？前面已经说过，abstract class在Java语言中表示一种继承关系，而继承关系 在本质上是"is-a"关系。所以对于Door这个概念，我们应该使用abstarct class方式来定义。另外，AlarmDoor又具有报警功能，说 明它又能够完成报警概念中定义的行为，所以报警概念可以通过interface方式定义。如下所示：\r\n\r\n  \r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\n}   \r\ninterface Alarm{   \r\nvoid alarm();   \r\n}   \r\nclass AlarmDoor extends Door implements Alarm{   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n}    \r\n \r\n\r\n    这种实现方式基本上能够明确的反映出我们对于问题领域的理解，正确的揭示我们的设计意图。其 实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系，大家在选择时可以作为一个依据，当然这是建立在对问题领域的理解上的，比如：如果我们认为AlarmDoor在概念本质上是报警器，同时又具有Door的功能，那么上述的定义方式就要反过来了。\r\n\r\n　　小结\r\n\r\n　　  1.abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系。但是，一个类却可以实现多个interface。\r\n\r\n　  　2.在abstract class 中可以有自己的数据成员，也可以有非abstarct的成员方法，而在interface中，只能够有静态的不能被修改的数据成员（也就是必须是static final的，不过在 interface中一般不定义数据成员），所有的成员方法都是abstract的。\r\n\r\n　　  3.abstract class和interface所反映出的设计理念不同。其实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系。\r\n\r\n　　  4.实现抽象类和接口的类必须实现其中的所有方法。抽象类中可以有非抽象方法。接口中则不能有实现方法。\r\n\r\n　  　5.接口中定义的变量默认是public static final 型，且必须给其初值，所以实现类中不能重新定义，也不能改变其值。\r\n\r\n　  　6.抽象类中的变量默认是 friendly 型，其值可以在子类中重新定义，也可以重新赋值。\r\n\r\n　　  7.接口中的方法默认都是 public,abstract 类型的。\r\n\r\n　 结论\r\n\r\n　　abstract class 和 interface 是 Java语言中的两种定义抽象类的方式，它们之间有很大的相似性。但是对于它们的选择却又往往反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理，因为它们表现了概念间的不同的关系（虽然都能够实现需求的功能）。这其实也是语言的一种的惯用法，希望读者朋友能够细细体会。', '详解java中的抽象类和接口的区别', '', 'inherit', 'open', '2011-08-13 15:44:50', 42, 'http://xpmyblog.sinaapp.com/?p=376', 0, 'revision', '', 0),
(377, 1, '2011-06-29 13:14:19', '235 kW (320 hp) / 7,200 rpm\r\n\r\n0-100 km/h 加速用时：5.0 s\r\n\r\n最高时速：265 km/h\r\n\r\n<a href="http://www.porsche.com/china/zh/models/boxster/boxster-spyder/">http://www.porsche.com/china/zh/models/boxster/boxster-spyder/</a>\r\n\r\n那个视频很好。\r\n\r\n[caption id="attachment_17" align="alignnone" width="300" caption="保时捷跑车"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900.jpg"><img class="size-medium wp-image-17" title="保时捷-boxster-spyder" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900-300x187.jpg" alt="保时捷-boxster-spyder" width="300" height="187" /></a>[/caption]\r\n\r\n&nbsp;', 'boxster-spyder 纵弛不羁', '', 'inherit', 'open', '2011-06-29 13:14:19', 16, 'http://xpmyblog.sinaapp.com/?p=377', 0, 'revision', '', 0),
(378, 1, '2011-06-28 21:17:34', '[caption id="attachment_12" align="alignnone" width="300" caption="保时捷boxster新款"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china.jpg"><img class="size-medium wp-image-12" title="boxster-black-edition" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china-300x203.jpg" alt="魅不可挡" width="300" height="203" /></a>[/caption]\r\n\r\n帅气的保时捷boxster新款——black-edition。\r\n\r\n魅不可挡，以黑为尚。这是设计师和工程师始终秉承“Porsche Intelligent Performance”理念共同设计与诠释的结果。一款限量版车型，让您与众不同，令人艳羡– Boxster Black Edition。\r\n\r\n<a href="http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster">http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster</a> 可以从这里进官网体验下。', '帅气的保时捷boxster-black-edition', '', 'inherit', 'open', '2011-06-28 21:17:34', 11, 'http://xpmyblog.sinaapp.com/?p=378', 0, 'revision', '', 0),
(379, 1, '2012-09-12 17:27:23', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\r\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\r\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\r\n\r\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\r\n他们的用法如下：\r\n<pre>\r\n1、Strings\r\n> set foo bar\r\nOK\r\n>get foo\r\n"bar"\r\n</pre>\r\n<pre>\r\n2、integer\r\n	>set mykey "10"\r\n	OK \r\n	>incr mykey\r\n	(integer) 11\r\n	>get mykey\r\n	"11"\r\n	>decr mykey\r\n	(integer) 10\r\n	>get mykey\r\n	"10"\r\n</pre>\r\n<pre>\r\n3、Lists\r\n>rpush foo baz\r\n(integer) 1\r\n>rpush foo qux\r\n(integer) 2\r\n>lpush foo bar\r\n(integer) 3\r\n	>lrange foo 0 -1\r\n	"bar"\r\n	"baz"\r\n	"qux"\r\n	>lrange foo 0 1\r\n	"bar"\r\n	"baz"\r\n	>lpop foo\r\n	"bar"\r\n	>rpop foo\r\n	"qux"\r\n</pre>\r\n<pre>\r\n4、Hashes\r\n>hset foo bar baz\r\n(integer) 1\r\n>hset foo qux quxx\r\n(integer) 1\r\n>hget foo bar\r\n"baz"\r\n>hgetall foo\r\n"bar"\r\n"baz"\r\n"qux"\r\n"quxx"\r\n</pre>\r\n<pre>\r\n5、Set\r\n	>sadd m1 jan\r\n	(integer) 1\r\n	>sadd m1 feb\r\n	(integer) 1\r\n	>sismember m1 jan\r\n	(integer) 1\r\n	>sismember m1 feb\r\n	(integer) 1\r\n	>smembers m1\r\n	"feb"\r\n	"jan"\r\n	>sadd m2 feb\r\n	(integer) 1\r\n	>sismember m2 jan\r\n	(integer) 1\r\n	>sismember m2 mar\r\n	(integer) 1\r\n	>sinter m1 m2\r\n	"feb"\r\n	>sdiff m1 m2\r\n	"jan"\r\n	>sunion m1 m2\r\n	"mar"\r\n	"jan"\r\n	"feb"\r\n</pre>\r\n<pre>\r\n6、sorted sets\r\n	>zadd z1 1 jan\r\n	(integer) 1\r\n	>zadd z1 2 feb\r\n	(integer) 1\r\n	>zadd z1 3 mar\r\n	(integer) 1\r\n	>zscore z1 feb\r\n	"2"\r\n	>zrange z1 0 1 withscores\r\n	"jan"\r\n	"1"\r\n	"feb"\r\n	"2"\r\n	"mar"\r\n	"3"\r\n</pre>\r\n由上可知，我觉得理想的存储数据类型是lists和hashes。\r\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\r\n\r\n二、Redis进阶教程-aof(append only file)日志文件\r\n原文出处:http://lgone.com/html/y2010/757.html\r\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\r\n何为AOF?\r\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\r\n扩展知识:\r\nRedis有三种类型的落地文件:\r\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\r\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\r\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\r\n运行流程\r\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\r\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\r\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\r\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\r\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\r\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\r\n内部实现\r\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\r\nfork! Redis通过fork产生子进程.\r\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\r\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\r\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\r\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\r\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\r\n其它\r\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\r\n\r\n三、在windows环境下，phper想使用php操作redis，那怎么办呢？\r\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\r\n用法很简单，\r\n<pre lang="php">\r\n<?php\r\n	require ''Rediska.php'';\r\n	$rediska = new Rediska();\r\n	$rediska ->connect(''127.0.0.1'',6379);\r\n	$rediska ->set(''test'',''hello world!'');\r\n	echo $rediska ->get(''test'');\r\n?>\r\n</pre>\r\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'inherit', 'open', '2012-09-12 17:27:23', 57, 'http://xpmyblog.sinaapp.com/?p=379', 0, 'revision', '', 0),
(380, 1, '2012-03-21 18:07:06', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！\r\n\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。\r\n\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。\r\n\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”\r\n\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！\r\n\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”\r\n\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。\r\n\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......\r\n\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）\r\n\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。\r\n\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...\r\n\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”\r\n\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”\r\n\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…\r\n\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……\r\n\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”\r\n\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\r\n\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\r\n\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-03-21 18:07:06', 232, 'http://xpmyblog.sinaapp.com/?p=380', 0, 'revision', '', 0),
(381, 1, '2012-02-27 11:53:14', '转载：http://blog.jobbole.com/13901/\r\n一、\r\n总裁：“我们不需要两台服务器”\r\n我：“可是我们需要双机备份”\r\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\r\n我：“唉…”\r\n二、\r\n领导：“我们的外网网站应该支持IE8”\r\n开发：“我们需要安装IE8才能测试\r\n领导：“技术支持部门会为你们测试”\r\n技术支持：“我们不支持IE8”\r\n开发：“我们需要安装IE8来测试\r\n领导：“你们不允许安装未经批准的软件\r\n开发：“唉…”\r\n领导：“为什么我们的外网网站还没有支持IE8？”\r\n三、\r\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\r\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\r\n技术总监：“因为MySQL不是‘企业级’的。”\r\n唉…\r\n\r\n四、\r\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\r\n唉…\r\n五、\r\n老板：我们需要在这放一个cookie——他指着屏幕。\r\n我：什么？\r\n老板：在这放一个cookie——他再次指了一下屏幕。\r\n我：呃…\r\n技术负责人：他的意思是一个下拉列表。\r\n六、\r\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\r\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\r\n我：这样可能数据量太大…\r\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\r\n团队：哈哈…\r\n….. 一个月后，多线程版的实现了…\r\n团队：局域网上运行表现非常好…放到WiFi网络上试试\r\n…. 由于数据延迟，慢的像蜗牛…\r\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\r\n我：唉…\r\n(mark，这个太形象了，业余时间研究，唉呀妈呀，哪来那么多业余时间啊？？？)\r\n七、\r\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\r\npngquaint软件崩溃了，怎么回事？\r\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。(mark一下，这个某人干过！)\r\n唉…\r\n', '一声叹息', '', 'inherit', 'open', '2012-02-27 11:53:14', 214, '', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(382, 1, '2012-01-06 15:01:19', '1、我一同学，在美国读研。一次他去苹果店买电脑，对卖电脑的人的态度很不满，结果把店里的电脑，iPad，iPhone神马的系统语言全都设成中文后扬长而去。\r\n\r\n2、成绩最好的同学提前交卷，告诉监考老师要通知事情，接着在黑板上写：\r\n　　1、4、6、9、12、17号考完试留下作清洁；\r\n\r\n　　2、3、8、14、18号考完去找班主任；\r\n\r\n　　5、10、11、15、19号考完了去找数学老师补作业；\r\n\r\n　　其他同学考完了回寝室。\r\n\r\n　　其实真正的意思是：第一行代表选A的题号，第二行代表选B的，以此类推。\r\n\r\n3、如何判断员工是否在工作：1.打字非常轻快且有停顿：在聊天；2.键盘鼠标并用且不停点击：在玩游戏；3.不停滑动滚轮或Pagedown键：在看帖子；4.不停按刷新/F5：在上微博；5.一动不动，紧盯屏幕的，在看电影。表情时而严肃，时而轻松的是在看股 票；7.手放在键盘上但长时间未动：睡着了。（标注：当年我一同事就跟我说，不要把键盘敲的那么响，那么快，因为总监会认为你在聊天，哈哈哈！）\r\n\r\n4、我同事的猫，只要一犯错就被扯脖子扔出窗户，他家在二楼。所以现在我就能看到一个奇怪的现象：我去他们家玩，那猫进来瞅了瞅，一爪子把可乐放翻，然后直勾勾地看着同事几秒，慢慢地走到窗台，侧着身子栽下去……\r\n\r\n5、同学刚刚打电话来嚎啕大哭：“刚才我上厕所发现没纸！问隔壁借纸的时候，发现这竟然是男厕所！！” “那还不快跑？！” “跑了！一推门外边冲进来一群男生！领头那个我还认识！！！！” “捂住脸啊！” “捂了！但是这货大声叫我名字！兴高采烈跟我说：XX！好巧！你也来上厕所啊！哈哈哈哈！！！！”\r\n\r\n6、昨天深夜，骑着单车回家，由于没有路灯 所以骑得比较慢，后面来了辆小车，慢慢的跟着我，还是不是的用远近灯为我照亮前方的路，在这寒冷的夜里，让我心中有种莫名的感动。。直到数秒过后，后面的开始按喇叭，那人伸出头来说：你丫的，别骑路中间啊...\r\n', '我又来发笑话了。', '', 'inherit', 'open', '2012-01-06 15:01:19', 172, 'http://xpmyblog.sinaapp.com/?p=382', 0, 'revision', '', 0),
(383, 1, '2011-09-25 21:46:27', '1.学生课间去厕所，拉完发现没带纸，又等不到人，手机又欠费。绝望中他给10086打电话，请求帮助。。。据说那边沉默了很久，后来……他班同学上课时收到了这样一条短信：尊敬的中国移动用户你好，你的同学谁谁谁在厕所里，让你给他送手纸。详情请咨询10086\r\n\r\n2.寝室在6楼，爬上来后发现钥匙未带，下楼问阿姨拿，再爬上来开门，下去还钥匙，再爬上来，发现门紧闭，隔壁一同学经过，问曰“看你门没关，我帮你关了。”…\r\n\r\n3.晚上我女朋友说我太娘了，我很火大，就跟她吵起来了，本来是想显得男人一点，结果最后控制不住哭起来了。\r\n\r\n4.一哥们鼓起勇气在QQ上向MM深情表白，一会儿MM回复：我是她的妈妈，我是来偷菜的\r\n\r\n5.课堂上老师点名：“刘华!” 结果下面一孩子大声回到：“yeah!” 老师很生气：“为什么不说‘到’？” 孩子说：“那个字念‘烨’……”。\r\n\r\n6.这天突然发现，我有大姨，二姨，四姨，五姨，却没有三姨。于是就去问我爸：为什么我没有三姨？ 心里还想了一下：难道三姨在小的时候就死了？ 我爸说：你三姨就是你妈！\r\n\r\n7.有一次下课打铃大家都要回家，下楼梯时我左脚踩到自己右脚，“啪”的以大字型的姿势摔在了路中央..我当时就想：不对，糗大了，我装晕。 \r\n　　结果我旁边的同学看我一动不动，赶紧扶起我，然后左右开打狂扇我耳光...\r\n\r\n8.一个同学，他的电脑每天早上会自动开机（估计是因为宿舍里早上来电的时候一瞬间冲开的）。 \r\n　　结果他老人家拿了一个符贴在了电脑上。。。\r\n\r\n9.老爸最看不惯外国歌星。可是有一天，我正在看迈克˙杰克逊的mtv时，赫然发现老爸站在后面看，一脸深思的表情。“爸爸，你也喜欢看这个？”\r\n　　\r\n　　老爸摇了摇头：“毛阿敏真是越来越难看了。”\r\n\r\n19.一个女性朋友和一个男性gay合租房子。有一天晚上她很沮丧，那个gay很体贴地给她下了碗面。她突然觉得很温馨，就说：“要不我们就这么凑合过过算了。”没想到gay脸色大变：‘你没男人要，我可有的！” \r\n　　　　 …………\r\n\r\n20.昨天收到一条QQ请求加好友的信息：“我是你妈”，我当即回了句“我是你爹！”，给拒绝了，然后就接到我妈电话说：“加我，快！”\r\n\r\n21.某日，体育课中途，洗手间解决个人问题。结果着急误进男厕。看到一男生正在小便池嘘嘘，俺当时就蒙了，一秒过后正准备悄悄撤退，结果被发现，晕死。只见那男生大叫一声“流氓，非礼”然后双手捂胸。后来，后来俺说了一句自己都觉得不可思议的话“同学，你捂错地方了……”\r\n\r\n22.喝的晕晕乎乎去一个餐厅卫生间小便，看见墙上写着一句话，凑近了一看，写着：“不要看这儿，专心尿尿。”等我看完这句话后，已经尿了自己一鞋了。\r\n\r\n23.我是救护医生，今天一个病人对我说他只有6个月好活了，我想说点鼓励的话!安慰到：六个月，很快就过去了，坚康?\r\n\r\n26.有一次我去漫吧租了本金田一，刚看到第二页就泪流满面，不知哪个天杀的用蓝色圆珠笔在某个人物上画了一个圈，写上，这个就是凶手……\r\n\r\n27.下午上公交车，拿出公交卡咣当投进投币孔里了\r\n\r\n28.一时兴起、拿自己照片当电脑桌面…然后我的电脑就中毒了…\r\n\r\n29. 高中一同学说梦话\r\n　　“爱妃，爱妃，不要离开朕”\r\n　　我石化……\r\n　　过一会\r\n　　“堂堂大清国就这么灭亡了，朕不甘心呐，朕不甘心呐”\r\n　　我直接崩溃……\r\n\r\n30. 我们数学老师总喜欢故作幽默的说些个没人笑的笑话\r\n　　我们全班就商量恶搞他一把，等他上课说第一句话的时候，我们就全体齐声大笑\r\n　　那天他进来，沉默了一下 说他爸去世了\r\n　　我立刻放声大笑，其他人鸦雀无声。\r\n\r\n31. 我在公交车上放了一个屁，\r\n　　见身边的纷纷挥手，表情痛苦，\r\n　　我也挥挥手。\r\n　　旁边的女士扭过头对我说：你就不要装了\r\n\r\n32.我和老婆去卧佛寺游玩，老婆路上走不动，于是我背她。\r\n　　一个老婆婆看见了，严肃的说：看你也是读过书的人。老婆有病还是早点去医院，拜佛是没用的\r\n\r\n33.小学时候每天只有几毛钱的零花钱，有一次攒了几天，好不容易买了一包五香瓜子，上课的时候偷偷的全磕了，瓜子壳全放在课桌抽屉了， \r\n　　　　下午来上课的时候看着瓜子壳又馋了，于是把瓜子壳又放到嘴里都含了一遍，感觉味道好好啊。。\r\n　　　　下课的时候一个同学问我吃什么，我只好说吃瓜子壳，专门买的五香瓜子壳，只有壳没有肉的，就是吃味道的。。结果那一个下午一帮子同学围在我座位边上吃我舔过两遍的瓜子壳。。。。\r\n\r\n36.逛超市呢 看到一收款员在很认真数一堆硬币 一小孩跑过，边跑边唱：门前大桥下游过一群鸭，快来快来数一数，二四六七八。。。。 然后收款员很郁闷的把数了一半的硬币倒回去重数....\r\n\r\n37.我们以前宿舍有个娃（男的），老实的有点当（笨），而且有时候傻得可爱。有一次晚上熄灯后，大家又在聊天，他就讲，等老子有钱了，就找三个女生。我们口味就被他调起来了，问他说然后呢，只见他镇定的说，打麻将…\r\n\r\n38.跟一姐姐聊天 她说：前天我老板，一个男的，和真懂似的，在我的电脑后面看半天，说“小柯，你也种菜啊？这可是上班时间！” 我收了收瓜子皮，，，瞅瞅他说“张总，这是我的桌面，你见哪块菜地上站着超级玛利呢？”\r\n\r\n39.楼下送葬队在吹《常回家看看》 \r\n　　不知道那家人怎么想的\r\n\r\n41.想起大学的一件事情来 \r\n　　大学期末考试，试卷上要求填写考号 \r\n　　我TMD写上QQ号码了\r\n\r\n42.我初中的班主任特别凶，每周五放学前都要开班会训话。一次，她情到激动处，义正词严地说，“你们怎么这么不争气，为了这个班，我绞尽奶汁”。当时我和周围几个同学强忍着不敢笑，只好把头深深的埋下。记得一个哥们趴在课桌上，使劲咬着手。。。\r\n\r\n46.宿舍哥们暴强，一日发现蚊帐里有只蚊子，忙活抓了半天没抓到，哥们叹口气说：“妈的，饿死你！”然后迅速把蚊帐收了起来，忍了好几天没挂蚊帐，最后终于把蚊子给饿死了，我们那个汗呀~~~~~这个不算什么对吧，很多人干过。 \r\n一**又发现蚊帐里竟然飞进一只苍蝇，跟我们说：“我非弄死他”。我们说：“苍蝇可是耐饿呀，看来你是靠不过他的”。 \r\n　　“你们看吧 ”，这人抄起一本小说钻进蚊帐，封口。边看小说边不停的挥动扇子，就是不让苍蝇落地，结果两个小时后，苍蝇终于飞不动了。他凑过去捅了捅苍蝇说：“飞呀小样，爷书还没看够呢”\r\n\r\n47.记得有次和爸妈去游泳馆，刚进大门的时候就看见一个社会青年的纹了一身的活，剃个“青皮”头，脖子上还戴个大金链子！等我们下水适应温度的时候就看那哥哥大摇大摆走过来往水里一站，天雷的事发生了。。。他脖子上那好粗好粗的大金链子浮在水面上。。。。。\r\n\r\n48.2009年7月22日，我在一个BBS上见一个哥们说：“TMD，原来日食是在白天，害老子白等了一宿.&quot;\r\n\r\n50.弟弟乘坐公共汽车时，车上一漂亮姑娘总是打量他。弟弟心想：姑娘可能对自己有意思，不禁心理美滋滋的。姑娘到站下车。弟弟见状马上跟了下去。姑娘在前面走着，还不时地回头看。弟弟鼓足勇气跑上前，不无幽默地搭讪道：“小姐，你为什么总看我？是不是我脸上有饭粒儿呀？”姑娘瞪了他一眼说：“你有病啊？明知道还不擦。” ', '有时候看看笑话，会让心情变好！', '', 'inherit', 'open', '2011-09-25 21:46:27', 117, 'http://xpmyblog.sinaapp.com/?p=383', 0, 'revision', '', 0),
(384, 1, '2011-09-25 13:49:08', 'http://www.sourcejoy.com/it/develop-girl-s-twitter.html\r\n网上看到的，一个女程序员twitter上发了一条tweet，广大淫民的创意真是相当给力呀。\r\n程序员MM的tweet内容：\r\n昨晚梦见男朋友和别的女人在逛街，梦里我的第一反应是查源代码…结果调试半天查不出来为什么显示的是那个女人不是我，最后含泪把那个女人给注释掉了，再一运行就是我男朋友自己逛街了…醒来囧字脸呆了很久…囧rz \r\n\r\n评论： \r\n1L \r\n把那个女人的指针指向你即可 \r\n2L \r\n谁让你把男朋友设成public的 \r\n3L \r\n加个断点看看那女人是谁 \r\n4L \r\n心真软，就该把他的接口屏蔽掉。//是我想多了么 \r\n5L \r\nprotected 逛街(youOnly) \r\n6L \r\n设计问题，应该采用单例模式 \r\n7L \r\n没做回归测试 \r\n8L \r\n标准做法是做个断言 \r\n9L \r\n注释掉了逛街的参数不用改么 \r\n10L \r\n不要忘记GC谢谢 \r\n11L \r\n查一下Log，只逛街了吗/. \r\n\r\n**看到一个最狠的回复： \r\n\r\n恩，上绝招，用goto，做个死循环，让他们逛死\r\n\r\n12L\r\n哈，是系统安全性没做好吧。被那个女人入侵了~~\r\n', '一个女程序员twitter上发了一条tweet', '', 'inherit', 'open', '2011-09-25 13:49:08', 115, 'http://xpmyblog.sinaapp.com/?p=384', 0, 'revision', '', 0),
(385, 1, '2011-09-16 20:01:08', '很多网站都通过User-Agent来判断浏览器类型，如果是3G手机，显示手机页面内容，如果是普通浏览器，显示普通网页内容。\r\n\r\n　　谷歌Chrome浏览器，可以很方便地用来当3G手机模拟器。在Windows的【开始】-->【运行】中输入以下命令，启动谷歌浏览器，即可模拟相应手机的浏览器去访问3G手机网页：\r\n\r\n　　谷歌Android：\r\nchrome.exe --user-agent="Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1"\r\n\r\n\r\n　　苹果iPhone：\r\nchrome.exe --user-agent="Mozilla/5.0 (iPad; U; CPU OS 3_2_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B500 Safari/531.21.10"\r\n\r\n\r\n　　诺基亚N97：\r\nchrome.exe --user-agent="Mozilla/5.0 (SymbianOS/9.4; Series60/5.0 NokiaN97-1/20.0.019; Profile/MIDP-2.1 Configuration/CLDC-1.1) AppleWebKit/525 (KHTML, like Gecko) BrowserNG/7.1.18124"\r\n\r\n\r\n　　试一试，分别用Android、iPhone、诺基亚访问http://www.163.com/、http://blog.s135.com/、http://www.google.com.hk/、http://3g.qq.com、http://t.sina.cn这些3G手机网页，看看有什么不同。\r\n\r\n　　更多款手机的User-Agent：http://www.zytrax.com/tech/web/mobile_ids.html\r\n\r\n　　10月11日备注：如果想切换回普通浏览器模式，关掉所有Chrome浏览器，重开即可。如果不想关闭浏览器，切回普通浏览器模式，则访问：\r\nchrome.exe --user-agent="Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/534.3 (KHTML, like Gecko) Chrome/6.0.472.63 Safari/534.3"\r\n\r\n\r\n\r\nhttp://blog.s135.com/chrome_phone/', '用谷歌浏览器来当手机模拟器', '', 'inherit', 'open', '2011-09-16 20:01:08', 91, 'http://xpmyblog.sinaapp.com/?p=385', 0, 'revision', '', 0),
(386, 1, '2011-08-16 20:49:51', '女生\r\n姓：自己姓的第一个字母\r\nA：慕容 B:任 C:于 D:厉 F:钟离 H:东方 J:敖 K:白 L:南宫 M:竺 N:司徒 O:尉迟 P:司空 Q:蓝 R:邵 S:西门 T:颜 W:莫 X:欧阳 Y:尚 Z:上官\r\n名：出生月份\r\n1:真 2:踏 3:凝 4:竹 5:若 6:雨 7:紫 8:影 9:亦 10:伊 11:羽 12：冰\r\n名：出生日期\r\n1:菲 2:星 3:琪 4:悠 5:馨 6:香 7:爱 8:露 9:落 10:轩 11:儿 12:萱 13:雪 14:月 15:嫣 16:凌 17:荀 18:痕 19:荫 20:茹 21:忆 22:嘉 23:舞 24:琦 25:汐 26:荪 27:郁 28:心 29:韵 30:然 31:嫣\r\n\r\n男生\r\n姓：自己姓的第一个字母\r\nA：慕容 B：任 C：于 D：厉 F：钟离 G：唐 H：东方 J：敖 K：公孙 L：南宫 M：邵 N：司徒 O：尉迟 P：司空 Q：尹 R：明 S：西门 T：归海 W：莫 X：欧阳 Y：尚 Z：上官 \r\n名：出生月份 \r\n1：绝 2：逸 3：寒 4：封 5：萧 6：云 7：燚 8：轩 9：海 10：元 11：天 12：寂 \r\n名：出生日期 \r\n1：言 2：洛 3：枫 4：涯 5：夜 6：痕 7：清 8：浪 9：尘 10：阳 11：武 12：遥 13：风 14：空 15：暇 16：竹 17：涵 18：偌 19：语 20：伦 21：滨 22:珲 23：璘 24：永 25：恒 26：珠 27：明 28：岚 29：舜 30：翰 31：遐 ', '看看你在古代叫什么', '', 'inherit', 'open', '2011-08-16 20:49:51', 44, 'http://xpmyblog.sinaapp.com/?p=386', 0, 'revision', '', 0),
(387, 1, '2012-11-01 11:29:02', '235 kW (320 hp) / 7,200 rpm\r\n\r\n0-100 km/h 加速用时：5.0 s\r\n\r\n最高时速：265 km/h\r\n\r\n<a href="http://www.porsche.com/china/zh/models/boxster/boxster-spyder/">http://www.porsche.com/china/zh/models/boxster/boxster-spyder/</a>\r\n\r\n那个视频很好。\r\n\r\n[caption id="attachment_17" align="alignnone" width="300" caption="保时捷跑车"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900.jpg"><img class="size-medium wp-image-17" title="保时捷-boxster-spyder" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900-300x187.jpg" alt="保时捷-boxster-spyder" width="300" height="187" /></a>[/caption]\r\n\r\n&nbsp;', 'boxster-spyder 纵弛不羁', '', 'inherit', 'open', '2012-11-01 11:29:02', 16, '', 0, 'revision', '', 0),
(388, 1, '2012-11-01 11:29:08', '[caption id="attachment_12" align="alignnone" width="300" caption="保时捷boxster新款"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china.jpg"><img class="size-medium wp-image-12" title="boxster-black-edition" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china-300x203.jpg" alt="魅不可挡" width="300" height="203" /></a>[/caption]\r\n\r\n帅气的保时捷boxster新款——black-edition。\r\n\r\n魅不可挡，以黑为尚。这是设计师和工程师始终秉承“Porsche Intelligent Performance”理念共同设计与诠释的结果。一款限量版车型，让您与众不同，令人艳羡– Boxster Black Edition。\r\n\r\n<a href="http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster">http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster</a> 可以从这里进官网体验下。', '帅气的保时捷boxster-black-edition', '', 'inherit', 'open', '2012-11-01 11:29:08', 11, 'http://xpmyblog.sinaapp.com/?p=388', 0, 'revision', '', 0),
(389, 1, '2012-10-17 11:42:19', '我是许萍，毕业后从事PHP开发，所学专业计算机网络技术，我的微博：<a href="http://weibo.com/xpmozong" target="_blank">寞踪</a>\r\n\r\n掌握技能:\r\n<pre>\r\n1. php+mysql\r\n2. css+html\r\n3. linux+lnmp\r\n4. ios\r\n</pre>', '关于我', '', 'inherit', 'open', '2012-10-17 11:42:19', 261, 'http://xpmyblog.sinaapp.com/?p=389', 0, 'revision', '', 0),
(390, 1, '2012-11-11 17:44:30', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre class="brush: py;">\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用 settings.py\r\n在django.contrib.auth下添加django.contrib.admin,mysite.blog\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre class="brush: py;">\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件。\r\n\r\n6、然后models.py内容为\r\n<pre class="brush: py;">\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n发布文章的时候，如果发现blog_blogpost表不存在，就再执行下manage.py syncdb', 'django1.0.4 blog Admin管理界面的激活方法', '', 'publish', 'open', '2012-12-21 16:18:55', 0, 'http://xpmyblog.sinaapp.com/?p=390', 0, 'post', '', 0),
(391, 1, '2012-11-11 17:44:03', '前面django-admin startproject mysite创建一个项目，\ncd mysite\nmanage.py startapp blog  创建一个blog\n\n1、设置数据库 settings.py\n<pre>\nDATABASE_ENGINE = ''mysql''\nDATABASE_NAME = ''djangodb''\nDATABASE_USER = ''root''\nDATABASE_PASSWORD = ''''\nDATABASE_HOST = ''localhost''\nDATABASE_PORT = ''''\n</pre>\n\n2、建表\n命令行\nmanage.py syncdb\n........\n\n3、设置自动admin应用\n在django.contrib.auth下添加django.contrib.admin\n\n4、再次 命令行\nmanage.py syncdb\n........\n\n5、urls.py内容为\n<pre>\nfrom django.conf.urls.defaults import *\n\n# Uncomment the next two lines to enable the admin:\nfrom django.contrib import admin\nadmin.autodiscover()\n\nurlpatterns = patterns('''',\n    # Uncomment the next line to enable the admin:\n    (r''^admin/(.*)'', admin.site.root),\n)\n</pre>\n\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件\n\n6、然后models.py内容为\n<pre>\nfrom django.db import models\nfrom django.contrib import admin\n\nclass BlogPost(models.Model):\n    title = models.CharField(max_length=150)\n    body = models.TextField()\n    timestamp = models.DateTimeField()\n\nadmin.site.register(BlogPost)\n</pre>\n\n7、最后za\n\n', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-11-11 17:44:03', 390, 'http://xpmyblog.sinaapp.com/?p=391', 0, 'revision', '', 0),
(392, 1, '2012-11-11 17:44:30', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre>\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用\r\n在django.contrib.auth下添加django.contrib.admin\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre>\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件\r\n\r\n6、然后models.py内容为\r\n<pre>\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n\r\n', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-11-11 17:44:30', 390, 'http://xpmyblog.sinaapp.com/?p=392', 0, 'revision', '', 0),
(393, 1, '2012-11-11 17:45:18', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre>\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用\r\n在django.contrib.auth下添加django.contrib.admin\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre>\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件。\r\n\r\n6、然后models.py内容为\r\n<pre>\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n\r\n', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-11-11 17:45:18', 390, 'http://xpmyblog.sinaapp.com/?p=393', 0, 'revision', '', 0),
(394, 1, '2012-11-11 17:55:57', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre>\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用\r\n在django.contrib.auth下添加django.contrib.admin\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre>\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件。\r\n\r\n6、然后models.py内容为\r\n<pre>\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n发布文章的时候，如果发现blog_blogpost表不存在，就再执行下manage.py syncdb\r\n', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-11-11 17:55:57', 390, 'http://xpmyblog.sinaapp.com/?p=394', 0, 'revision', '', 0),
(396, 1, '2012-11-30 10:17:34', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\n&nbsp;\r\n\r\nPHP 工程师 (PHP Programmar)\r\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n描述: PHP工程师是.\r\n特征:\r\n1: 精通一种或多种linux.\r\n2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n3: 能够进行框架级通用程序的研发.\r\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n5: 能够使用框架/类库加速项目开发进度.\r\n6: 有自己的代码库.\r\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n&nbsp;\r\n\r\n关于其他:\r\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n\r\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\ncoder 是进行少量创新的,大量重复工作的人.\r\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n\r\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n&nbsp;\r\n\r\n关于自己：\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。哎。。。木有成就感啊，用的都是人家研究好的东西。 钻研方向待定。多想想如何能去研发，而不是一味的只会开发。\r\n\r\nhttp://www.cnxct.com/use-php-apc-to-protected-your-code/ 这个东东，才是俺心目中高级的PHP项目啊。可惜没接触到，连PHP扩展都不会写，还没入门呢，哎。。。', '什么叫php高级工程师', '', 'publish', 'open', '2012-12-21 16:19:12', 0, 'http://xpmyblog.sinaapp.com/?p=396', 0, 'post', '', 0),
(397, 1, '2012-11-30 10:17:20', '写了这么长时间PHP代码了\n但还是不明白什么叫PHP高级工程师？\n看各大网站上都在招\n具备哪些条件才算是？\n\nPHP 工程师     (PHP Programmar)\n       定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\n       描述: PHP工程师是.\n       特征:\n           1: 精通一种或多种linux.\n           2: 快速编写结构清晰,代码格式优美的PHP程序.\n           3: 能够进行框架级通用程序的研发.\n           4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\n           5: 能够使用框架/类库加速项目开发进度.\n           6: 有自己的代码库.\n           7: 能够胜任大部分服务器和部分服务器集群优化工作.\n        技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\n\n关于其他:\n    1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\n   例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\n    到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\n  \n    2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\n     coder 是进行少量创新的,大量重复工作的人.\n     programmar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\n\n    3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\n\n    4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\n\n    5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\n\n    6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\n    \n    8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\n\n    9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\n\n    10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\n\n    11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\n\n\n\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:17:20', 396, 'http://xpmyblog.sinaapp.com/?p=397', 0, 'revision', '', 0),
(398, 1, '2012-11-30 10:17:34', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\nPHP 工程师     (PHP Programmar)\r\n       定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n       描述: PHP工程师是.\r\n       特征:\r\n           1: 精通一种或多种linux.\r\n           2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n           3: 能够进行框架级通用程序的研发.\r\n           4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n           5: 能够使用框架/类库加速项目开发进度.\r\n           6: 有自己的代码库.\r\n           7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n        技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n关于其他:\r\n    1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n   例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n    到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n  \r\n    2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\n     coder 是进行少量创新的,大量重复工作的人.\r\n     programmar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n    3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n    4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n    5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n    6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n    \r\n    8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n    9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n    10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n    11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:17:34', 396, 'http://xpmyblog.sinaapp.com/?p=398', 0, 'revision', '', 0),
(399, 1, '2012-11-30 10:17:34', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\nPHP 工程师     (PHP Programmar)\r\n       定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n       描述: PHP工程师是.\r\n       特征:\r\n           1: 精通一种或多种linux.\r\n           2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n           3: 能够进行框架级通用程序的研发.\r\n           4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n           5: 能够使用框架/类库加速项目开发进度.\r\n           6: 有自己的代码库.\r\n           7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n        技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n关于其他:\r\n    1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n   例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n    到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n  \r\n    2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\n     coder 是进行少量创新的,大量重复工作的人.\r\n     programmar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n    3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n    4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n    5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n    6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n    \r\n    8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n    9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n    10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n    11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:17:34', 396, 'http://xpmyblog.sinaapp.com/?p=399', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(400, 1, '2012-11-30 10:20:20', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\nPHP 工程师 (PHP Programmar)\r\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n描述: PHP工程师是.\r\n特征:\r\n1: 精通一种或多种linux.\r\n2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n3: 能够进行框架级通用程序的研发.\r\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n5: 能够使用框架/类库加速项目开发进度.\r\n6: 有自己的代码库.\r\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n关于其他:\r\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n\r\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\ncoder 是进行少量创新的,大量重复工作的人.\r\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n\r\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n关于自己：\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:20:20', 396, 'http://xpmyblog.sinaapp.com/?p=400', 0, 'revision', '', 0),
(401, 1, '2012-11-30 10:20:41', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\nPHP 工程师 (PHP Programmar)\r\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n描述: PHP工程师是.\r\n特征:\r\n1: 精通一种或多种linux.\r\n2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n3: 能够进行框架级通用程序的研发.\r\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n5: 能够使用框架/类库加速项目开发进度.\r\n6: 有自己的代码库.\r\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n关于其他:\r\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n\r\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\ncoder 是进行少量创新的,大量重复工作的人.\r\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n\r\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n&nbsp;\r\n\r\n关于自己：\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:20:41', 396, 'http://xpmyblog.sinaapp.com/?p=401', 0, 'revision', '', 0),
(402, 1, '2012-11-30 10:27:14', '写了这么长时间PHP代码了\n但还是不明白什么叫PHP高级工程师？\n看各大网站上都在招\n具备哪些条件才算是？\n\n&nbsp;\n\nPHP 工程师 (PHP Programmar)\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\n描述: PHP工程师是.\n特征:\n1: 精通一种或多种linux.\n2: 快速编写结构清晰,代码格式优美的PHP程序.\n3: 能够进行框架级通用程序的研发.\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\n5: 能够使用框架/类库加速项目开发进度.\n6: 有自己的代码库.\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\n\n&nbsp;\n\n关于其他:\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\n\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\ncoder 是进行少量创新的,大量重复工作的人.\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\n\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\n\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\n\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\n\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\n\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\n\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\n\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\n\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\n\n&nbsp;\n\n关于自己：\n\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。哎。。。木有成就感啊，用的都是人家研究好的东西。 钻研方向待定。多想想如何能去研发，而不是一味的只会开发。\n\nhttp://www.cnxct.com/use-php-apc-to-protected-your-code/ 这个东东，才是俺心目中高级的PHP项目啊。可惜没接触到，连PHP扩展都buhuix，还没入门呢', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:27:14', 396, 'http://xpmyblog.sinaapp.com/?p=402', 0, 'revision', '', 0),
(403, 1, '2012-11-30 10:21:05', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\n&nbsp;\r\n\r\nPHP 工程师 (PHP Programmar)\r\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n描述: PHP工程师是.\r\n特征:\r\n1: 精通一种或多种linux.\r\n2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n3: 能够进行框架级通用程序的研发.\r\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n5: 能够使用框架/类库加速项目开发进度.\r\n6: 有自己的代码库.\r\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n&nbsp;\r\n\r\n关于其他:\r\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n\r\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\ncoder 是进行少量创新的,大量重复工作的人.\r\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n\r\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n&nbsp;\r\n\r\n关于自己：\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:21:05', 396, 'http://xpmyblog.sinaapp.com/?p=403', 0, 'revision', '', 0),
(404, 1, '2012-11-30 10:24:50', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\n&nbsp;\r\n\r\nPHP 工程师 (PHP Programmar)\r\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n描述: PHP工程师是.\r\n特征:\r\n1: 精通一种或多种linux.\r\n2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n3: 能够进行框架级通用程序的研发.\r\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n5: 能够使用框架/类库加速项目开发进度.\r\n6: 有自己的代码库.\r\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n&nbsp;\r\n\r\n关于其他:\r\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n\r\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\ncoder 是进行少量创新的,大量重复工作的人.\r\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n\r\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n&nbsp;\r\n\r\n关于自己：\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。哎。。。木有成就感啊，用的都是人家研究好的东西。 钻研方向待定。多想想如何能去研发，而不是一味的只会开发。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:24:50', 396, 'http://xpmyblog.sinaapp.com/?p=404', 0, 'revision', '', 0),
(405, 1, '2011-08-10 11:19:31', 'upload.php文件内容\r\n\r\n<?php \r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录 \r\n\r\n$img_dir = "upload/"; \r\n\r\n// 把图片传到服务器 \r\n\r\n// 初始化变量 \r\n\r\n$uploaded = 0; \r\n\r\n$unuploaded = 0;\r\n\r\n \r\n\r\n$imgname = $uid.$time;\r\n\r\n \r\n\r\n//只允许三张图片上传 \r\n\r\nfor ($i=0; $i<=2; $i++) { \r\n\r\n//获取当前图片的信息 \r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i]; \r\n\r\n//如果当前图片不为空 \r\n\r\nif (!empty($is_file)) { \r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！<br>";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！<br>";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！<br>'';\r\n\r\n}  \r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n \r\n\r\n/**\r\n * 按比例缩小图片\r\n *\r\n * @param string $im 源文件\r\n * @param int $maxwidth 规定图片宽  324px\r\n * @param int $maxhidth 规定图片高	343px\r\n * @param int $maxwidth 输出文件\r\n *\r\n * 返回文件\r\n *\r\n */\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n	// 载入图像到php到变量中 \r\n	$suffix = substr(strrchr($im,''.''),1);    //strrchr返回最后的.jpg 或者.jpeg\r\n	$style = strtolower($suffix);\r\n	if($style==''jpg'' || $style==''jpeg''){\r\n		$originail = imagecreatefromjpeg($im);    //jpg\r\n	}elseif($style==''png''){\r\n		$originail = imagecreatefrompng($im);    //png\r\n	}elseif($style==''gif''){\r\n		$originail = imagecreatefromgif($im);   //gif\r\n	}\r\n	$dims = getimagesize($im);    //获取图片大小；\r\n	//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg ) \r\n\r\n	$pic_width = $dims[''0''];\r\n	$pic_height = $dims[''1''];\r\n\r\n	if(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n	{\r\n		$resizewidth_tag = false;\r\n		$resizeheight_tag = false;\r\n\r\n		if($maxwidth && $pic_width>$maxwidth)\r\n		{\r\n			$widthratio = $maxwidth/$pic_width;\r\n			$resizewidth_tag = true;\r\n		}\r\n\r\n		if($maxheight && $pic_height>$maxheight)\r\n		{\r\n			$heightratio = $maxheight/$pic_height;\r\n			$resizeheight_tag = true;\r\n		}\r\n\r\n		if($resizewidth_tag && $resizeheight_tag)\r\n		{\r\n			if($widthratio<$heightratio)\r\n				$ratio = $widthratio;\r\n			else\r\n				$ratio = $heightratio;\r\n		}\r\n\r\n		if($resizewidth_tag && !$resizeheight_tag)\r\n			$ratio = $widthratio;\r\n		if($resizeheight_tag && !$resizewidth_tag)\r\n			$ratio = $heightratio;\r\n\r\n		$newwidth = $pic_width * $ratio;\r\n		$newheight = $pic_height * $ratio;\r\n\r\n		//创建空白图像\r\n		$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n		//重采样拷贝部分图像并调整大小\r\n		imagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n	}\r\n	else\r\n	{\r\n		//创建空白图像\r\n		$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n		//重采样拷贝部分图像并调整大小\r\n		imagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n	}\r\n	return imagejpeg($newim,$to);\r\n\r\n}\r\n?>', 'PHP按比例缩放图', '', 'inherit', 'open', '2011-08-10 11:19:31', 32, 'http://xpmyblog.sinaapp.com/?p=405', 0, 'revision', '', 0),
(406, 1, '2012-12-03 18:46:55', 'upload.php文件内容\r\n\r\n<pre>\r\n&nbsp;\r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录\r\n\r\n$img_dir = "upload/";\r\n\r\n// 把图片传到服务器\r\n\r\n// 初始化变量\r\n\r\n$uploaded = 0;\r\n\r\n$unuploaded = 0;\r\n\r\n$imgname = $uid.$time;\r\n\r\n//只允许三张图片上传\r\n\r\nfor ($i=0; $i&lt;=2; $i++) {\r\n\r\n//获取当前图片的信息\r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i];\r\n\r\n//如果当前图片不为空\r\n\r\nif (!empty($is_file)) {\r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！\r\n";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！\r\n";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！\r\n'';\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n/**\r\n* 按比例缩小图片\r\n*\r\n* @param string $im 源文件\r\n* @param int $maxwidth 规定图片宽 324px\r\n* @param int $maxhidth 规定图片高 343px\r\n* @param int $maxwidth 输出文件\r\n*\r\n* 返回文件\r\n*\r\n*/\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n// 载入图像到php到变量中\r\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\r\n$style = strtolower($suffix);\r\nif($style==''jpg'' || $style==''jpeg''){\r\n$originail = imagecreatefromjpeg($im); //jpg\r\n}elseif($style==''png''){\r\n$originail = imagecreatefrompng($im); //png\r\n}elseif($style==''gif''){\r\n$originail = imagecreatefromgif($im); //gif\r\n}\r\n$dims = getimagesize($im); //获取图片大小；\r\n//Array ( [0] =&gt; 800 [1] =&gt; 600 [2] =&gt; 2 [3] =&gt; width="800" height="600" [bits] =&gt; 8 [channels] =&gt; 3 [mime] =&gt; image/jpeg )\r\n\r\n$pic_width = $dims[''0''];\r\n$pic_height = $dims[''1''];\r\n\r\nif(($maxwidth &amp;&amp; $pic_width &gt; $maxwidth) || ($maxheight &amp;&amp; $pic_height &gt; $maxheight))\r\n{\r\n$resizewidth_tag = false;\r\n$resizeheight_tag = false;\r\n\r\nif($maxwidth &amp;&amp; $pic_width&gt;$maxwidth)\r\n{\r\n$widthratio = $maxwidth/$pic_width;\r\n$resizewidth_tag = true;\r\n}\r\n\r\nif($maxheight &amp;&amp; $pic_height&gt;$maxheight)\r\n{\r\n$heightratio = $maxheight/$pic_height;\r\n$resizeheight_tag = true;\r\n}\r\n\r\nif($resizewidth_tag &amp;&amp; $resizeheight_tag)\r\n{\r\nif($widthratio&lt;$heightratio)\r\n$ratio = $widthratio;\r\nelse\r\n$ratio = $heightratio;\r\n}\r\n\r\nif($resizewidth_tag &amp;&amp; !$resizeheight_tag)\r\n$ratio = $widthratio;\r\nif($resizeheight_tag &amp;&amp; !$resizewidth_tag)\r\n$ratio = $heightratio;\r\n\r\n$newwidth = $pic_width * $ratio;\r\n$newheight = $pic_height * $ratio;\r\n\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n}\r\nelse\r\n{\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n}\r\nreturn imagejpeg($newim,$to);\r\n\r\n}\r\n?>\r\n</pre>\r\n', 'PHP按比例缩放图', '', 'inherit', 'open', '2012-12-03 18:46:55', 32, 'http://xpmyblog.sinaapp.com/?p=406', 0, 'revision', '', 0),
(407, 1, '2012-12-03 18:47:54', 'upload.php文件内容\r\n\r\n<pre>\r\n<?php\r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录\r\n\r\n$img_dir = "upload/";\r\n\r\n// 把图片传到服务器\r\n\r\n// 初始化变量\r\n\r\n$uploaded = 0;\r\n\r\n$unuploaded = 0;\r\n\r\n$imgname = $uid.$time;\r\n\r\n//只允许三张图片上传\r\n\r\nfor ($i=0; $i&lt;=2; $i++) {\r\n\r\n//获取当前图片的信息\r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i];\r\n\r\n//如果当前图片不为空\r\n\r\nif (!empty($is_file)) {\r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！\r\n";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！'';\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n/**\r\n* 按比例缩小图片\r\n*\r\n* @param string $im 源文件\r\n* @param int $maxwidth 规定图片宽 324px\r\n* @param int $maxhidth 规定图片高 343px\r\n* @param int $maxwidth 输出文件\r\n*\r\n* 返回文件\r\n*\r\n*/\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n// 载入图像到php到变量中\r\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\r\n$style = strtolower($suffix);\r\nif($style==''jpg'' || $style==''jpeg''){\r\n$originail = imagecreatefromjpeg($im); //jpg\r\n}elseif($style==''png''){\r\n$originail = imagecreatefrompng($im); //png\r\n}elseif($style==''gif''){\r\n$originail = imagecreatefromgif($im); //gif\r\n}\r\n$dims = getimagesize($im); //获取图片大小；\r\n//Array ( [0] =&gt; 800 [1] =&gt; 600 [2] =&gt; 2 [3] =&gt; width="800" height="600" [bits] =&gt; 8 [channels] =&gt; 3 [mime] =&gt; image/jpeg )\r\n\r\n$pic_width = $dims[''0''];\r\n$pic_height = $dims[''1''];\r\n\r\nif(($maxwidth &amp;&amp; $pic_width &gt; $maxwidth) || ($maxheight &amp;&amp; $pic_height &gt; $maxheight))\r\n{\r\n$resizewidth_tag = false;\r\n$resizeheight_tag = false;\r\n\r\nif($maxwidth &amp;&amp; $pic_width&gt;$maxwidth)\r\n{\r\n$widthratio = $maxwidth/$pic_width;\r\n$resizewidth_tag = true;\r\n}\r\n\r\nif($maxheight &amp;&amp; $pic_height&gt;$maxheight)\r\n{\r\n$heightratio = $maxheight/$pic_height;\r\n$resizeheight_tag = true;\r\n}\r\n\r\nif($resizewidth_tag &amp;&amp; $resizeheight_tag)\r\n{\r\nif($widthratio&lt;$heightratio)\r\n$ratio = $widthratio;\r\nelse\r\n$ratio = $heightratio;\r\n}\r\n\r\nif($resizewidth_tag &amp;&amp; !$resizeheight_tag)\r\n$ratio = $widthratio;\r\nif($resizeheight_tag &amp;&amp; !$resizewidth_tag)\r\n$ratio = $heightratio;\r\n\r\n$newwidth = $pic_width * $ratio;\r\n$newheight = $pic_height * $ratio;\r\n\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n}\r\nelse\r\n{\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n}\r\nreturn imagejpeg($newim,$to);\r\n\r\n}\r\n?>\r\n</pre>\r\n', 'PHP按比例缩放图', '', 'inherit', 'open', '2012-12-03 18:47:54', 32, 'http://xpmyblog.sinaapp.com/?p=407', 0, 'revision', '', 0),
(409, 1, '2012-12-06 13:15:08', 'HTTP 400 - 请求无效\r\nHTTP 401.1 - 未授权：登录失败\r\nHTTP 401.2 - 未授权：服务器配置问题导致登录失败\r\nHTTP 401.3 - ACL 禁止访问资源\r\nHTTP 401.4 - 未授权：授权被筛选器拒绝\r\nHTTP 401.5 - 未授权：ISAPI 或 CGI 授权失败\r\n\r\nHTTP 403 - 禁止访问\r\nHTTP 403 - 对 Internet 服务管理器 的访问仅限于 Localhost\r\nHTTP 403.1 禁止访问：禁止可执行访问\r\nHTTP 403.2 - 禁止访问：禁止读访问\r\nHTTP 403.3 - 禁止访问：禁止写访问\r\nHTTP 403.4 - 禁止访问：要求 SSL\r\nHTTP 403.5 - 禁止访问：要求 SSL 128\r\nHTTP 403.6 - 禁止访问：IP 地址被拒绝\r\nHTTP 403.7 - 禁止访问：要求客户证书\r\nHTTP 403.8 - 禁止访问：禁止站点访问\r\nHTTP 403.9 - 禁止访问：连接的用户过多\r\nHTTP 403.10 - 禁止访问：配置无效\r\nHTTP 403.11 - 禁止访问：密码更改\r\nHTTP 403.12 - 禁止访问：映射器拒绝访问\r\nHTTP 403.13 - 禁止访问：客户证书已被吊销\r\nHTTP 403.15 - 禁止访问：客户访问许可过多\r\nHTTP 403.16 - 禁止访问：客户证书不可信或者无效\r\nHTTP 403.17 - 禁止访问：客户证书已经到期或者尚未生效 HTTP 404.1 -\r\n\r\n无法找到 Web 站点\r\nHTTP 404- 无法找到文件\r\nHTTP 405 - 资源被禁止\r\nHTTP 406 - 无法接受\r\nHTTP 407 - 要求代理身份验证\r\nHTTP 410 - 永远不可用\r\nHTTP 412 - 先决条件失败\r\nHTTP 414 - 请求 - URI 太长\r\nHTTP 500 - 内部服务器错误\r\nHTTP 500.100 - 内部服务器错误 - ASP 错误\r\nHTTP 500-11 服务器关闭\r\nHTTP 500-12 应用程序重新启动\r\nHTTP 500-13 - 服务器太忙\r\nHTTP 500-14 - 应用程序无效\r\nHTTP 500-15 - 不允许请求 global.asa\r\nError 501 - 未实现\r\nHTTP 502 - 网关错误\r\n用户试图通过 HTTP 或文件传输协议 (FTP) 访问一台正在运行 Internet 信息服务 (IIS) 的服务器上的内容时，IIS 返回一个表示该请求的状态的数字代码。该状态代码记录在\r\nIIS <a target="_self"><span style="text-decoration: underline;"><strong>日志</strong></span></a>中，同时也可能在 Web 浏览器或 FTP 客户端显示。状态代码可以指明具体请求是否已成功，还可以揭示请求失败的确切原因。\r\n日志文件的位置\r\n在默认状态下，IIS 把它的日志文件放在 %WINDIRSystem32Logfiles 文件夹中。每个万维网 (WWW) 站点和 FTP 站点在该目录下都有一个单独的目录。在默认状态下，每天都会在\r\n这些目录下创建日志文件，并用日期给日志文件命名（例如，exYYMMDD.log）。\r\nHTTP\r\n1xx - 信息提示\r\n\r\n这些状态代码表示临时的响应。客户端在收到常规响应之前，应准备接收一个或多个 1xx 响应。 • 100 - 继续。\r\n• 101 - 切换协议。\r\n2xx - 成功\r\n\r\n这类状态代码表明服务器成功地接受了客户端请求。 • 200 - 确定。客户端请求已成功。\r\n• 201 - 已创建。\r\n• 202 - 已接受。\r\n• 203 - 非权威性信息。\r\n• 204 - 无内容。\r\n• 205 - 重置内容。\r\n• 206 - 部分内容。\r\n3xx - 重定向\r\n\r\n客户端浏览器必须采取更多操作来实现请求。例如，浏览器可能不得不请求服务器上的不同的页面，或通过代理服务器重复该请求。 • 302 - 对象已移动。\r\n• 304 - 未修改。\r\n• 307 - 临时重定向。\r\n4xx - 客户端错误\r\n\r\n发生错误，客户端似乎有问题。例如，客户端请求不存在的页面，客户端未提供有效的身份验证信息。 • 400 - 错误的请求。\r\n• 401 - 访问被拒绝。IIS 定义了许多不同的 401 错误，它们指明更为具体的错误原因。这些具体的错误代码在浏览器中显示，但不在 IIS 日志中显示： • 401.1 - 登录失败。\r\n• 401.2 - 服务器配置导致登录失败。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。\r\n• 401.4 - 筛选器授权失败。\r\n• 401.5 - ISAPI/CGI 应用程序授权失败。\r\n• 401.7 – 访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 403 - 禁止访问：IIS 定义了许多不同的 403 错误，它们指明更为具体的错误原因： • 403.1 - 执行访问被禁止。\r\n• 403.2 - 读访问被禁止。\r\n• 403.3 - 写访问被禁止。\r\n• 403.4 - 要求 SSL。\r\n• 403.5 - 要求 SSL 128。\r\n• 403.6 - IP 地址被拒绝。\r\n• 403.7 - 要求客户端证书。\r\n• 403.8 - 站点访问被拒绝。\r\n• 403.9 - 用户数过多。\r\n• 403.10 - 配置无效。\r\n• 403.11 - 密码更改。\r\n• 403.12 - 拒绝访问映射表。\r\n• 403.13 - 客户端证书被吊销。\r\n• 403.14 - 拒绝目录列表。\r\n• 403.15 - 超出客户端访问许可。\r\n• 403.16 - 客户端证书不受信任或无效。\r\n• 403.17 - 客户端证书已过期或尚未生效。\r\n• 403.18 - 在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。\r\n• 403.19 - 不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。\r\n• 403.20 - Passport 登录失败。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 404 - 未找到。 • 404.0 -（无） – 没有找到文件或目录。\r\n• 404.1 - 无法在所请求的端口上访问 Web 站点。\r\n• 404.2 - Web 服务扩展锁定策略阻止本请求。\r\n• 404.3 - MIME 映射策略阻止本请求。\r\n\r\n• 405 - 用来访问本页面的 HTTP 谓词不被允许（方法不被允许）\r\n• 406 - 客户端浏览器不接受所请求页面的 MIME 类型。\r\n• 407 - 要求进行代理身份验证。\r\n• 412 - 前提条件失败。\r\n• 413 – 请求实体太大。\r\n• 414 - 请求 URI 太长。\r\n• 415 – 不支持的媒体类型。\r\n• 416 – 所请求的范围无法满足。\r\n• 417 – 执行失败。\r\n• 423 – 锁定的错误。\r\n5xx - 服务器错误\r\n\r\n服务器由于遇到错误而不能完成该请求。 • 500 - 内部服务器错误。 • 500.12 - 应用程序正忙于在 Web 服务器上重新启动。\r\n• 500.13 - Web 服务器太忙。\r\n• 500.15 - 不允许直接请求 Global.asa。\r\n• 500.16 – UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。\r\n• 500.18 – URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。\r\n• 500.100 - 内部 ASP 错误。\r\n\r\n• 501 - 页眉值指定了未实现的配置。\r\n• 502 - Web 服务器用作网关或代理服务器时收到了无效响应。 • 502.1 - CGI 应用程序超时。\r\n• 502.2 - CGI 应用程序出错。application.\r\n\r\n• 503 - 服务不可用。这个错误代码为 IIS 6.0 所专用。\r\n• 504 - 网关超时。\r\n• 505 - HTTP 版本不受支持。\r\n\r\n常见的 HTTP 状态代码及其原因\r\n• 200 - 成功。 此状态代码表示 IIS 已成功处理请求。\r\n• 304 - 未修改。 客户端请求的文档已在其缓存中，文档自缓存以来尚未被修改过。客户端使用文档的缓存副本，而不从服务器<a target="_self"><span style="text-decoration: underline;"><strong>下载</strong></span></a>文档。\r\n• 401.1 - 登录失败。 登录尝试不成功，可能因为用户名或密码无效。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。 这表示存在 NTFS 权限问题。即使您对试图访问的文件具备相应的权限，也可能发生此错误。例如，如果 IUSR 帐户无权访问\r\nC:WinntSystem32Inetsrv 目录，您会看到这个错误。 有关如何解决此问题的<a target="_self"><span style="text-decoration: underline;"><strong>其他</strong></span></a>信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n187506 INFO: IIS 4.0 的基础 NTFS 权限\r\n• 403.1 - 执行访问被禁止。 下面是导致此错误信息的两个常见原因： • 您没有足够的执行许可。例如，如果试图访问的 ASP 页所在的目录权限设为“无”，或者，试图执行的\r\nCGI 脚本所在的目录权限为“只允许脚本”，将出现此错误信息。若要修改执行权限，请在 Microsoft 管理控制台 (MMC) 中右击目录，然后依次单击属性和目录选项卡，确保为\r\n试图访问的内容设置适当的执行权限。\r\n• 您没有将试图执行的文件类型的脚本映射设置为识别所使用的谓词（例如，GET 或 POST）。若要验证这一点，请在 MMC 中右击目录，依次单击属性、目录选项卡和配置，然后\r\n验证相应文件类型的脚本映射是否设置为允许所使用的谓词。\r\n\r\n• 403.2 - 读访问被禁止。验证是否已将 IIS 设置为允许对目录进行读访问。另外，如果您正在使用默认文件，请验证该文件是否存在。 有关如何解决此问题的其他信息，请单\r\n击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n247677 错误信息：403.2 Forbidden:Read Access Forbidden（403.2 禁止访问：读访问被禁止）\r\n• 403.3 - 写访问被禁止。 验证 IIS 权限和 NTFS 权限是否已设置以便向该目录授予写访问权。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n248072 错误信息：403.3 Forbidden:Write Access Forbidden（403.3 禁止访问：写访问被禁止）\r\n• 403.4 - 要求 SSL。禁用要求安全通道选项，或使用 HTTPS 代替 HTTP 来访问该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看 Microsoft 知\r\n识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.5 - 要求 SSL 128。禁用要求 128 位加密选项，或使用支持 128 位加密的浏览器以查看该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看\r\nMicrosoft 知识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.6 - IP 地址被拒绝。您已把您的服务器配置为拒绝访问您目前的 IP 地址。 有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文\r\n章：\r\n248043 错误信息：403.6 - Forbidden:IP Address Rejected（403.6 - 不可用：IP 地址被拒绝）\r\n• 403.7 - 要求客户端证书。您已把您的服务器配置为要求客户端身份验证证书，但您未安装有效的客户端证书。 有关其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n190004 错误 403.7 或“Connection to Server Could Not Be Established”（无法建立与服务器的连接）\r\n186812 PRB：错误信息：403.7 Forbidden:Client Certificate Required（403.7 禁止访问：要求客户端证书）\r\n• 403.8 - 站点访问被拒绝。您已为您用来访问服务器的域设置了域名限制。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n248032 错误信息：Forbidden:Site Access Denied 403.8（禁止访问：站点访问被拒绝 403.8）\r\n• 403.9 - 用户数过多。与该服务器连接的用户数量超过了您设置的连接限制。 有关如何更改此限制的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文\r\n章：\r\n248074 错误信息：Access Forbidden:Too Many Users Are Connected 403.9（禁止访问：连接的用户太多 403.9）\r\n注意：Microsoft <a target="_self"><span style="text-decoration: underline;"><strong>Windows</strong></span></a> 2000 Professional 和 Microsoft Windows XP Professional 自动设置了在 IIS 上最多 10 个连接的限制。您无法更改此限制。\r\n• 403.12 - 拒绝访问映射表。 您要访问的页面要求提供客户端证书，但映射到您的客户端证书的用户 ID 已被拒绝访问该文件。 有关其他信息，请单击下面的文章编号，以查看\r\nMicrosoft 知识库中相应的文章：\r\n248075 错误信息：HTTP 403.12 - Access Forbidden:Mapper Denied Access（HTTP 403.12 - 禁止访问：映射表拒绝访问）\r\n• 404 - 未找到。 发生此错误的原因是您试图访问的文件已被移走或删除。如果在安装 URLScan 工具之后，试图访问带有有限扩展名的文件，也会发生此错误。这种情况下，该\r\n请求的日志文件项中将出现“Rejected by URLScan”的字样。\r\n• 500 - 内部服务器错误。 很多服务器端的错误都可能导致该错误信息。事件查看器日志包含更详细的错误原因。此外，您可以禁用友好 HTTP 错误信息以便收到详细的错误说明\r\n。 有关如何禁用友好 HTTP 错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n294807 如何在服务器端禁用 Internet Explorer 5 的“显示友好 HTTP 错误信息”功能\r\n• 500.12 - 应用程序正在重新启动。 这表示您在 IIS 重新启动应用程序的过程中试图加载 ASP 页。刷新页面后，此信息即会消失。如果刷新页面后，此信息再次出现，可能是\r\n防病毒软件正在扫描 Global.asa 文件。 有关其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n248013 错误信息：HTTP Error 500-12 Application Restarting（HTTP 错误 500-12 应用程序正在重新启动）\r\n• 500-100.ASP - ASP 错误。 如果试图加载的 ASP 页中含有错误代码，将出现此错误信息。若要获得更确切的错误信息，请禁用友好 HTTP 错误信息。默认情况下，只会在默认\r\nWeb 站点上启用此错误信息。有关如何在非默认的 Web 站点上看到此错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n261200 显示 HTTP 500 错误信息，而不显示 500-100.asp 的 ASP 错误信息\r\n• 502 - 网关错误。 如果试图运行的 CGI 脚本不返回有效的 HTTP 标头集，将出现此错误信息。\r\n\r\n-----------------------------------\r\n以上从别的地方转载的，具体地址忘了。', 'HTTP错误大全', '', 'publish', 'open', '2012-12-21 16:17:29', 0, 'http://xpmyblog.sinaapp.com/?p=409', 0, 'post', '', 0),
(410, 1, '2012-12-06 13:14:31', '', 'HTTP错误大全', '', 'inherit', 'open', '2012-12-06 13:14:31', 409, 'http://xpmyblog.sinaapp.com/?p=410', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(417, 1, '2012-12-06 13:15:08', 'HTTP 400 - 请求无效\r\nHTTP 401.1 - 未授权：登录失败\r\nHTTP 401.2 - 未授权：服务器配置问题导致登录失败\r\nHTTP 401.3 - ACL 禁止访问资源\r\nHTTP 401.4 - 未授权：授权被筛选器拒绝\r\nHTTP 401.5 - 未授权：ISAPI 或 CGI 授权失败\r\n\r\nHTTP 403 - 禁止访问\r\nHTTP 403 - 对 Internet 服务管理器 的访问仅限于 Localhost\r\nHTTP 403.1 禁止访问：禁止可执行访问\r\nHTTP 403.2 - 禁止访问：禁止读访问\r\nHTTP 403.3 - 禁止访问：禁止写访问\r\nHTTP 403.4 - 禁止访问：要求 SSL\r\nHTTP 403.5 - 禁止访问：要求 SSL 128\r\nHTTP 403.6 - 禁止访问：IP 地址被拒绝\r\nHTTP 403.7 - 禁止访问：要求客户证书\r\nHTTP 403.8 - 禁止访问：禁止站点访问\r\nHTTP 403.9 - 禁止访问：连接的用户过多\r\nHTTP 403.10 - 禁止访问：配置无效\r\nHTTP 403.11 - 禁止访问：密码更改\r\nHTTP 403.12 - 禁止访问：映射器拒绝访问\r\nHTTP 403.13 - 禁止访问：客户证书已被吊销\r\nHTTP 403.15 - 禁止访问：客户访问许可过多\r\nHTTP 403.16 - 禁止访问：客户证书不可信或者无效\r\nHTTP 403.17 - 禁止访问：客户证书已经到期或者尚未生效 HTTP 404.1 -\r\n\r\n无法找到 Web 站点\r\nHTTP 404- 无法找到文件\r\nHTTP 405 - 资源被禁止\r\nHTTP 406 - 无法接受\r\nHTTP 407 - 要求代理身份验证\r\nHTTP 410 - 永远不可用\r\nHTTP 412 - 先决条件失败\r\nHTTP 414 - 请求 - URI 太长\r\nHTTP 500 - 内部服务器错误\r\nHTTP 500.100 - 内部服务器错误 - ASP 错误\r\nHTTP 500-11 服务器关闭\r\nHTTP 500-12 应用程序重新启动\r\nHTTP 500-13 - 服务器太忙\r\nHTTP 500-14 - 应用程序无效\r\nHTTP 500-15 - 不允许请求 global.asa\r\nError 501 - 未实现\r\nHTTP 502 - 网关错误\r\n用户试图通过 HTTP 或文件传输协议 (FTP) 访问一台正在运行 Internet 信息服务 (IIS) 的服务器上的内容时，IIS 返回一个表示该请求的状态的数字代码。该状态代码记录在\r\nIIS <a target="_self"><span style="text-decoration: underline;"><strong>日志</strong></span></a>中，同时也可能在 Web 浏览器或 FTP 客户端显示。状态代码可以指明具体请求是否已成功，还可以揭示请求失败的确切原因。\r\n日志文件的位置\r\n在默认状态下，IIS 把它的日志文件放在 %WINDIRSystem32Logfiles 文件夹中。每个万维网 (WWW) 站点和 FTP 站点在该目录下都有一个单独的目录。在默认状态下，每天都会在\r\n这些目录下创建日志文件，并用日期给日志文件命名（例如，exYYMMDD.log）。\r\nHTTP\r\n1xx - 信息提示\r\n\r\n这些状态代码表示临时的响应。客户端在收到常规响应之前，应准备接收一个或多个 1xx 响应。 • 100 - 继续。\r\n• 101 - 切换协议。\r\n2xx - 成功\r\n\r\n这类状态代码表明服务器成功地接受了客户端请求。 • 200 - 确定。客户端请求已成功。\r\n• 201 - 已创建。\r\n• 202 - 已接受。\r\n• 203 - 非权威性信息。\r\n• 204 - 无内容。\r\n• 205 - 重置内容。\r\n• 206 - 部分内容。\r\n3xx - 重定向\r\n\r\n客户端浏览器必须采取更多操作来实现请求。例如，浏览器可能不得不请求服务器上的不同的页面，或通过代理服务器重复该请求。 • 302 - 对象已移动。\r\n• 304 - 未修改。\r\n• 307 - 临时重定向。\r\n4xx - 客户端错误\r\n\r\n发生错误，客户端似乎有问题。例如，客户端请求不存在的页面，客户端未提供有效的身份验证信息。 • 400 - 错误的请求。\r\n• 401 - 访问被拒绝。IIS 定义了许多不同的 401 错误，它们指明更为具体的错误原因。这些具体的错误代码在浏览器中显示，但不在 IIS 日志中显示： • 401.1 - 登录失败。\r\n• 401.2 - 服务器配置导致登录失败。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。\r\n• 401.4 - 筛选器授权失败。\r\n• 401.5 - ISAPI/CGI 应用程序授权失败。\r\n• 401.7 – 访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 403 - 禁止访问：IIS 定义了许多不同的 403 错误，它们指明更为具体的错误原因： • 403.1 - 执行访问被禁止。\r\n• 403.2 - 读访问被禁止。\r\n• 403.3 - 写访问被禁止。\r\n• 403.4 - 要求 SSL。\r\n• 403.5 - 要求 SSL 128。\r\n• 403.6 - IP 地址被拒绝。\r\n• 403.7 - 要求客户端证书。\r\n• 403.8 - 站点访问被拒绝。\r\n• 403.9 - 用户数过多。\r\n• 403.10 - 配置无效。\r\n• 403.11 - 密码更改。\r\n• 403.12 - 拒绝访问映射表。\r\n• 403.13 - 客户端证书被吊销。\r\n• 403.14 - 拒绝目录列表。\r\n• 403.15 - 超出客户端访问许可。\r\n• 403.16 - 客户端证书不受信任或无效。\r\n• 403.17 - 客户端证书已过期或尚未生效。\r\n• 403.18 - 在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。\r\n• 403.19 - 不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。\r\n• 403.20 - Passport 登录失败。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 404 - 未找到。 • 404.0 -（无） – 没有找到文件或目录。\r\n• 404.1 - 无法在所请求的端口上访问 Web 站点。\r\n• 404.2 - Web 服务扩展锁定策略阻止本请求。\r\n• 404.3 - MIME 映射策略阻止本请求。\r\n\r\n• 405 - 用来访问本页面的 HTTP 谓词不被允许（方法不被允许）\r\n• 406 - 客户端浏览器不接受所请求页面的 MIME 类型。\r\n• 407 - 要求进行代理身份验证。\r\n• 412 - 前提条件失败。\r\n• 413 – 请求实体太大。\r\n• 414 - 请求 URI 太长。\r\n• 415 – 不支持的媒体类型。\r\n• 416 – 所请求的范围无法满足。\r\n• 417 – 执行失败。\r\n• 423 – 锁定的错误。\r\n5xx - 服务器错误\r\n\r\n服务器由于遇到错误而不能完成该请求。 • 500 - 内部服务器错误。 • 500.12 - 应用程序正忙于在 Web 服务器上重新启动。\r\n• 500.13 - Web 服务器太忙。\r\n• 500.15 - 不允许直接请求 Global.asa。\r\n• 500.16 – UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。\r\n• 500.18 – URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。\r\n• 500.100 - 内部 ASP 错误。\r\n\r\n• 501 - 页眉值指定了未实现的配置。\r\n• 502 - Web 服务器用作网关或代理服务器时收到了无效响应。 • 502.1 - CGI 应用程序超时。\r\n• 502.2 - CGI 应用程序出错。application.\r\n\r\n• 503 - 服务不可用。这个错误代码为 IIS 6.0 所专用。\r\n• 504 - 网关超时。\r\n• 505 - HTTP 版本不受支持。\r\n\r\n常见的 HTTP 状态代码及其原因\r\n• 200 - 成功。 此状态代码表示 IIS 已成功处理请求。\r\n• 304 - 未修改。 客户端请求的文档已在其缓存中，文档自缓存以来尚未被修改过。客户端使用文档的缓存副本，而不从服务器<a target="_self"><span style="text-decoration: underline;"><strong>下载</strong></span></a>文档。\r\n• 401.1 - 登录失败。 登录尝试不成功，可能因为用户名或密码无效。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。 这表示存在 NTFS 权限问题。即使您对试图访问的文件具备相应的权限，也可能发生此错误。例如，如果 IUSR 帐户无权访问\r\nC:WinntSystem32Inetsrv 目录，您会看到这个错误。 有关如何解决此问题的<a target="_self"><span style="text-decoration: underline;"><strong>其他</strong></span></a>信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n187506 INFO: IIS 4.0 的基础 NTFS 权限\r\n• 403.1 - 执行访问被禁止。 下面是导致此错误信息的两个常见原因： • 您没有足够的执行许可。例如，如果试图访问的 ASP 页所在的目录权限设为“无”，或者，试图执行的\r\nCGI 脚本所在的目录权限为“只允许脚本”，将出现此错误信息。若要修改执行权限，请在 Microsoft 管理控制台 (MMC) 中右击目录，然后依次单击属性和目录选项卡，确保为\r\n试图访问的内容设置适当的执行权限。\r\n• 您没有将试图执行的文件类型的脚本映射设置为识别所使用的谓词（例如，GET 或 POST）。若要验证这一点，请在 MMC 中右击目录，依次单击属性、目录选项卡和配置，然后\r\n验证相应文件类型的脚本映射是否设置为允许所使用的谓词。\r\n\r\n• 403.2 - 读访问被禁止。验证是否已将 IIS 设置为允许对目录进行读访问。另外，如果您正在使用默认文件，请验证该文件是否存在。 有关如何解决此问题的其他信息，请单\r\n击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n247677 错误信息：403.2 Forbidden:Read Access Forbidden（403.2 禁止访问：读访问被禁止）\r\n• 403.3 - 写访问被禁止。 验证 IIS 权限和 NTFS 权限是否已设置以便向该目录授予写访问权。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n248072 错误信息：403.3 Forbidden:Write Access Forbidden（403.3 禁止访问：写访问被禁止）\r\n• 403.4 - 要求 SSL。禁用要求安全通道选项，或使用 HTTPS 代替 HTTP 来访问该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看 Microsoft 知\r\n识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.5 - 要求 SSL 128。禁用要求 128 位加密选项，或使用支持 128 位加密的浏览器以查看该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看\r\nMicrosoft 知识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.6 - IP 地址被拒绝。您已把您的服务器配置为拒绝访问您目前的 IP 地址。 有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文\r\n章：\r\n248043 错误信息：403.6 - Forbidden:IP Address Rejected（403.6 - 不可用：IP 地址被拒绝）\r\n• 403.7 - 要求客户端证书。您已把您的服务器配置为要求客户端身份验证证书，但您未安装有效的客户端证书。 有关其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n190004 错误 403.7 或“Connection to Server Could Not Be Established”（无法建立与服务器的连接）\r\n186812 PRB：错误信息：403.7 Forbidden:Client Certificate Required（403.7 禁止访问：要求客户端证书）\r\n• 403.8 - 站点访问被拒绝。您已为您用来访问服务器的域设置了域名限制。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n248032 错误信息：Forbidden:Site Access Denied 403.8（禁止访问：站点访问被拒绝 403.8）\r\n• 403.9 - 用户数过多。与该服务器连接的用户数量超过了您设置的连接限制。 有关如何更改此限制的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文\r\n章：\r\n248074 错误信息：Access Forbidden:Too Many Users Are Connected 403.9（禁止访问：连接的用户太多 403.9）\r\n注意：Microsoft <a target="_self"><span style="text-decoration: underline;"><strong>Windows</strong></span></a> 2000 Professional 和 Microsoft Windows XP Professional 自动设置了在 IIS 上最多 10 个连接的限制。您无法更改此限制。\r\n• 403.12 - 拒绝访问映射表。 您要访问的页面要求提供客户端证书，但映射到您的客户端证书的用户 ID 已被拒绝访问该文件。 有关其他信息，请单击下面的文章编号，以查看\r\nMicrosoft 知识库中相应的文章：\r\n248075 错误信息：HTTP 403.12 - Access Forbidden:Mapper Denied Access（HTTP 403.12 - 禁止访问：映射表拒绝访问）\r\n• 404 - 未找到。 发生此错误的原因是您试图访问的文件已被移走或删除。如果在安装 URLScan 工具之后，试图访问带有有限扩展名的文件，也会发生此错误。这种情况下，该\r\n请求的日志文件项中将出现“Rejected by URLScan”的字样。\r\n• 500 - 内部服务器错误。 很多服务器端的错误都可能导致该错误信息。事件查看器日志包含更详细的错误原因。此外，您可以禁用友好 HTTP 错误信息以便收到详细的错误说明\r\n。 有关如何禁用友好 HTTP 错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n294807 如何在服务器端禁用 Internet Explorer 5 的“显示友好 HTTP 错误信息”功能\r\n• 500.12 - 应用程序正在重新启动。 这表示您在 IIS 重新启动应用程序的过程中试图加载 ASP 页。刷新页面后，此信息即会消失。如果刷新页面后，此信息再次出现，可能是\r\n防病毒软件正在扫描 Global.asa 文件。 有关其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n248013 错误信息：HTTP Error 500-12 Application Restarting（HTTP 错误 500-12 应用程序正在重新启动）\r\n• 500-100.ASP - ASP 错误。 如果试图加载的 ASP 页中含有错误代码，将出现此错误信息。若要获得更确切的错误信息，请禁用友好 HTTP 错误信息。默认情况下，只会在默认\r\nWeb 站点上启用此错误信息。有关如何在非默认的 Web 站点上看到此错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n261200 显示 HTTP 500 错误信息，而不显示 500-100.asp 的 ASP 错误信息\r\n• 502 - 网关错误。 如果试图运行的 CGI 脚本不返回有效的 HTTP 标头集，将出现此错误信息。', 'HTTP错误大全', '', 'inherit', 'open', '2012-12-06 13:15:08', 409, '', 0, 'revision', '', 0),
(418, 1, '2012-12-11 10:42:01', 'HTTP 400 - 请求无效\r\nHTTP 401.1 - 未授权：登录失败\r\nHTTP 401.2 - 未授权：服务器配置问题导致登录失败\r\nHTTP 401.3 - ACL 禁止访问资源\r\nHTTP 401.4 - 未授权：授权被筛选器拒绝\r\nHTTP 401.5 - 未授权：ISAPI 或 CGI 授权失败\r\n\r\nHTTP 403 - 禁止访问\r\nHTTP 403 - 对 Internet 服务管理器 的访问仅限于 Localhost\r\nHTTP 403.1 禁止访问：禁止可执行访问\r\nHTTP 403.2 - 禁止访问：禁止读访问\r\nHTTP 403.3 - 禁止访问：禁止写访问\r\nHTTP 403.4 - 禁止访问：要求 SSL\r\nHTTP 403.5 - 禁止访问：要求 SSL 128\r\nHTTP 403.6 - 禁止访问：IP 地址被拒绝\r\nHTTP 403.7 - 禁止访问：要求客户证书\r\nHTTP 403.8 - 禁止访问：禁止站点访问\r\nHTTP 403.9 - 禁止访问：连接的用户过多\r\nHTTP 403.10 - 禁止访问：配置无效\r\nHTTP 403.11 - 禁止访问：密码更改\r\nHTTP 403.12 - 禁止访问：映射器拒绝访问\r\nHTTP 403.13 - 禁止访问：客户证书已被吊销\r\nHTTP 403.15 - 禁止访问：客户访问许可过多\r\nHTTP 403.16 - 禁止访问：客户证书不可信或者无效\r\nHTTP 403.17 - 禁止访问：客户证书已经到期或者尚未生效 HTTP 404.1 -\r\n\r\n无法找到 Web 站点\r\nHTTP 404- 无法找到文件\r\nHTTP 405 - 资源被禁止\r\nHTTP 406 - 无法接受\r\nHTTP 407 - 要求代理身份验证\r\nHTTP 410 - 永远不可用\r\nHTTP 412 - 先决条件失败\r\nHTTP 414 - 请求 - URI 太长\r\nHTTP 500 - 内部服务器错误\r\nHTTP 500.100 - 内部服务器错误 - ASP 错误\r\nHTTP 500-11 服务器关闭\r\nHTTP 500-12 应用程序重新启动\r\nHTTP 500-13 - 服务器太忙\r\nHTTP 500-14 - 应用程序无效\r\nHTTP 500-15 - 不允许请求 global.asa\r\nError 501 - 未实现\r\nHTTP 502 - 网关错误\r\n用户试图通过 HTTP 或文件传输协议 (FTP) 访问一台正在运行 Internet 信息服务 (IIS) 的服务器上的内容时，IIS 返回一个表示该请求的状态的数字代码。该状态代码记录在\r\nIIS <a target="_self"><span style="text-decoration: underline;"><strong>日志</strong></span></a>中，同时也可能在 Web 浏览器或 FTP 客户端显示。状态代码可以指明具体请求是否已成功，还可以揭示请求失败的确切原因。\r\n日志文件的位置\r\n在默认状态下，IIS 把它的日志文件放在 %WINDIRSystem32Logfiles 文件夹中。每个万维网 (WWW) 站点和 FTP 站点在该目录下都有一个单独的目录。在默认状态下，每天都会在\r\n这些目录下创建日志文件，并用日期给日志文件命名（例如，exYYMMDD.log）。\r\nHTTP\r\n1xx - 信息提示\r\n\r\n这些状态代码表示临时的响应。客户端在收到常规响应之前，应准备接收一个或多个 1xx 响应。 • 100 - 继续。\r\n• 101 - 切换协议。\r\n2xx - 成功\r\n\r\n这类状态代码表明服务器成功地接受了客户端请求。 • 200 - 确定。客户端请求已成功。\r\n• 201 - 已创建。\r\n• 202 - 已接受。\r\n• 203 - 非权威性信息。\r\n• 204 - 无内容。\r\n• 205 - 重置内容。\r\n• 206 - 部分内容。\r\n3xx - 重定向\r\n\r\n客户端浏览器必须采取更多操作来实现请求。例如，浏览器可能不得不请求服务器上的不同的页面，或通过代理服务器重复该请求。 • 302 - 对象已移动。\r\n• 304 - 未修改。\r\n• 307 - 临时重定向。\r\n4xx - 客户端错误\r\n\r\n发生错误，客户端似乎有问题。例如，客户端请求不存在的页面，客户端未提供有效的身份验证信息。 • 400 - 错误的请求。\r\n• 401 - 访问被拒绝。IIS 定义了许多不同的 401 错误，它们指明更为具体的错误原因。这些具体的错误代码在浏览器中显示，但不在 IIS 日志中显示： • 401.1 - 登录失败。\r\n• 401.2 - 服务器配置导致登录失败。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。\r\n• 401.4 - 筛选器授权失败。\r\n• 401.5 - ISAPI/CGI 应用程序授权失败。\r\n• 401.7 – 访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 403 - 禁止访问：IIS 定义了许多不同的 403 错误，它们指明更为具体的错误原因： • 403.1 - 执行访问被禁止。\r\n• 403.2 - 读访问被禁止。\r\n• 403.3 - 写访问被禁止。\r\n• 403.4 - 要求 SSL。\r\n• 403.5 - 要求 SSL 128。\r\n• 403.6 - IP 地址被拒绝。\r\n• 403.7 - 要求客户端证书。\r\n• 403.8 - 站点访问被拒绝。\r\n• 403.9 - 用户数过多。\r\n• 403.10 - 配置无效。\r\n• 403.11 - 密码更改。\r\n• 403.12 - 拒绝访问映射表。\r\n• 403.13 - 客户端证书被吊销。\r\n• 403.14 - 拒绝目录列表。\r\n• 403.15 - 超出客户端访问许可。\r\n• 403.16 - 客户端证书不受信任或无效。\r\n• 403.17 - 客户端证书已过期或尚未生效。\r\n• 403.18 - 在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。\r\n• 403.19 - 不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。\r\n• 403.20 - Passport 登录失败。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 404 - 未找到。 • 404.0 -（无） – 没有找到文件或目录。\r\n• 404.1 - 无法在所请求的端口上访问 Web 站点。\r\n• 404.2 - Web 服务扩展锁定策略阻止本请求。\r\n• 404.3 - MIME 映射策略阻止本请求。\r\n\r\n• 405 - 用来访问本页面的 HTTP 谓词不被允许（方法不被允许）\r\n• 406 - 客户端浏览器不接受所请求页面的 MIME 类型。\r\n• 407 - 要求进行代理身份验证。\r\n• 412 - 前提条件失败。\r\n• 413 – 请求实体太大。\r\n• 414 - 请求 URI 太长。\r\n• 415 – 不支持的媒体类型。\r\n• 416 – 所请求的范围无法满足。\r\n• 417 – 执行失败。\r\n• 423 – 锁定的错误。\r\n5xx - 服务器错误\r\n\r\n服务器由于遇到错误而不能完成该请求。 • 500 - 内部服务器错误。 • 500.12 - 应用程序正忙于在 Web 服务器上重新启动。\r\n• 500.13 - Web 服务器太忙。\r\n• 500.15 - 不允许直接请求 Global.asa。\r\n• 500.16 – UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。\r\n• 500.18 – URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。\r\n• 500.100 - 内部 ASP 错误。\r\n\r\n• 501 - 页眉值指定了未实现的配置。\r\n• 502 - Web 服务器用作网关或代理服务器时收到了无效响应。 • 502.1 - CGI 应用程序超时。\r\n• 502.2 - CGI 应用程序出错。application.\r\n\r\n• 503 - 服务不可用。这个错误代码为 IIS 6.0 所专用。\r\n• 504 - 网关超时。\r\n• 505 - HTTP 版本不受支持。\r\n\r\n常见的 HTTP 状态代码及其原因\r\n• 200 - 成功。 此状态代码表示 IIS 已成功处理请求。\r\n• 304 - 未修改。 客户端请求的文档已在其缓存中，文档自缓存以来尚未被修改过。客户端使用文档的缓存副本，而不从服务器<a target="_self"><span style="text-decoration: underline;"><strong>下载</strong></span></a>文档。\r\n• 401.1 - 登录失败。 登录尝试不成功，可能因为用户名或密码无效。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。 这表示存在 NTFS 权限问题。即使您对试图访问的文件具备相应的权限，也可能发生此错误。例如，如果 IUSR 帐户无权访问\r\nC:WinntSystem32Inetsrv 目录，您会看到这个错误。 有关如何解决此问题的<a target="_self"><span style="text-decoration: underline;"><strong>其他</strong></span></a>信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n187506 INFO: IIS 4.0 的基础 NTFS 权限\r\n• 403.1 - 执行访问被禁止。 下面是导致此错误信息的两个常见原因： • 您没有足够的执行许可。例如，如果试图访问的 ASP 页所在的目录权限设为“无”，或者，试图执行的\r\nCGI 脚本所在的目录权限为“只允许脚本”，将出现此错误信息。若要修改执行权限，请在 Microsoft 管理控制台 (MMC) 中右击目录，然后依次单击属性和目录选项卡，确保为\r\n试图访问的内容设置适当的执行权限。\r\n• 您没有将试图执行的文件类型的脚本映射设置为识别所使用的谓词（例如，GET 或 POST）。若要验证这一点，请在 MMC 中右击目录，依次单击属性、目录选项卡和配置，然后\r\n验证相应文件类型的脚本映射是否设置为允许所使用的谓词。\r\n\r\n• 403.2 - 读访问被禁止。验证是否已将 IIS 设置为允许对目录进行读访问。另外，如果您正在使用默认文件，请验证该文件是否存在。 有关如何解决此问题的其他信息，请单\r\n击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n247677 错误信息：403.2 Forbidden:Read Access Forbidden（403.2 禁止访问：读访问被禁止）\r\n• 403.3 - 写访问被禁止。 验证 IIS 权限和 NTFS 权限是否已设置以便向该目录授予写访问权。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n248072 错误信息：403.3 Forbidden:Write Access Forbidden（403.3 禁止访问：写访问被禁止）\r\n• 403.4 - 要求 SSL。禁用要求安全通道选项，或使用 HTTPS 代替 HTTP 来访问该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看 Microsoft 知\r\n识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.5 - 要求 SSL 128。禁用要求 128 位加密选项，或使用支持 128 位加密的浏览器以查看该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看\r\nMicrosoft 知识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.6 - IP 地址被拒绝。您已把您的服务器配置为拒绝访问您目前的 IP 地址。 有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文\r\n章：\r\n248043 错误信息：403.6 - Forbidden:IP Address Rejected（403.6 - 不可用：IP 地址被拒绝）\r\n• 403.7 - 要求客户端证书。您已把您的服务器配置为要求客户端身份验证证书，但您未安装有效的客户端证书。 有关其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n190004 错误 403.7 或“Connection to Server Could Not Be Established”（无法建立与服务器的连接）\r\n186812 PRB：错误信息：403.7 Forbidden:Client Certificate Required（403.7 禁止访问：要求客户端证书）\r\n• 403.8 - 站点访问被拒绝。您已为您用来访问服务器的域设置了域名限制。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n248032 错误信息：Forbidden:Site Access Denied 403.8（禁止访问：站点访问被拒绝 403.8）\r\n• 403.9 - 用户数过多。与该服务器连接的用户数量超过了您设置的连接限制。 有关如何更改此限制的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文\r\n章：\r\n248074 错误信息：Access Forbidden:Too Many Users Are Connected 403.9（禁止访问：连接的用户太多 403.9）\r\n注意：Microsoft <a target="_self"><span style="text-decoration: underline;"><strong>Windows</strong></span></a> 2000 Professional 和 Microsoft Windows XP Professional 自动设置了在 IIS 上最多 10 个连接的限制。您无法更改此限制。\r\n• 403.12 - 拒绝访问映射表。 您要访问的页面要求提供客户端证书，但映射到您的客户端证书的用户 ID 已被拒绝访问该文件。 有关其他信息，请单击下面的文章编号，以查看\r\nMicrosoft 知识库中相应的文章：\r\n248075 错误信息：HTTP 403.12 - Access Forbidden:Mapper Denied Access（HTTP 403.12 - 禁止访问：映射表拒绝访问）\r\n• 404 - 未找到。 发生此错误的原因是您试图访问的文件已被移走或删除。如果在安装 URLScan 工具之后，试图访问带有有限扩展名的文件，也会发生此错误。这种情况下，该\r\n请求的日志文件项中将出现“Rejected by URLScan”的字样。\r\n• 500 - 内部服务器错误。 很多服务器端的错误都可能导致该错误信息。事件查看器日志包含更详细的错误原因。此外，您可以禁用友好 HTTP 错误信息以便收到详细的错误说明\r\n。 有关如何禁用友好 HTTP 错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n294807 如何在服务器端禁用 Internet Explorer 5 的“显示友好 HTTP 错误信息”功能\r\n• 500.12 - 应用程序正在重新启动。 这表示您在 IIS 重新启动应用程序的过程中试图加载 ASP 页。刷新页面后，此信息即会消失。如果刷新页面后，此信息再次出现，可能是\r\n防病毒软件正在扫描 Global.asa 文件。 有关其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n248013 错误信息：HTTP Error 500-12 Application Restarting（HTTP 错误 500-12 应用程序正在重新启动）\r\n• 500-100.ASP - ASP 错误。 如果试图加载的 ASP 页中含有错误代码，将出现此错误信息。若要获得更确切的错误信息，请禁用友好 HTTP 错误信息。默认情况下，只会在默认\r\nWeb 站点上启用此错误信息。有关如何在非默认的 Web 站点上看到此错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n261200 显示 HTTP 500 错误信息，而不显示 500-100.asp 的 ASP 错误信息\r\n• 502 - 网关错误。 如果试图运行的 CGI 脚本不返回有效的 HTTP 标头集，将出现此错误信息。\r\n\r\n从别的地方转载的，具体地址忘了。', 'HTTP错误大全', '', 'inherit', 'open', '2012-12-11 10:42:01', 409, 'http://xpmyblog.sinaapp.com/?p=418', 0, 'revision', '', 0),
(419, 1, '2012-12-11 18:51:06', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\r\n\r\n第一步：\r\nhtml端就不说了，<pre class="brush: html;"><input type="file" name="imagefile" class="file" id="fileField" size="28"></pre>\r\n<p></p>\r\n第二步：\r\n<pre class="brush: py;">\r\n#encoding:utf8\r\nimport os\r\nfrom django.template import loader, Context\r\nfrom django.http import HttpResponse\r\nfrom django.http import HttpResponseRedirect\r\nfrom funny.gallery.models import User, Photo, Tag\r\nfrom django.db.models import Q\r\nfrom django.shortcuts import render_to_response\r\nimport md5\r\nimport json\r\nimport Image\r\n#------------------------------------------ 上面是头部需要import的\r\n\r\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\r\n    reqfile = request.FILES[''imagefile'']\r\n    _type = reqfile.content_type.split("/")[-1]\r\n\r\n    if _type not in typelist:\r\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\r\n    #print type(reqfile),reqfile.__dict__\r\n    #print reqfile._size\r\n\r\n    import uuid\r\n    name = uuid.uuid4().hex\r\n    directory = "uploadphotos/1/"\r\n    if not os.path.exists(directory): os.mkdir(directory)\r\n\r\n    file_name = directory + name + "." + _type\r\n    f = file(file_name, "wb")\r\n    f.write(reqfile.read())\r\n    f.close()\r\n\r\n    reqfile.seek(0)\r\n    image = Image.open(reqfile)\r\n    image.thumbnail((150,150),Image.ANTIALIAS)\r\n    imagename = directory + name +''thumb.''+_type\r\n    image.save(imagename, _type)\r\n\r\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\r\n\r\n</pre>\r\n\r\n<p></p>\r\n注释我就不加了，程序从上往下看。', 'python Django自定义上传图片', '', 'publish', 'open', '2013-01-09 19:32:21', 0, 'http://xpmyblog.sinaapp.com/?p=419', 0, 'post', '', 0),
(420, 1, '2012-12-11 18:35:04', 'python Django上传图片,还要循环创建文件夹\n\n第一步：\nhtml端就不说了，<input type="file" name="imagefile" class="file" id="fileField" size="28">\n<p></p>\n第二步：\n<pre>\n    reqfile = request.FILES[''imagefile'']\n    _type = reqfile.content_type.split("/")[-1]   #获得后缀名\n    #print type(reqfile),reqfile.__dict__\n\n    import uuid\n    name = uuid.uuid4().hex\n    directory = "uploadphotos/"\n    os.mkdir(directory)    #创建文件夹\n\n    file_name = directory + name + "." + _type\n    f = file(file_name, "wb")\n    f.write(reqfile.read())      #先存储源图片\n    f.close()\n\n    reqfile.seek(0)\n    image = Image.open(reqfile)\n    image.thumbnail((150,150),Image.ANTIALIAS)    #自动按比例缩小\n    imagename = directory + name +''thumb.''+_type\n    image.save(imagename, _type)   #再存储缩略图\n</pre>\n\n', 'python Django上传图片', '', 'inherit', 'open', '2012-12-11 18:35:04', 419, 'http://xpmyblog.sinaapp.com/?p=420', 0, 'revision', '', 0),
(421, 1, '2012-12-11 18:50:10', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\n\n第一步：\nhtml端就不说了，<input type="file" name="imagefile" class="file" id="fileField" size="28">\n<p></p>\n第二步：\n<pre>\n#encoding:utf8\nimport os\nfrom django.template import loader, Context\nfrom django.http import HttpResponse\nfrom django.http import HttpResponseRedirect\nfrom funny.gallery.models import User, Photo, Tag\nfrom django.db.models import Q\nfrom django.shortcuts import render_to_response\nimport md5\nimport json\nimport Image\n#------------------------------------------ 上面是头部需要import的\n\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\n    reqfile = request.FILES[''imagefile'']\n    _type = reqfile.content_type.split("/")[-1]\n\n    if _type not in typelist:\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\n    #print type(reqfile),reqfile.__dict__\n    #print reqfile._size\n\n    import uuid\n    name = uuid.uuid4().hex\n    userid = request.session.get("userid")\n    directory = "uploadphotos/" + ''%d'' %userid + "/"\n    if not os.path.exists(directory): os.mkdir(directory)\n\n    file_name = directory + name + "." + _type\n    f = file(file_name, "wb")\n    f.write(reqfile.read())\n    f.close()\n\n    reqfile.seek(0)\n    image = Image.open(reqfile)\n    image.thumbnail((150,150),Image.ANTIALIAS)\n    imagename = directory + name +''thumb.''+_type\n    image.save(imagename, _type)\n\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\n</pre>\n\nzhushi', 'python Django自定义上传图片', '', 'inherit', 'open', '2012-12-11 18:50:10', 419, 'http://xpmyblog.sinaapp.com/?p=421', 0, 'revision', '', 0),
(422, 1, '2012-12-11 18:51:06', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\r\n\r\n第一步：\r\nhtml端就不说了，<input type="file" name="imagefile" class="file" id="fileField" size="28">\r\n<p></p>\r\n第二步：\r\n<pre>\r\n#encoding:utf8\r\nimport os\r\nfrom django.template import loader, Context\r\nfrom django.http import HttpResponse\r\nfrom django.http import HttpResponseRedirect\r\nfrom funny.gallery.models import User, Photo, Tag\r\nfrom django.db.models import Q\r\nfrom django.shortcuts import render_to_response\r\nimport md5\r\nimport json\r\nimport Image\r\n#------------------------------------------ 上面是头部需要import的\r\n\r\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\r\n    reqfile = request.FILES[''imagefile'']\r\n    _type = reqfile.content_type.split("/")[-1]\r\n\r\n    if _type not in typelist:\r\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\r\n    #print type(reqfile),reqfile.__dict__\r\n    #print reqfile._size\r\n\r\n    import uuid\r\n    name = uuid.uuid4().hex\r\n    directory = "uploadphotos/1/"\r\n    if not os.path.exists(directory): os.mkdir(directory)\r\n\r\n    file_name = directory + name + "." + _type\r\n    f = file(file_name, "wb")\r\n    f.write(reqfile.read())\r\n    f.close()\r\n\r\n    reqfile.seek(0)\r\n    image = Image.open(reqfile)\r\n    image.thumbnail((150,150),Image.ANTIALIAS)\r\n    imagename = directory + name +''thumb.''+_type\r\n    image.save(imagename, _type)\r\n\r\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\r\n</pre>\r\n\r\n<p></p>\r\n注释我就不加了，程序从上往下看。', 'python Django自定义上传图片', '', 'inherit', 'open', '2012-12-11 18:51:06', 419, 'http://xpmyblog.sinaapp.com/?p=422', 0, 'revision', '', 0),
(423, 1, '2012-12-11 18:51:34', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\r\n\r\n第一步：\r\nhtml端就不说了，<pre><input type="file" name="imagefile" class="file" id="fileField" size="28"></pre>\r\n<p></p>\r\n第二步：\r\n<pre>\r\n#encoding:utf8\r\nimport os\r\nfrom django.template import loader, Context\r\nfrom django.http import HttpResponse\r\nfrom django.http import HttpResponseRedirect\r\nfrom funny.gallery.models import User, Photo, Tag\r\nfrom django.db.models import Q\r\nfrom django.shortcuts import render_to_response\r\nimport md5\r\nimport json\r\nimport Image\r\n#------------------------------------------ 上面是头部需要import的\r\n\r\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\r\n    reqfile = request.FILES[''imagefile'']\r\n    _type = reqfile.content_type.split("/")[-1]\r\n\r\n    if _type not in typelist:\r\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\r\n    #print type(reqfile),reqfile.__dict__\r\n    #print reqfile._size\r\n\r\n    import uuid\r\n    name = uuid.uuid4().hex\r\n    directory = "uploadphotos/1/"\r\n    if not os.path.exists(directory): os.mkdir(directory)\r\n\r\n    file_name = directory + name + "." + _type\r\n    f = file(file_name, "wb")\r\n    f.write(reqfile.read())\r\n    f.close()\r\n\r\n    reqfile.seek(0)\r\n    image = Image.open(reqfile)\r\n    image.thumbnail((150,150),Image.ANTIALIAS)\r\n    imagename = directory + name +''thumb.''+_type\r\n    image.save(imagename, _type)\r\n\r\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\r\n</pre>\r\n\r\n<p></p>\r\n注释我就不加了，程序从上往下看。', 'python Django自定义上传图片', '', 'inherit', 'open', '2012-12-11 18:51:34', 419, 'http://xpmyblog.sinaapp.com/?p=423', 0, 'revision', '', 0),
(424, 1, '2012-12-12 21:21:24', '今天下午，看见有位兄台在群里发了一个功能需求，问有没有人做，我就出于好奇的目的，问问看。\r\n那位兄台就说了，“输入我要转化的连接，生成一个短连接，我用这个短连接去发微薄，手机端和PC端，都能访问正常。”\r\n我就热火朝天做了起来。\r\n中间那位兄台跟我解释再解释。\r\n\r\n哦，原来输入的是淘宝客的链接。\r\n。。。。。\r\n最后做出来的，手机不支持。\r\n。。。。。。\r\n\r\n我非常的不明白，这个淘宝客链接有两个，一个是手机端，一个是PC端，你只有一个连接，怎么能使生成的短链接灵活的跳到两个链接里呢。\r\n\r\n我就想，只能根据商品ID，key，密钥才能生成两个链接。\r\n\r\n。。。。。。\r\n\r\n到家跟那位仁兄说了我的想法。结果。。。。\r\n\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名.jpg"><img class="alignnone size-medium wp-image-425" title="淘宝客" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名-700x335.jpg" alt="" width="700" height="335" /></a>\r\n\r\n看到上面的图了没，只有一个链接，而且还是PC端的。我。。。。。。总算明白了需求，但是不会做。', '到现在才明白那位兄台说的啥意思', '', 'private', 'open', '2012-12-19 17:53:04', 0, 'http://xpmyblog.sinaapp.com/?p=424', 0, 'post', '', 0),
(425, 1, '2012-12-12 21:17:42', '', '淘宝客', '', 'inherit', 'open', '2012-12-12 21:17:42', 424, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名.jpg', 0, 'attachment', 'image/jpeg', 0),
(426, 1, '2012-12-12 21:20:29', '今天下午，看见有位兄台在群里发了一个功能需求，问有没有人做，我就出于好奇的目的，问问看。\n那位兄台就说了，“输入我要转化的连接，生成一个短连接，我用这个短连接去发微薄，手机端和PC端，都能访问正常。”\n我就热火朝天做了起来。\n中间那位兄台跟我解释再解释。\n\n哦，原来输入的是淘宝客的链接。\n。。。。。\n最后做出来的，手机不支持。\n。。。。。。\n\n我非常的不明白，这个淘宝客链接有两个，一个是手机端，一个是PC端，你只有一个连接，怎么能使生成的短链接灵活的跳到两个链接里呢。\n\n我就想，只能根据商品ID，key，密钥，生成两个链接。\n\n。。。。。。\n\n到家跟那位仁兄说了我的想法。结果。。。。\n\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名.jpg"><img class="alignnone size-medium wp-image-425" title="淘宝客" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名-700x335.jpg" alt="" width="700" height="335" /></a>\n\n看到上面的图了没，只有一个链接，而且还是PC端的。我。。。。。。不会了，', '到现在才明白那位兄台说的啥意思', '', 'inherit', 'open', '2012-12-12 21:20:29', 424, 'http://xpmyblog.sinaapp.com/?p=426', 0, 'revision', '', 0),
(427, 1, '2012-12-11 18:52:05', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\r\n\r\n第一步：\r\nhtml端就不说了，<pre><input type="file" name="imagefile" class="file" id="fileField" size="28"></pre>\r\n<p></p>\r\n第二步：\r\n<pre>\r\n#encoding:utf8\r\nimport os\r\nfrom django.template import loader, Context\r\nfrom django.http import HttpResponse\r\nfrom django.http import HttpResponseRedirect\r\nfrom funny.gallery.models import User, Photo, Tag\r\nfrom django.db.models import Q\r\nfrom django.shortcuts import render_to_response\r\nimport md5\r\nimport json\r\nimport Image\r\n#------------------------------------------ 上面是头部需要import的\r\n\r\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\r\n    reqfile = request.FILES[''imagefile'']\r\n    _type = reqfile.content_type.split("/")[-1]\r\n\r\n    if _type not in typelist:\r\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\r\n    #print type(reqfile),reqfile.__dict__\r\n    #print reqfile._size\r\n\r\n    import uuid\r\n    name = uuid.uuid4().hex\r\n    directory = "uploadphotos/1/"\r\n    if not os.path.exists(directory): os.mkdir(directory)\r\n\r\n    file_name = directory + name + "." + _type\r\n    f = file(file_name, "wb")\r\n    f.write(reqfile.read())\r\n    f.close()\r\n\r\n    reqfile.seek(0)\r\n    image = Image.open(reqfile)\r\n    image.thumbnail((150,150),Image.ANTIALIAS)\r\n    imagename = directory + name +''thumb.''+_type\r\n    image.save(imagename, _type)\r\n\r\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\r\n\r\n</pre>\r\n\r\n<p></p>\r\n注释我就不加了，程序从上往下看。', 'python Django自定义上传图片', '', 'inherit', 'open', '2012-12-11 18:52:05', 419, 'http://xpmyblog.sinaapp.com/?p=427', 0, 'revision', '', 0),
(428, 1, '2012-12-13 17:28:33', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\r\n\r\n第一步：\r\nhtml端就不说了，<pre><input type="file" name="imagefile" class="file" id="fileField" size="28"></pre>\r\n<p></p>\r\n第二步：\r\n<pre class="brush: py;">\r\n#encoding:utf8\r\nimport os\r\nfrom django.template import loader, Context\r\nfrom django.http import HttpResponse\r\nfrom django.http import HttpResponseRedirect\r\nfrom funny.gallery.models import User, Photo, Tag\r\nfrom django.db.models import Q\r\nfrom django.shortcuts import render_to_response\r\nimport md5\r\nimport json\r\nimport Image\r\n#------------------------------------------ 上面是头部需要import的\r\n\r\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\r\n    reqfile = request.FILES[''imagefile'']\r\n    _type = reqfile.content_type.split("/")[-1]\r\n\r\n    if _type not in typelist:\r\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\r\n    #print type(reqfile),reqfile.__dict__\r\n    #print reqfile._size\r\n\r\n    import uuid\r\n    name = uuid.uuid4().hex\r\n    directory = "uploadphotos/1/"\r\n    if not os.path.exists(directory): os.mkdir(directory)\r\n\r\n    file_name = directory + name + "." + _type\r\n    f = file(file_name, "wb")\r\n    f.write(reqfile.read())\r\n    f.close()\r\n\r\n    reqfile.seek(0)\r\n    image = Image.open(reqfile)\r\n    image.thumbnail((150,150),Image.ANTIALIAS)\r\n    imagename = directory + name +''thumb.''+_type\r\n    image.save(imagename, _type)\r\n\r\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\r\n\r\n</pre>\r\n\r\n<p></p>\r\n注释我就不加了，程序从上往下看。', 'python Django自定义上传图片', '', 'inherit', 'open', '2012-12-13 17:28:33', 419, 'http://xpmyblog.sinaapp.com/?p=428', 0, 'revision', '', 0),
(429, 1, '2012-11-13 22:05:56', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre>\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用 settings.py\r\n在django.contrib.auth下添加django.contrib.admin,mysite.blog\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre>\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件。\r\n\r\n6、然后models.py内容为\r\n<pre>\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n发布文章的时候，如果发现blog_blogpost表不存在，就再执行下manage.py syncdb', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-11-13 22:05:56', 390, 'http://xpmyblog.sinaapp.com/?p=429', 0, 'revision', '', 0),
(430, 1, '2012-12-13 17:29:40', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre class="brush: py;">\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用 settings.py\r\n在django.contrib.auth下添加django.contrib.admin,mysite.blog\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre>\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件。\r\n\r\n6、然后models.py内容为\r\n<pre>\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n发布文章的时候，如果发现blog_blogpost表不存在，就再执行下manage.py syncdb', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-12-13 17:29:40', 390, 'http://xpmyblog.sinaapp.com/?p=430', 0, 'revision', '', 0),
(431, 1, '2012-10-18 17:43:28', '<pre lang="php">\r\n<?php\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n\r\n?>\r\n\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-10-18 17:43:28', 350, '', 0, 'revision', '', 0),
(432, 1, '2012-10-18 17:43:28', '<pre lang="php">\r\n<?php\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n\r\n?>\r\n\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-10-18 17:43:28', 350, 'http://xpmyblog.sinaapp.com/?p=432', 0, 'revision', '', 0),
(433, 1, '2012-12-13 17:30:49', '<pre lang="php">\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-12-13 17:30:49', 350, 'http://xpmyblog.sinaapp.com/?p=433', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(434, 1, '2012-12-13 17:30:58', '<pre class="brush: py;">\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-12-13 17:30:58', 350, 'http://xpmyblog.sinaapp.com/?p=434', 0, 'revision', '', 0),
(435, 1, '2012-12-13 17:31:17', '<pre class="brush: py;">\r\n<?php\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n?>\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-12-13 17:31:17', 350, 'http://xpmyblog.sinaapp.com/?p=435', 0, 'revision', '', 0),
(436, 1, '2012-11-01 11:26:44', 'zclip\r\n<pre>\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>zclip test</title>\r\n<meta name="generator" content="editplus" />\r\n<meta name="author" content="" />\r\n<meta name="keywords" content="" />\r\n<meta name="description" content="" />\r\n<style type="text/css">\r\na{ color:#000; text-decoration:none;}\r\na:hover{ color:blue;}\r\n</style>\r\n<script type="text/javascript" src="jquery-1.4.min.js"></script>\r\n<script type="text/javascript" src="jquery.zclip.js"></script>\r\n<script type="text/javascript">\r\n$(document).ready(function(){\r\n    $("#copy-button").zclip({\r\n		path: "ZeroClipboard.swf",\r\n		copy: function(){\r\n			return $("#text-to-copy").val();\r\n		},\r\n		beforeCopy:function(){\r\n            $(''.try'').css(''background'',''yellow'');\r\n            $(''#text-to-copy'').css(''color'',''orange'');\r\n        },\r\n        afterCopy:function(){\r\n            $(''.try'').css(''background'',''green'');\r\n            $(''#text-to-copy'').css(''color'',''purple'');\r\n        }\r\n	});\r\n});\r\n</script>\r\n</head>\r\n\r\n<body>\r\n<div class="try">\r\n<textarea id="text-to-copy" onfocus="if(this.value==''Type your text here.'')this.value='''';" onblur="if(this.value=='''')this.value=''Type your text here.'';">Type your text here.</textarea>\r\n<a id="copy-button" href="#">Copy</a>\r\n</div>\r\n</body>\r\n</html>\r\n</pre>\r\n下载地址：<a href="http://www.steamdev.com/zclip/archive/jquery.zclip.1.1.1.zip">jquery.zclip.1.1.1.zip ~8KB</a>', '兼容任何浏览器的复制', '', 'inherit', 'open', '2012-11-01 11:26:44', 337, 'http://xpmyblog.sinaapp.com/?p=436', 0, 'revision', '', 0),
(437, 1, '2012-12-13 17:32:49', 'zclip\r\n<pre class="brush: html;">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>zclip test</title>\r\n<meta name="generator" content="editplus" />\r\n<meta name="author" content="" />\r\n<meta name="keywords" content="" />\r\n<meta name="description" content="" />\r\n<style type="text/css">\r\na{ color:#000; text-decoration:none;}\r\na:hover{ color:blue;}\r\n</style>\r\n<script type="text/javascript" src="jquery-1.4.min.js"></script>\r\n<script type="text/javascript" src="jquery.zclip.js"></script>\r\n<script type="text/javascript">\r\n$(document).ready(function(){\r\n    $("#copy-button").zclip({\r\n		path: "ZeroClipboard.swf",\r\n		copy: function(){\r\n			return $("#text-to-copy").val();\r\n		},\r\n		beforeCopy:function(){\r\n            $(''.try'').css(''background'',''yellow'');\r\n            $(''#text-to-copy'').css(''color'',''orange'');\r\n        },\r\n        afterCopy:function(){\r\n            $(''.try'').css(''background'',''green'');\r\n            $(''#text-to-copy'').css(''color'',''purple'');\r\n        }\r\n	});\r\n});\r\n</script>\r\n</head>\r\n\r\n<body>\r\n<div class="try">\r\n<textarea id="text-to-copy" onfocus="if(this.value==''Type your text here.'')this.value='''';" onblur="if(this.value=='''')this.value=''Type your text here.'';">Type your text here.</textarea>\r\n<a id="copy-button" href="#">Copy</a>\r\n</div>\r\n</body>\r\n</html>\r\n</pre>\r\n下载地址：<a href="http://www.steamdev.com/zclip/archive/jquery.zclip.1.1.1.zip">jquery.zclip.1.1.1.zip ~8KB</a>', '兼容任何浏览器的复制', '', 'inherit', 'open', '2012-12-13 17:32:49', 337, 'http://xpmyblog.sinaapp.com/?p=437', 0, 'revision', '', 0),
(438, 1, '2012-11-01 11:27:04', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre lang="javascript">function js_unescape($str)\r\n{\r\n    $ret = '''';\r\n    $len = strlen($str);\r\n    for ($i = 0; $i < $len; $i++) {\r\n        if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n            $val = hexdec(substr($str, $i+2, 4));\r\n            if ($val < 0x7f) $ret .= chr($val);\r\n            else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n            else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n            $i += 5;\r\n        }else if ($str[$i] == ''%''){\r\n            $ret .= urldecode(substr($str, $i, 3));\r\n            $i += 2;\r\n	}else{\r\n            $ret .= $str[$i];\r\n	}\r\n}\r\n    return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-11-01 11:27:04', 248, 'http://xpmyblog.sinaapp.com/?p=438', 0, 'revision', '', 0),
(439, 1, '2012-11-01 11:27:17', '//Post方式提交表单  \r\n<pre lang="javascript">\r\nfunction PostSubmit(url, data, msg) {  \r\n    var postUrl = url;//提交地址  \r\n    var postData = data;//第一个数据  \r\n    var msgData = msg;//第二个数据  \r\n    var ExportForm = document.createElement("FORM");  \r\n    document.body.appendChild(ExportForm);  \r\n    ExportForm.method = "POST";  \r\n    var newElement = document.createElement("input");  \r\n    newElement.setAttribute("name", "sn");  \r\n    newElement.setAttribute("type", "hidden");  \r\n    var newElement2 = document.createElement("input");  \r\n    newElement2.setAttribute("name", "no");  \r\n    newElement2.setAttribute("type", "hidden");  \r\n    ExportForm.appendChild(newElement);  \r\n    ExportForm.appendChild(newElement2);  \r\n    newElement.value = postData;  \r\n    newElement2.value = msgData;  \r\n    ExportForm.action = postUrl;  \r\n    ExportForm.submit();  \r\n}\r\n</pre>\r\n\r\n\r\n转自：http://blog.csdn.net/zhensoft163/article/details/7298161', 'JavaScript 实现POST方式提交表单', '', 'inherit', 'open', '2012-11-01 11:27:17', 224, 'http://xpmyblog.sinaapp.com/?p=439', 0, 'revision', '', 0),
(440, 1, '2012-11-01 11:27:25', '<pre lang="javascript">\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>javascript云标签</title>\r\n</head>\r\n<body>\r\n<div id="wrap" style="width:400px;">  \r\n   <a href="#">web标准学习</a><a href="#">css</a>  \r\n   <a href="#">javascript</a><a href="#">html5</a>  \r\n   <a href="#">canvas</a><a href="#">video</a>  \r\n   <a href="#">audio</a><a href="#">jQuery</a>  \r\n   <a href="#">jQuerymobile</a><a href="#">flash</a>  \r\n   <a href="#">firefox</a><a href="#">chrome</a>  \r\n   <a href="#">opera</a><a href="#">IE9</a>  \r\n   <a href="#">css3.0</a><a href="#">andriod</a>  \r\n   <a href="#">apple</a><a href="#">google</a><a href="#">jobs</a>  \r\n</div>  \r\n<script type="text/javascript">\r\nvar rand = function(num){\r\n	return parseInt(Math.random()*num+1);  \r\n}\r\n\r\nvar randomcolor = function(){\r\n	var str=Math.ceil(Math.random()*16777215).toString(16);  \r\n	if(str.length<6){  \r\n		str="0"+str;  \r\n	}  \r\n	return str;\r\n}\r\n\r\nvar obj = document.getElementsByTagName("a");\r\nvar len = obj.length;\r\nfor(len,i=len;i--;){  \r\n	obj[i].style.left=rand(600)+"px";  \r\n	obj[i].style.top=rand(400)+"px";  \r\n	obj[i].className="color"+rand(5);  \r\n	obj[i].style.zIndex=rand(5);  \r\n	obj[i].style.fontSize=rand(12)+12+"px";  \r\n//	obj[i].style.background="#"+randomcolor();  \r\n	obj[i].style.color="#"+randomcolor();  \r\n	obj[i].onmouseover=function(){  \r\n		this.style.background="#"+randomcolor();  \r\n	}  \r\n	obj[i].onmouseout=function(){  \r\n		this.style.background="none";  \r\n	}  \r\n} \r\n</script>\r\n</body>\r\n</html>\r\n\r\n</pre>', '为大家送上javascript云标签，希望大家喜欢！', '', 'inherit', 'open', '2012-11-01 11:27:25', 163, 'http://xpmyblog.sinaapp.com/?p=440', 0, 'revision', '', 0),
(441, 1, '2012-11-01 11:27:30', '<pre lang="php">\r\n<object id="MediaPlayer" width="320" height="240" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6"\r\ncodebase= "http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"\r\nstandby="Loading Microsoft? Windows Media? Player components..." type="application/x-oleobject" >\r\n<param name="AudioStream" value="-1">\r\n<param name="URL" value="11111111.wmv">\r\n<param name="UIMode" value="full">\r\n<param name="AutoStart" value="true">\r\n<param name="Enabled" value="true">\r\n<param name="enableContextMenu" value="true">\r\n</object>\r\n</pre>', '在网页上播放wmv视频格式的代码', '', 'inherit', 'open', '2012-11-01 11:27:30', 152, 'http://xpmyblog.sinaapp.com/?p=441', 0, 'revision', '', 0),
(442, 1, '2011-10-06 17:43:49', '经常遇到 Flash 插入到网页 Div 层后就不显示了。解决方法是将插入到网页中的 Flash 设置为透明 flash，将 wmode 赋值为 transparent，以下为旧式插入方式：\r\n<pre lang="php">\r\n<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0 width=550 height=400>\r\n<param name=movie value=test.swf>\r\n<param name=quality value=high>\r\n<param name=wmode value=transparent>\r\n<embed src=http://www.59bj.com/test.swf width=550 height=400 quality=high pluginspage=http://www.macromedia.com/go/getflashplayer type=application/x-shockwave-flash wmode=transparent></embed>\r\n</object>\r\n</pre>', 'DIV层遇到FLASH不显示的问题', '', 'inherit', 'open', '2011-10-06 17:43:49', 93, 'http://xpmyblog.sinaapp.com/?p=442', 0, 'revision', '', 0),
(443, 1, '2012-12-13 17:38:16', '一般Apache下，我们一般用openssl组件为网站生成证书，方法如下\n一，安装环境配置\n先检查是否已安装openssl,mod_ssl\n<pre class="brush: bash;">\nrpm -qa | grep openssl\nrpm -qa | grep mod_ssl\n</pre>\n安装组件\n<pre>\nyum install mod_ssl\nyum install openssl\n</pre>\n\n二、配置密钥\n步骤1：生成密钥\n命令：openssl genrsa 1024 > server.key\n说明：这是用128位rsa算法生成密钥，得到server.key文件\n\n步骤2: 生成证书请求\n命令：openssl req -new -key server.key > server.csr\n说明：这是用步骤1的密钥生成证书请求文件server.csr, 这一步提很多问题，一一输入\n\n步骤2: 生成证书请求\n命令：openssl req -x509 -days 365 -key server.key -in server.csr > server.crt\n说明：这是用步骤1,2的的密钥和证书请求生成证书server.crt，-days参数指明证书有效期，单位为天\n\nhttpd.conf配置文件中有\n<pre>\nInclude conf.d/*.conf\n</pre>\n那么在conf.d文件夹下会看到ssl.conf类似的文件。\n\n修改这三个参数\n<pre>\nSSLCertificateFile path/ server.crt\nSSLCertificateKeyFile path/ server.key\nSSLCACertificateFile path/ ca.crt\n</pre>\n\n三、启动ssl服务\n*/apachectl startssl\n会要求输入server.key的密码\n或者重启apache\n', 'redhat/cenos下apache安装https证书环境', '', 'inherit', 'open', '2012-12-13 17:38:16', 220, 'http://xpmyblog.sinaapp.com/?p=443', 0, 'revision', '', 0),
(444, 1, '2012-11-01 11:24:42', '一般Apache下，我们一般用openssl组件为网站生成证书，方法如下\r\n一，安装环境配置\r\n先检查是否已安装openssl,mod_ssl\r\n<pre>\r\nrpm -qa | grep openssl\r\nrpm -qa | grep mod_ssl\r\n</pre>\r\n安装组件\r\n<pre>\r\nyum install mod_ssl\r\nyum install openssl\r\n</pre>\r\n\r\n二、配置密钥\r\n步骤1：生成密钥\r\n命令：openssl genrsa 1024 > server.key\r\n说明：这是用128位rsa算法生成密钥，得到server.key文件\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -new -key server.key > server.csr\r\n说明：这是用步骤1的密钥生成证书请求文件server.csr, 这一步提很多问题，一一输入\r\n\r\n步骤2: 生成证书请求\r\n命令：openssl req -x509 -days 365 -key server.key -in server.csr > server.crt\r\n说明：这是用步骤1,2的的密钥和证书请求生成证书server.crt，-days参数指明证书有效期，单位为天\r\n\r\nhttpd.conf配置文件中有\r\n<pre>\r\nInclude conf.d/*.conf\r\n</pre>\r\n那么在conf.d文件夹下会看到ssl.conf类似的文件。\r\n\r\n修改这三个参数\r\n<pre>\r\nSSLCertificateFile path/ server.crt\r\nSSLCertificateKeyFile path/ server.key\r\nSSLCACertificateFile path/ ca.crt\r\n</pre>\r\n\r\n三、启动ssl服务\r\n*/apachectl startssl\r\n会要求输入server.key的密码\r\n或者重启apache\r\n\r\n', 'redhat/cenos下apache安装https证书环境', '', 'inherit', 'open', '2012-11-01 11:24:42', 220, 'http://xpmyblog.sinaapp.com/?p=444', 0, 'revision', '', 0),
(445, 1, '2012-06-18 22:34:09', '下面是配置nginx负载均衡的简单示例文件,主要作用是:\r\nwww.s135.com 和 blog.s135.com 域名均指向 Nginx 所在的服务器IP。用户访问http://www.s135.com，将其负载均衡到192.168.1.2:80、92.168.1.3:80、192.168.1.4:80、192.168.1.5:80四台服务器。用户访问http://blog.s135.com，将其负载均衡到192.168.1.7服务器的8080、8081、8082端口。获取用户真实ＩＰ.\r\n<pre lang="php">\r\nuser  www www;\r\n \r\nworker_processes 10;\r\n \r\n#error_log  logs/error.log;\r\n#error_log  logs/error.log  notice;\r\n#error_log  logs/error.log  info;\r\n \r\n#pid        logs/nginx.pid;\r\n \r\n#最大文件描述符\r\nworker_rlimit_nofile 51200;\r\n \r\nevents\r\n{\r\n      use epoll;\r\n \r\n      worker_connections 51200;\r\n}\r\n \r\nhttp\r\n{\r\n      include       conf/mime.types;\r\n      default_type  application/octet-stream;\r\n \r\n      keepalive_timeout 120;\r\n \r\n      tcp_nodelay on;\r\n \r\n      upstream  www.s135.com  {\r\n              server   192.168.1.2:80;\r\n              server   192.168.1.3:80;\r\n              server   192.168.1.4:80;\r\n              server   192.168.1.5:80;\r\n      }\r\n \r\n      upstream  blog.s135.com  {\r\n              server   192.168.1.7:8080;\r\n              server   192.168.1.7:8081;\r\n              server   192.168.1.7:8082;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  www.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://www.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  www_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/www.log  www_s135_com;\r\n      }\r\n \r\n      server\r\n      {\r\n              listen  80;\r\n              server_name  blog.s135.com;\r\n \r\n              location / {\r\n                       proxy_pass        http://blog.s135.com;\r\n                       proxy_set_header   Host             $host;\r\n                       proxy_set_header   X-Real-IP        $remote_addr;\r\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\r\n              }\r\n \r\n              log_format  blog_s135_com  ''$remote_addr - $remote_user [$time_local] $request ''\r\n                                ''"$status" $body_bytes_sent "$http_referer" ''\r\n                                ''"$http_user_agent" "$http_x_forwarded_for"'';\r\n              access_log  /data1/logs/blog.log  blog_s135_com;\r\n      }\r\n}\r\n</pre>\r\n\r\n\r\n这里主要用到两个模块:\r\n１.HTTP负载均衡模块（HTTP Upstream）,其中的一些字段解释:\r\nserver:指定后端服务器的名称和一些参数，可以使用域名，IP，端口，或者unix socket。如果指定为域名，则首先将其解析为IP。\r\nupstream:这个字段设置一群服务器，可以将这个字段放在proxy_pass和fastcgi_pass指令中作为一个单独的实体，它们可以可以是监听不同端口的服务器，并且也可以是同时监听TCP和Unix socket的服务器。\r\n２.HTTP代理模块（HTTP Proxy）\r\n这个模块可以转发请求到其他的服务器。\r\nproxy_pass:这个指令设置被代理服务器的地址和被映射的URI，地址可以使用主机名或IP加端口号的形式\r\nproxy_set_header:这个指令允许将发送到被代理服务器的请求头重新定义或者增加一些字段。这个值可以是一个文本，变量或者它们的组合。', 'Nginx实现HTTP负载均衡', '', 'inherit', 'open', '2012-06-18 22:34:09', 212, 'http://xpmyblog.sinaapp.com/?p=445', 0, 'revision', '', 0),
(446, 1, '2012-11-01 11:23:26', '前端优化，利用.htaceess控制图片，js，css缓存时间提升网页加载速度。\r\n\r\nAdd an Expires or a Cache-Control Header：\r\n\r\n简单点说：就是缓存一下不常修改的文件，提升访问速度。\r\n再简单点说：就是在.htaccess文件中写入以下内容：\r\n\r\n<pre lang="php">\r\n<IfModule mod_expires.c>\r\nExpiresActive On\r\nExpiresDefault A600\r\nExpiresByType image/x-icon A2592000\r\nExpiresByType application/x-javascript A2592000\r\nExpiresByType text/css A604800\r\nExpiresByType image/gif A2592000\r\nExpiresByType image/png A2592000\r\nExpiresByType image/jpeg A2592000\r\nExpiresByType text/plain A86400\r\nExpiresByType application/x-shockwave-flash A2592000\r\nExpiresByType video/x-flv A2592000\r\nExpiresByType application/pdf A2592000\r\nExpiresByType text/html A600\r\n</IfModule> \r\n</pre>\r\n解释一下。ExpiresByType 是通过MIME类型来设置具体文件的缓存时间，A表示访问，A后面的数字表示访问后的缓存时间。AddOutputFilterByType表示根据后面 的MIME类型来压缩文件，这里对css，html，gif，jpeg，png，JavaScript等进行gzip压缩。\r\n更多选项请参考apache手册吧。\r\n\r\n\r\n\r\n文章来源：合肥网产品中心  <a href="http://lab.wehefei.com/posts/405">http://lab.wehefei.com/posts/405</a>\r\n', '前端优化，利用.htaceess控制图片，js，css缓存时间提升加载速度', '', 'inherit', 'open', '2012-11-01 11:23:26', 119, 'http://xpmyblog.sinaapp.com/?p=446', 0, 'revision', '', 0),
(447, 1, '2011-09-23 16:27:10', 'vim 版本 7.3 for win 环境。使用到的 VIM 插件列表：\r\n1、NERD Tree – http://www.vim.org/scripts/script.php?script_id=1658\r\n2、Zencoding – http://www.vim.org/scripts/script.php?script_id=2981\r\n3、NERD Commenter – http://www.vim.org/scripts/script.php?script_id=1218\r\n4、winmanager\r\n\r\n<pre lang="php">\r\nset nocompatible\r\nsource $VIMRUNTIME/vimrc_example.vim\r\nsource $VIMRUNTIME/mswin.vim\r\nbehave mswin\r\n\r\nset diffexpr=MyDiff()\r\nfunction MyDiff()\r\n  let opt = ''-a --binary ''\r\n  if &diffopt =~ ''icase'' | let opt = opt . ''-i '' | endif\r\n  if &diffopt =~ ''iwhite'' | let opt = opt . ''-b '' | endif\r\n  let arg1 = v:fname_in\r\n  if arg1 =~ '' '' | let arg1 = ''"'' . arg1 . ''"'' | endif\r\n  let arg2 = v:fname_new\r\n  if arg2 =~ '' '' | let arg2 = ''"'' . arg2 . ''"'' | endif\r\n  let arg3 = v:fname_out\r\n  if arg3 =~ '' '' | let arg3 = ''"'' . arg3 . ''"'' | endif\r\n  let eq = ''''\r\n  if $VIMRUNTIME =~ '' ''\r\n    if &sh =~ ''\\<cmd''\r\n      let cmd = ''""'' . $VIMRUNTIME . ''\\diff"''\r\n      let eq = ''"''\r\n    else\r\n      let cmd = substitute($VIMRUNTIME, '' '', ''" '', '''') . ''\\diff"''\r\n    endif\r\n  else\r\n    let cmd = $VIMRUNTIME . ''\\diff''\r\n  endif\r\n  silent execute ''!'' . cmd . '' '' . opt . arg1 . '' '' . arg2 . '' > '' . arg3 . eq\r\nendfunction\r\n\r\nnmap :!ctags -R *\r\n\r\n" ============================================================================\r\n" File: _vimrc\r\n" xuping, 2011\r\n" ============================================================================\r\nset autochdir               " 自动切换当前目录为当前文件所在的目录\r\nset cursorline              " 突出显示当前行\r\nset equalalways             " 分割窗口时保持相等的宽/高\r\nset nocompatible            " 关闭 vi 兼容模式\r\nset number                  " 显示行号\r\nset nobackup                " 覆盖文件时不备份\r\nset noswapfile              " 编辑时不产生交换文件\r\nset noexpandtab             " 插入 tab 符号不以空格替换\r\nset history=1000            " 设置冒号命令和搜索命令的命令历史列表的长度\r\nset autoindent              " 开启自动缩进\r\nset smartindent             " 开启新行时使用智能自动缩进\r\nset smarttab                " 开启新行时使用智能 tab 缩进\r\nset tabstop=4               " 设定 tab 长度为 4\r\nset shiftwidth=4            " 设定 << 和 >> 命令移动时的宽度为 4\r\nset showmatch               " 插入括号时，短暂地跳转到匹配的对应括号\r\n"set guifont=Bitstream_Vera_Sans_Mono:h12:b:cANSI\r\nset backspace=indent,eol,start\r\n" 不设定在插入状态无法用退格键和 Delete 键删除回车符\r\nset guioptions=t            " 隐藏菜单栏、工具栏、滚动条\r\nset ruler                   " 打开状态栏标尺\r\nset incsearch               " 输入搜索内容时就显示搜索结果\r\nset hlsearch                " 搜索时高亮显示被找到的文本\r\nset ignorecase              " 搜索时忽略大小写\r\nset fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1\r\n\r\ncolorscheme darkeclipse     " 配色方案\r\nsyntax on                   " 自动语法高亮\r\n\r\nfiletype plugin indent on\r\n\r\n"-----------------------------------------------------------------\r\n" Omni Complete 自动补全\r\n"-----------------------------------------------------------------\r\nautocmd FileType html set omnifunc=htmlcomplete#CompleteTags\r\nautocmd FileType css set omnifunc=csscomplete#CompleteCSS\r\nautocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS\r\nautocmd FileType php set omnifunc=phpcomplete#CompletePHP\r\nautocmd FileType python set omnifunc=pythoncomplete#Complete\r\n\r\nau GUIEnter * simalt ~x\r\n\r\n"-----------------------------------------------------------------\r\n" F2 工具栏和菜单栏交替切换\r\n"-----------------------------------------------------------------\r\nmap <silent> <F2> :if &guioptions =~# ''T'' <Bar>\r\n\\set guioptions-=T <Bar>\r\n\\set guioptions-=m <bar>\r\n\\else <Bar>\r\n\\set guioptions+=T <Bar>\r\n\\set guioptions+=m <Bar>\r\n\\endif<CR>\r\n\r\n"-----------------------------------------------------------------\r\n" plugin - NERD_tree.vim 以树状方式浏览系统中的文件和目录\r\n" :NERDtree 打开NERD_tree         :NERDtreeClose    关闭NERD_tree\r\n" o 打开关闭文件或者目录         t 在标签页中打开\r\n" T 在后台标签页中打开           ! 执行此文件\r\n" p 到上层目录                   P 到根目录\r\n" K 到第一个节点                 J 到最后一个节点\r\n" u 打开上层目录                 m 显示文件系统菜单（添加、删除、移动操作）\r\n" r 递归刷新当前目录             R 递归刷新当前根目录\r\n"-----------------------------------------------------------------\r\n" F3 NERDTree 切换\r\nmap <F3> :NERDTreeToggle<CR>\r\nimap <F3> <ESC>:NERDTreeToggle<CR>\r\n\r\n"-----------------------------------------------------------------\r\n" plugin - zencoding.vim 快速生成 HTML代码\r\n" CTRL+E 展开 zencoding 代码片段\r\n"-----------------------------------------------------------------\r\nlet g:user_zen_expandabbr_key = ''<c-e>''\r\nlet g:use_zen_complete_tag = 1\r\n\r\n"-----------------------------------------------------------------\r\n" plugin - NERD_commenter.vim 注释代码用的\r\n" [count],cc 光标以下count行逐行添加注释(7,cc)\r\n" [count],cu 光标以下count行逐行取消注释(7,cu)\r\n" [count],cm 光标以下count行尝试添加块注释(7,cm)\r\n" ,cA 在行尾插入 /* */,并且进入插入模式。 这个命令方便写注释\r\n" 注：count参数可选，无则默认为选中行或当前行\r\n"-----------------------------------------------------------------\r\nlet NERDSpaceDelims=1       " 让注释符与语句之间留一个空格\r\nlet NERDCompactSexyComs=1   " 多行注释时样子更好看\r\n\r\n" winmanager\r\n" 设置界面分割\r\nlet g:winManagerWindowLayout=''FileExplorer|TagList''\r\n\r\n" 设置winmanager的宽度，默认为25\r\n\r\nlet g:winManagerWidth = 30\r\n\r\n" 定义打开关闭winmanager按键\r\n\r\nnmap <F4> :WMToggle<CR>\r\n\r\n</pre>\r\n\r\n然后再把这个配色方案保存到color目录下，http://vimcolorschemetest.googlecode.com/svn/colors/darkeclipse.vim\r\nOK,看看炫不炫吧!!!\r\n\r\n\r\n\r\n', '看我的gvim _vimrc配置', '', 'inherit', 'open', '2011-09-23 16:27:10', 102, 'http://xpmyblog.sinaapp.com/?p=447', 0, 'revision', '', 0),
(448, 1, '2012-09-12 17:25:39', '调用方法:\r\n<pre lang="php">\r\n<?php\r\nrequire_once("ZabbixAPI.class.php");\r\n// This enables debugging, this is rather verbose but can help debug problems\r\nZabbixAPI::debugEnabled(TRUE);\r\n\r\n// This logs into Zabbix, and returns false if it fails\r\n//ZabbixAPI::debugEnabled(true);\r\nZabbixAPI::login(''host'',''user'',''passwd'');\r\n\r\n$a = ZabbixAPI::fetch_array(''template'',''get'');\r\n?>\r\n</pre>\r\n<pre>\r\n1. Javier commented on January 25th, 2012 at 9:54 AM PST  \r\nI found the solution in the next commentary: tcpsyn commented on March 22nd, 2011 at 8:45 AM PST Interesting. I found somewhere that the issue was solved by uncommenting ZabbixAPI::debugEnabled(TRUE); ... This was not in this version of your wrapper. I added it to line 89 and now can use the api. Weird.\r\n\r\n2. Michel Groenescheij commented on February 22nd, 2012 at 1:47 AM PST  \r\nAs we successfully worked with your API under Zabbix 1.8, we now run into problems after we upgraded to Zabbix 2.0. Can you tell us if your API is compatible with ZabbixAPI 2.0?\r\n\r\n3. korvet commented on February 22nd, 2012 at 10:55 AM PST  \r\nHow to return hostid using ZabbixAPI::query ''host'',''create''\r\n\r\n4. Chris commented on May 2nd, 2012 at 5:30 AM PST  \r\nIf you got the "Call to undefined method stdClass::__login()" error (like I did in php 5.3), then fix the ZabbixAPI.class.php file by replacing the line: if (get_class(self::$instance) != "ZabbixAPI") with if (!self::$instance || get_class(self::$instance) != "ZabbixAPI")\r\n\r\n5. Clark commented on May 7th, 2012 at 3:32 PM PST  \r\nI want to get a list of a specific host. How can I use the filter option? $host_details = ZabbixAPI::fetch_array(''host'',''get'',array(''extendoutput''=>1, ''filter''=>''dns:am-akiban02.nj1.afcv.net''))\r\n\r\n</pre>', 'Zabbix  API 一些错误的解决办法', '', 'inherit', 'open', '2012-09-12 17:25:39', 296, 'http://xpmyblog.sinaapp.com/?p=448', 0, 'revision', '', 0),
(449, 1, '2012-12-13 17:40:44', '调用方法:\r\n<pre class="brush: php;">\r\n<?php\r\nrequire_once("ZabbixAPI.class.php");\r\n// This enables debugging, this is rather verbose but can help debug problems\r\nZabbixAPI::debugEnabled(TRUE);\r\n\r\n// This logs into Zabbix, and returns false if it fails\r\n//ZabbixAPI::debugEnabled(true);\r\nZabbixAPI::login(''host'',''user'',''passwd'');\r\n\r\n$a = ZabbixAPI::fetch_array(''template'',''get'');\r\n?>\r\n</pre>\r\n<pre>\r\n1. Javier commented on January 25th, 2012 at 9:54 AM PST  \r\nI found the solution in the next commentary: tcpsyn commented on March 22nd, 2011 at 8:45 AM PST Interesting. I found somewhere that the issue was solved by uncommenting ZabbixAPI::debugEnabled(TRUE); ... This was not in this version of your wrapper. I added it to line 89 and now can use the api. Weird.\r\n\r\n2. Michel Groenescheij commented on February 22nd, 2012 at 1:47 AM PST  \r\nAs we successfully worked with your API under Zabbix 1.8, we now run into problems after we upgraded to Zabbix 2.0. Can you tell us if your API is compatible with ZabbixAPI 2.0?\r\n\r\n3. korvet commented on February 22nd, 2012 at 10:55 AM PST  \r\nHow to return hostid using ZabbixAPI::query ''host'',''create''\r\n\r\n4. Chris commented on May 2nd, 2012 at 5:30 AM PST  \r\nIf you got the "Call to undefined method stdClass::__login()" error (like I did in php 5.3), then fix the ZabbixAPI.class.php file by replacing the line: if (get_class(self::$instance) != "ZabbixAPI") with if (!self::$instance || get_class(self::$instance) != "ZabbixAPI")\r\n\r\n5. Clark commented on May 7th, 2012 at 3:32 PM PST  \r\nI want to get a list of a specific host. How can I use the filter option? $host_details = ZabbixAPI::fetch_array(''host'',''get'',array(''extendoutput''=>1, ''filter''=>''dns:am-akiban02.nj1.afcv.net''))\r\n\r\n</pre>', 'Zabbix  API 一些错误的解决办法', '', 'inherit', 'open', '2012-12-13 17:40:44', 296, 'http://xpmyblog.sinaapp.com/?p=449', 0, 'revision', '', 0),
(450, 1, '2012-06-20 00:42:57', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre lang="php">\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n</pre>\r\n2、\r\n<pre lang="php">\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre lang="php">\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n</pre>\r\n注意，要把online.txt文件的属性设为777，还有上面程序只对linux系统下有效。\r\n\r\n4、现在开始标题的程序吧\r\n<pre lang="php">\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 http://xpmyblog.sinaapp.com/?p=205', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-06-20 00:42:57', 205, 'http://xpmyblog.sinaapp.com/?p=450', 0, 'revision', '', 0),
(451, 1, '2012-06-18 22:36:04', '直接上最简单的\r\n<pre lang="php">\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\nclass call_func{\r\n	function func0() {\r\n		echo ''func0'';\r\n	}\r\n\r\n	function func1($a) {\r\n		echo $a;\r\n	}\r\n\r\n	function func2($a, $b) {\r\n		echo $a+$b;\r\n	}\r\n\r\n	function func3($a, $b, $c) {\r\n		echo $a+$b+$c;\r\n	}\r\n}\r\n\r\nfunction otest() {\r\n	$args = func_get_args();	\r\n	$num = func_num_args();\r\n	call_user_func_array(array(''call_func'',''func''.$num), $args);\r\n}\r\n\r\notest(1,1,1);\r\n</pre>\r\n\r\nmixed call_user_func_array ( callback function, array param_arr ) 和 mixed call_user_func ( callback $function [, mixed $parameter [, mixed $... ]] ) 相似\r\n\r\n还可以这样实例化类的，厉害吧！！！', 'PHP之call_user_func_array用法', '', 'inherit', 'open', '2012-06-18 22:36:04', 196, 'http://xpmyblog.sinaapp.com/?p=451', 0, 'revision', '', 0),
(452, 1, '2012-01-08 13:36:04', '前段时间研究了下CI框架的router，今天下午，继续看CI，发现\r\n<pre lang="php">\r\nclass Welcome extends CI_Controller {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n</pre>\r\n\r\n为什么能够直接用$this->load呢？？？ 这是我在面试的时候，被提问的。所以就仔细看看啰。\r\n\r\n这块和构造函数有关，所以看了下手册，自己写了个模仿CI的例子。\r\n\r\n<pre lang="php">\r\n<?php\r\nclass BaseClass {\r\n	var $load;\r\n	function __construct() {\r\n		$this->load = new load();\r\n	}\r\n}\r\n\r\nclass load {\r\n	function helper($helper) {\r\n		echo $helper;die;   //这里可以加载文件\r\n	}\r\n}\r\n\r\nclass SubClass extends BaseClass {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n\r\n$obj = new SubClass();\r\n\r\n?> \r\n\r\n</pre>\r\n\r\n\r\n不知道我上面写的对不对，希望有高手评价下。\r\n', '对于CI框架$this->load->helper(''url'');这种用法的理解', '', 'inherit', 'open', '2012-01-08 13:36:04', 180, 'http://xpmyblog.sinaapp.com/?p=452', 0, 'revision', '', 0),
(453, 1, '2012-12-13 17:42:15', '前段时间研究了下CI框架的router，今天下午，继续看CI，发现\r\n<pre class="brush: php;">\r\nclass Welcome extends CI_Controller {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n</pre>\r\n\r\n为什么能够直接用$this->load呢？？？ 这是我在面试的时候，被提问的。所以就仔细看看啰。\r\n\r\n这块和构造函数有关，所以看了下手册，自己写了个模仿CI的例子。\r\n\r\n<pre lang="php">\r\n<?php\r\nclass BaseClass {\r\n	var $load;\r\n	function __construct() {\r\n		$this->load = new load();\r\n	}\r\n}\r\n\r\nclass load {\r\n	function helper($helper) {\r\n		echo $helper;die;   //这里可以加载文件\r\n	}\r\n}\r\n\r\nclass SubClass extends BaseClass {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n\r\n$obj = new SubClass();\r\n\r\n?> \r\n\r\n</pre>\r\n\r\n\r\n不知道我上面写的对不对，希望有高手评价下。', '对于CI框架$this->load->helper(''url'');这种用法的理解', '', 'inherit', 'open', '2012-12-13 17:42:15', 180, 'http://xpmyblog.sinaapp.com/?p=453', 0, 'revision', '', 0),
(454, 1, '2012-01-12 08:49:17', '转载请注明出处！\r\n\r\n<pre lang="php">\r\n<?php\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪 http://weibo.com/xpmozong \r\n * http://xpmyblog.sinaapp.com/?p=175\r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 取得结果数据\r\n	 *\r\n	 * @param resource $query\r\n	 *\r\n	 * @return string\r\n	 *\r\n	 */\r\n	function result($query, $row) {\r\n		$query = @mysql_result($query, $row);\r\n		return $query;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return ($id = mysql_insert_id($this->dblink)) >= 0 ? $id : $this->result($this->query(''SELECT last_insert_id()''), 0);\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n\r\n        function __destruct() {\r\n		$this->dbhost;\r\n		$this->dbuser;\r\n		$this->dbpasswd;\r\n		$this->dbpconnect;\r\n		$this->dbname;\r\n		$this->dbchart;\r\n		$this->dblink;\r\n		$this->sql;\r\n		$this->res;\r\n		$this->errno;\r\n	}\r\n\r\n\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n?>\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-01-12 08:49:17', 175, 'http://xpmyblog.sinaapp.com/?p=454', 0, 'revision', '', 0),
(455, 1, '2012-01-09 22:51:03', '静态化网页，是个基本技能。下面是smarty静态化。\r\n打开Smarty.class.php 文件\r\n加入以下代码\r\n<pre lang="php">\r\n        // 循环创建目录 \r\n	function mk_dir($dir, $mode = 0777) \r\n	{ \r\n		if($dir == '''') return true;\r\n		if (is_dir($dir) || @mkdir($dir,$mode)) return true; \r\n		if (!$this->mk_dir(dirname($dir),$mode)) return false; \r\n		return @mkdir($dir,$mode); \r\n	} \r\n\r\n	/**\r\n	 * 页面静态化\r\n	 * \r\n	 * @param string $file_name  \r\n	 * @param string $content\r\n	 *\r\n	 */\r\n	function makeHtmlFile($filedir, $file_name, $content)\r\n	{\r\n		$filedir = $filedir == '''' ? dirname(__FILE__).''/../../'' : $filedir;\r\n		//目录不存在就创建\r\n		if (!file_exists($filedir.$file_name)){\r\n			$this->mk_dir($filedir);\r\n		}\r\n		if(!$fp = fopen($filedir.$file_name, "w+", true)){\r\n			echo ''文件打开失败！'';\r\n			return false;\r\n		}\r\n		if(!fwrite($fp, $content)){\r\n			echo ''文件写入失败！'';\r\n			return false;\r\n		}\r\n		fclose($fp);\r\n		if(chmod($filedir.$file_name,0777)){\r\n			return true;\r\n		}else{\r\n			echo ''改变文件权限失败！'';\r\n			return false;\r\n		}	\r\n	}\r\n</pre>\r\n\r\n加好了之后，就是调用了。怎么调用呢，看一下代码：\r\n<pre lang="php">\r\n//	$smarty->display(''index.html'');\r\n	$content = $smarty->fetch(''index.html'');\r\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\r\n\r\n</pre>\r\n\r\n\r\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！\r\n', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2012-01-09 22:51:03', 160, 'http://xpmyblog.sinaapp.com/?p=455', 0, 'revision', '', 0),
(456, 1, '2012-12-13 17:44:46', '静态化网页，是个基本技能。下面是smarty静态化。\r\n打开Smarty.class.php 文件\r\n加入以下代码\r\n<pre class="brush: php;">\r\n        // 循环创建目录 \r\n	function mk_dir($dir, $mode = 0777) \r\n	{ \r\n		if($dir == '''') return true;\r\n		if (is_dir($dir) || @mkdir($dir,$mode)) return true; \r\n		if (!$this->mk_dir(dirname($dir),$mode)) return false; \r\n		return @mkdir($dir,$mode); \r\n	} \r\n\r\n	/**\r\n	 * 页面静态化\r\n	 * \r\n	 * @param string $file_name  \r\n	 * @param string $content\r\n	 *\r\n	 */\r\n	function makeHtmlFile($filedir, $file_name, $content)\r\n	{\r\n		$filedir = $filedir == '''' ? dirname(__FILE__).''/../../'' : $filedir;\r\n		//目录不存在就创建\r\n		if (!file_exists($filedir.$file_name)){\r\n			$this->mk_dir($filedir);\r\n		}\r\n		if(!$fp = fopen($filedir.$file_name, "w+", true)){\r\n			echo ''文件打开失败！'';\r\n			return false;\r\n		}\r\n		if(!fwrite($fp, $content)){\r\n			echo ''文件写入失败！'';\r\n			return false;\r\n		}\r\n		fclose($fp);\r\n		if(chmod($filedir.$file_name,0777)){\r\n			return true;\r\n		}else{\r\n			echo ''改变文件权限失败！'';\r\n			return false;\r\n		}	\r\n	}\r\n</pre>\r\n\r\n加好了之后，就是调用了。怎么调用呢，看一下代码：\r\n<pre lang="php">\r\n//	$smarty->display(''index.html'');\r\n	$content = $smarty->fetch(''index.html'');\r\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\r\n\r\n</pre>\r\n\r\n\r\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2012-12-13 17:44:46', 160, 'http://xpmyblog.sinaapp.com/?p=456', 0, 'revision', '', 0),
(457, 1, '2011-10-20 13:14:58', '<pre lang="php">\r\n<?php\r\nclass ABC{\r\n    public $numBox = array();\r\n    public function ddd(){\r\n            for($i=1; $i<=600; $i++){\r\n                    $this->numBox[] = mt_rand(1,1000000);\r\n           }\r\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\r\n        }\r\n \r\n}\r\n$instance = new ABC();\r\nfor($i =0; $i< 50 ; $i++){\r\n     $instance->ddd();\r\n}\r\n?>\r\n</pre>\r\n这是test1.php的运行结果\r\nNow memory_get_usage: 422728\r\nNow memory_get_usage: 474824\r\nNow memory_get_usage: 522824\r\nNow memory_get_usage: 579024\r\nNow memory_get_usage: 627024\r\nNow memory_get_usage: 675024\r\nNow memory_get_usage: 739408\r\nNow memory_get_usage: 787416\r\nNow memory_get_usage: 835416\r\nNow memory_get_usage: 883416\r\nNow memory_get_usage: 931416\r\nNow memory_get_usage: 979416\r\nNow memory_get_usage: 1027416\r\n..................\r\n\r\n<pre lang="php">\r\n<?php\r\nclass ABC{\r\n    public $numBox = array();\r\n    public function ddd(){\r\n            for($i=1; $i<=600; $i++){\r\n                    $this->numBox[] = mt_rand(1,1000000);\r\n           }\r\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\r\n        }\r\n \r\n}\r\nfor($i =0; $i< 50 ; $i++){\r\n     $instance = new ABC();\r\n     $instance->ddd();\r\n}\r\n?>\r\n</pre>\r\n这是test2.php的运行结果\r\nNow memory_get_usage: 422728\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\n............................\r\n\r\n看到区别了吗？？PHP也是学无止境的！！！\r\n\r\n', 'PHP:在循环内或外实例化类在占用内存上有很大的区别！', '', 'inherit', 'open', '2011-10-20 13:14:58', 158, 'http://xpmyblog.sinaapp.com/?p=457', 0, 'revision', '', 0),
(458, 1, '2011-10-20 13:04:02', '<pre lang="php">\r\n<?php\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\necho "<pre>";\r\nprint_r(xmlToArray($string));\r\n\r\n?>\r\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2011-10-20 13:04:02', 156, 'http://xpmyblog.sinaapp.com/?p=458', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(459, 1, '2012-12-13 17:46:22', '<pre class="brush: php;">\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\necho "<pre>";\r\nprint_r(xmlToArray($string));\r\n\r\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2012-12-13 17:46:22', 156, 'http://xpmyblog.sinaapp.com/?p=459', 0, 'revision', '', 0),
(460, 1, '2012-12-13 17:47:17', '<pre class="brush: php;">\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\necho "<pre>";\r\nprint_r(xmlToArray($string));\r\n\r\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2012-12-13 17:47:17', 156, 'http://xpmyblog.sinaapp.com/?p=460', 0, 'revision', '', 0),
(461, 1, '2012-12-13 17:48:12', '<pre class="brush: php;">\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\n//echo "<pre>";\r\n//print_r(xmlToArray($string));\r\n\r\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2012-12-13 17:48:12', 156, 'http://xpmyblog.sinaapp.com/?p=461', 0, 'revision', '', 0),
(462, 1, '2012-12-13 17:48:57', '<pre class="brush: php;">\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\n//print_r(xmlToArray($string));\r\n\r\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2012-12-13 17:48:57', 156, 'http://xpmyblog.sinaapp.com/?p=462', 0, 'revision', '', 0),
(463, 1, '2012-12-13 17:50:28', '<pre class="brush: php;">\nArray\n(\n    [0] =&gt; stdClass Object\n        (\n            [term_id] =&gt; 3\n            [name] =&gt; apache\n            [slug] =&gt; apache\n            [term_group] =&gt; 0\n            [term_taxonomy_id] =&gt; 3\n            [taxonomy] =&gt; category\n            [description] =&gt; \n            [parent] =&gt; 0\n            [count] =&gt; 1\n            [cat_ID] =&gt; 3\n            [category_count] =&gt; 1\n            [category_description] =&gt; \n            [cat_name] =&gt; apache\n            [category_nicename] =&gt; apache\n            [category_parent] =&gt; 0\n        )\n\n    [1] =&gt; stdClass Object\n        (\n            [term_id] =&gt; 1\n            [name] =&gt; PHP\n            [slug] =&gt; php\n            [term_group] =&gt; 0\n            [term_taxonomy_id] =&gt; 1\n            [taxonomy] =&gt; category\n            [description] =&gt; \n            [parent] =&gt; 0\n            [count] =&gt; 1\n            [cat_ID] =&gt; 1\n            [category_count] =&gt; 1\n            [category_description] =&gt; \n            [cat_name] =&gt; PHP\n            [category_nicename] =&gt; php\n            [category_parent] =&gt; 0\n        )\n\n)</pre>\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\n<pre>foreach($categories as $key =&gt; $value){</pre>\n<pre>  $cat = $value-&gt;term_id;</pre>\n<pre>  $name = $value-&gt;name;</pre>\n<pre>}\n</pre>\n<pre>\n</pre>\n<pre>这样才能调用数据！</pre>\n<pre>\n</pre>\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2012-12-13 17:50:28', 139, 'http://xpmyblog.sinaapp.com/?p=463', 0, 'revision', '', 0),
(464, 1, '2011-10-06 14:10:37', '<pre>Array\r\n(\r\n    [0] =&gt; stdClass Object\r\n        (\r\n            [term_id] =&gt; 3\r\n            [name] =&gt; apache\r\n            [slug] =&gt; apache\r\n            [term_group] =&gt; 0\r\n            [term_taxonomy_id] =&gt; 3\r\n            [taxonomy] =&gt; category\r\n            [description] =&gt; \r\n            [parent] =&gt; 0\r\n            [count] =&gt; 1\r\n            [cat_ID] =&gt; 3\r\n            [category_count] =&gt; 1\r\n            [category_description] =&gt; \r\n            [cat_name] =&gt; apache\r\n            [category_nicename] =&gt; apache\r\n            [category_parent] =&gt; 0\r\n        )\r\n\r\n    [1] =&gt; stdClass Object\r\n        (\r\n            [term_id] =&gt; 1\r\n            [name] =&gt; PHP\r\n            [slug] =&gt; php\r\n            [term_group] =&gt; 0\r\n            [term_taxonomy_id] =&gt; 1\r\n            [taxonomy] =&gt; category\r\n            [description] =&gt; \r\n            [parent] =&gt; 0\r\n            [count] =&gt; 1\r\n            [cat_ID] =&gt; 1\r\n            [category_count] =&gt; 1\r\n            [category_description] =&gt; \r\n            [cat_name] =&gt; PHP\r\n            [category_nicename] =&gt; php\r\n            [category_parent] =&gt; 0\r\n        )\r\n\r\n)</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre>foreach($categories as $key =&gt; $value){</pre>\r\n<pre>  $cat = $value-&gt;term_id;</pre>\r\n<pre>  $name = $value-&gt;name;</pre>\r\n<pre>}\r\n</pre>\r\n<pre>\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n<pre>\r\n</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2011-10-06 14:10:37', 139, 'http://xpmyblog.sinaapp.com/?p=464', 0, 'revision', '', 0),
(465, 1, '2012-12-13 17:50:45', '<pre class="brush: php;">\r\nArray\r\n(\r\n    [0] => stdClass Object\r\n        (\r\n            [term_id] => 3\r\n            [name] => apache\r\n            [slug] => apache\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 3\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 3\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => apache\r\n            [category_nicename] => apache\r\n            [category_parent] => 0\r\n        )\r\n\r\n    [1] => stdClass Object\r\n        (\r\n            [term_id] => 1\r\n            [name] => PHP\r\n            [slug] => php\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 1\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 1\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => PHP\r\n            [category_nicename] => php\r\n            [category_parent] => 0\r\n        )\r\n</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre>foreach($categories as $key =&gt; $value){</pre>\r\n<pre>  $cat = $value-&gt;term_id;</pre>\r\n<pre>  $name = $value-&gt;name;</pre>\r\n<pre>}\r\n</pre>\r\n<pre>\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n<pre>\r\n</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2012-12-13 17:50:45', 139, 'http://xpmyblog.sinaapp.com/?p=465', 0, 'revision', '', 0),
(466, 1, '2012-12-13 17:50:59', '<pre class="brush: html;">\r\nArray\r\n(\r\n    [0] => stdClass Object\r\n        (\r\n            [term_id] => 3\r\n            [name] => apache\r\n            [slug] => apache\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 3\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 3\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => apache\r\n            [category_nicename] => apache\r\n            [category_parent] => 0\r\n        )\r\n\r\n    [1] => stdClass Object\r\n        (\r\n            [term_id] => 1\r\n            [name] => PHP\r\n            [slug] => php\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 1\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 1\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => PHP\r\n            [category_nicename] => php\r\n            [category_parent] => 0\r\n        )\r\n</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre>foreach($categories as $key =&gt; $value){</pre>\r\n<pre>  $cat = $value-&gt;term_id;</pre>\r\n<pre>  $name = $value-&gt;name;</pre>\r\n<pre>}\r\n</pre>\r\n<pre>\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n<pre>\r\n</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2012-12-13 17:50:59', 139, 'http://xpmyblog.sinaapp.com/?p=466', 0, 'revision', '', 0),
(467, 1, '2012-12-13 17:51:39', '<pre class="brush: html;">\r\nArray\r\n(\r\n    [0] => stdClass Object\r\n        (\r\n            [term_id] => 3\r\n            [name] => apache\r\n            [slug] => apache\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 3\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 3\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => apache\r\n            [category_nicename] => apache\r\n            [category_parent] => 0\r\n        )\r\n\r\n    [1] => stdClass Object\r\n        (\r\n            [term_id] => 1\r\n            [name] => PHP\r\n            [slug] => php\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 1\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 1\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => PHP\r\n            [category_nicename] => php\r\n            [category_parent] => 0\r\n        )\r\n</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre>foreach($categories as $key =&gt; $value){</pre>\r\n<pre>  $cat = $value-&gt;term_id;</pre>\r\n<pre>  $name = $value-&gt;name;</pre>\r\n<pre>}\r\n</pre>\r\n<pre>\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n<pre>\r\n</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2012-12-13 17:51:39', 139, 'http://xpmyblog.sinaapp.com/?p=467', 0, 'revision', '', 0),
(468, 1, '2012-12-13 17:52:55', '<pre class="brush: html;">\r\nArray\r\n(\r\n    [0] => stdClass Object\r\n        (\r\n            [term_id] => 3\r\n            [name] => apache\r\n            [slug] => apache\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 3\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 3\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => apache\r\n            [category_nicename] => apache\r\n            [category_parent] => 0\r\n        )\r\n\r\n    [1] => stdClass Object\r\n        (\r\n            [term_id] => 1\r\n            [name] => PHP\r\n            [slug] => php\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 1\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 1\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => PHP\r\n            [category_nicename] => php\r\n            [category_parent] => 0\r\n        )\r\n</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre class="brush: php;">\r\nforeach($categories as $key => $value){\r\n  $cat = $value->term_id;\r\n  $name = $value->name;\r\n}\r\n</pre>\r\n<pre>\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n<pre>\r\n</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2012-12-13 17:52:55', 139, 'http://xpmyblog.sinaapp.com/?p=468', 0, 'revision', '', 0),
(469, 1, '2011-09-23 19:41:20', '<pre lang="php">\r\nheader(''refresh:3;url=http://a.com'');\r\nprint(''正在加载，请稍等…<br>三秒后自动跳转~~~'');\r\n</pre>\r\n\r\n这个以前还真没注意到', 'PHP定时跳转', '', 'inherit', 'open', '2011-09-23 19:41:20', 110, 'http://xpmyblog.sinaapp.com/?p=469', 0, 'revision', '', 0),
(470, 1, '2011-09-23 18:44:01', '第一种：curl\r\n<pre lang="php">\r\n<?php\r\n\r\n$url = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\r\n\r\n$filename = ''curl.gif'';\r\n\r\ngetImg($url, $filename);\r\n\r\n/*\r\n  *@通过curl方式获取制定的图片到本地\r\n  *@ 完整的图片地址\r\n  *@ 要存储的文件名\r\n */\r\nfunction getImg($url = "", $filename = "") {\r\n	if(is_dir(basename($filename))) {\r\n		echo "The Dir was not exits";\r\n		Return false;\r\n	}\r\n	//去除URL连接上面可能的引号\r\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\r\n\r\n	$hander = curl_init();\r\n	$fp = fopen($filename,''wb'');\r\n\r\n	curl_setopt($hander,CURLOPT_URL,$url);\r\n	curl_setopt($hander,CURLOPT_FILE,$fp);\r\n	curl_setopt($hander,CURLOPT_HEADER,0);\r\n	curl_setopt($hander,CURLOPT_FOLLOWLOCATION,1);\r\n	//curl_setopt($hander,CURLOPT_RETURNTRANSFER,false);//以数据流的方式返回数据,当为false是直接显示出来\r\n	curl_setopt($hander,CURLOPT_TIMEOUT,60);\r\n\r\n	/*$options = array(\r\n		CURLOPT_URL=> ''http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif'',\r\n		CURLOPT_FILE => $fp,\r\n		CURLOPT_HEADER => 0,\r\n		CURLOPT_FOLLOWLOCATION => 1,\r\n		CURLOPT_TIMEOUT => 60\r\n	);\r\n	curl_setopt_array($hander, $options);\r\n	*/\r\n\r\n	curl_exec($hander);\r\n	curl_close($hander);\r\n	fclose($fp);\r\n	Return true;\r\n}\r\n?>\r\n</pre>\r\n第二种：sockets\r\n<pre lang="php">\r\n\r\n$a = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\r\n\r\n$local = ''socket1.gif'';\r\n\r\n$aa = getImg($a,$local);\r\n\r\n/*\r\n  *@ 完整的图片地址\r\n  *@ 要存储的文件名\r\n */\r\nfunction getImg( $url = "", $filename = "" ) {\r\n	if(is_dir(basename($filename))) {\r\n		echo "The Dir was not exits";\r\n		Return false;\r\n	}\r\n	//去除URL连接上面可能的引号\r\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\r\n	if (!extension_loaded(''sockets'')) return false;\r\n	//获取url各相关信息\r\n	preg_match( ''/http:\\/\\/([^\\/\\:]+(\\:\\d{1,5})?)(.*)/i'', $url, $matches );\r\n	if (!$matches) return false;\r\n	$sock = socket_create( AF_INET, SOCK_STREAM, SOL_TCP );\r\n	if ( !@socket_connect( $sock, $matches[1], $matches[2] ? substr($matches[2], 1 ) : 80 ) ) {\r\n		return false;\r\n	}\r\n	//图片的相对地址\r\n	$msg = ''GET '' . $matches[3] . " HTTP/1.1\\r\\n";\r\n	//主机名称\r\n	$msg .= ''Host: '' . $matches[1] . "\\r\\n";\r\n	$msg .= ''Connection: Close'' . "\\r\\n\\r\\n";\r\n	socket_write( $sock, $msg );\r\n	$bin = '''';\r\n	while ( $tmp = socket_read( $sock, 10 ) ) {\r\n		$bin .= $tmp;\r\n		$tmp = '''';\r\n	}\r\n	$bin = explode("\\r\\n\\r\\n", $bin);\r\n	$img = $bin[1];\r\n	$h = fopen( $filename, ''wb'' );\r\n	$res = fwrite( $h, $img ) === false ? false : true;\r\n	@socket_close( $sock );\r\n	Return $res;\r\n}\r\n</pre>\r\n', 'PHP获取远程图片的两种简单方式', '', 'inherit', 'open', '2011-09-23 18:44:01', 108, 'http://xpmyblog.sinaapp.com/?p=470', 0, 'revision', '', 0),
(471, 1, '2011-09-23 17:03:44', '1、自动移除字符串中的 HTML 标记\r\n\r\n在用户表单中，你可能希望移除所有不必要的 HTML 标记。使用 strip_tags() 函数可以简单地做到这一点：\r\n<pre lang="php">\r\n$text = strip_tags($input, "");\r\n</pre>\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\r\n\r\n2、获取 $start 和 $end 之间的文本\r\n\r\n这是一种每个网站开发人员应该收纳在开发工具箱的功能：给定一个字符串，一个起始位置，一个结束为止，并返回包含在 $start 和 $end 两者之间的文本。\r\n<pre lang="php">\r\nfunction GetBetween($content,$start,$end){\r\n    $r = explode($start, $content);\r\n    if (isset($r[1])){\r\n        $r = explode($end, $r[1]);\r\n        return $r[0];\r\n    }\r\n    return '''';\r\n}\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/get-between.htm\r\n\r\n3、将 URL 转换为超链接\r\n\r\n如果你在 WordPress 博客的评论表单中添加了 URL，它会被自动转换为超级链接。如果你想要在网站上实现同样的功能，可以使用以下代码：\r\n<pre lang="php">\r\n$url = "芒果 (http://www.mangguo.org)";\r\n$url = preg_replace("#http://([A-z0-9./-]+)#", ''$0'', $url);\r\n</pre>\r\n\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\r\n\r\n4、将文本分割为 140 字符的数组\r\n\r\n大家都知道，Twitter 仅仅接受 140 字符以内的消息。如果你希望与这个流行的即时信息网站交互，肯定会喜欢这个功能，这将允许对留言截断为 140 个字符。\r\n<pre lang="php">\r\nfunction split_to_chunks($to,$text){\r\n	$total_length = (140 - strlen($to));\r\n	$text_arr = explode(" ",$text);\r\n	$i=0;\r\n	$message[0]="";\r\n	foreach ($text_arr as $word){\r\n		if ( strlen($message[$i] . $word . '' '') <= $total_length ){\r\n			if ($text_arr[count($text_arr)-1] == $word){\r\n				$message[$i] .= $word;\r\n			} else {\r\n				$message[$i] .= $word . '' '';\r\n			}\r\n		} else {\r\n			$i++;\r\n			if ($text_arr[count($text_arr)-1] == $word){\r\n				$message[$i] = $word;\r\n			} else {\r\n				$message[$i] = $word . '' '';\r\n			}\r\n		}\r\n	}\r\n	return $message;\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=31648\r\n\r\n5、从字符串中移除 URL\r\n\r\n为了获得流量或者反向链接，很多访客会发布大量含有网址信息的博客评论，这个代码片段可以对其进行有效防范：\r\n<pre lang="php">\r\n$string = preg_replace(''/\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|$!:,.;]*[A-Z0-9+&@#\\/%=~_|$]/i'', '''', $string);\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=15236\r\n\r\n6、转换字符串为缩略标题\r\n\r\n创建缩略标题（通常称之为 permalink，即固定链接）有利于 SEO，以下函数以一个字符串作为参数，并返回良好的缩略字符串。简洁有效，值得尝试！\r\n<pre lang="php">\r\nfunction slug($str){\r\n	$str = strtolower(trim($str));\r\n	$str = preg_replace(''/[^a-z0-9-]/'', ''-'', $str);\r\n	$str = preg_replace(''/-+/'', "-", $str);\r\n	return $str;\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=2809\r\n\r\n7、解析 CSV 文件\r\n\r\nCSV（逗号分隔的值文件）是存储数据的简单方式，使用 PHP 解析也很容易。不信你可以动手试试以下代码片段。\r\n<pre lang="php">\r\n$fh = fopen("contacts.csv", "r");\r\nwhile($line = fgetcsv($fh, 1000, ",")) {\r\n    echo "Contact: {$line[1]}";\r\n}\r\n</pre>\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=1\r\n\r\n8、检索字符串中的另一个字符串\r\n\r\n如果某个字符串包含在另一个字符串中，并且必须检索出来，这里有一个绝妙的方法：\r\n<pre lang="php">\r\nfunction contains($str, $content, $ignorecase=true){\r\n    if ($ignorecase){\r\n        $str = strtolower($str);\r\n        $content = strtolower($content);\r\n    }\r\n    return strpos($content,$str) ? true : false;\r\n}\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/contains.htm\r\n\r\n9、检测某个字符串是否以指定的模式开始\r\n\r\n有些语言比如 Java 具有一个 startWith 方法，允许你检测某个字符串是否以指定的模式开始。不幸的是，PHP 不具备这种内建函数。但我们可以自己动手丰衣足食，实现也很简单：\r\n<pre lang="php">\r\nfunction String_Begins_With($needle, $haystack {\r\n    return (substr($haystack, 0, strlen($needle))==$needle);\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=2143\r\n\r\n10、从字符串中提取电子邮件地址\r\n\r\n有没有想过那些发垃圾邮件的人是如何得到邮件地址的？这很简单，他们只需对网页进行简单的 HTML 解析即可提取电子邮件。此代码需要一个字符串作为参数，并打印所包含的电子邮件地址。芒果告诫：请勿使用此代码制造垃圾邮件！\r\n<pre lang="php">\r\nfunction extract_emails($str){\r\n    // This regular expression extracts all emails from a string:\r\n    $regexp = ''/([a-z0-9_\\.\\-])+\\@(([a-z0-9\\-])+\\.)+([a-z0-9]{2,4})+/i'';\r\n    preg_match_all($regexp, $str, $m);\r\n\r\n    return isset($m[0]) ? $m[0] : array();\r\n}\r\n\r\n$test_string = ''This is a test string...\r\n\r\n        test1@example.org\r\n\r\n        Test different formats:\r\n        test2@example.org;\r\n        <a href="test3@example.org">foobar</a>\r\n        <test4@example.org>\r\n\r\n        strange formats:\r\n        test5@example.org\r\n        test6[at]example.org\r\n        test7@example.net.org.com\r\n        test8@ example.org\r\n        test9@!foo!.org\r\n\r\n        foobar\r\n'';\r\n\r\nprint_r(extract_emails($test_string));\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/extract-emails.htm\r\n\r\n', '10+ 字符串相关的 PHP 代码片段', '', 'inherit', 'open', '2011-09-23 17:03:44', 106, 'http://xpmyblog.sinaapp.com/?p=471', 0, 'revision', '', 0),
(472, 1, '2011-09-23 16:38:00', '越来越多的站点开始使用 HTML5 标签了（包括淘宝也在滥用 HTML5 哈哈），好还是不好很难说。至少对于富 JavaScript 应用来说，使用 JavaScript 来解决 IE 下不支持 HTML5 的现状是最为可靠的。\r\n\r\nIE 下比较广泛的 HTML5 标签支持方案是使用 html5shim，其使用方法如下：\r\n<pre lang="php">\r\n<!--[if lt IE 9]>\r\n<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>\r\n<![endif]-->\r\n</pre>\r\n关于条件注释的参考资料：http://msdn.microsoft.com/en-us/library/ms537512.aspx\r\n\r\nWordPress 也可以通过在 header.php 文件添加这段代码的方法实现。或者使用 functions.php 文件也可以：\r\n\r\n找到当前主题对应的 functions.php 文件，并添加如下代码：\r\n<pre lang="php">\r\nfunction add_ie_html5_shim () {\r\n    echo ''<!--[if lt IE 9]>'';\r\n    echo ''<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>'';\r\n    echo ''<![endif]-->'';\r\n}\r\nadd_action(''wp_head'', ''add_ie_html5_shim'');\r\n</pre>\r\n原理是通过 header.php 文件中的 wp_head() 函数强行插入。', '为 WordPress 开启 HTML5 支持 ', '', 'inherit', 'open', '2011-09-23 16:38:00', 104, 'http://xpmyblog.sinaapp.com/?p=472', 0, 'revision', '', 0),
(473, 1, '2011-09-16 19:18:33', '<?php\r\n	$array = range(''a'',''z'');\r\n	print_r(array_chunk($array, 2));\r\n?>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2011-09-16 19:18:33', 77, 'http://xpmyblog.sinaapp.com/?p=473', 0, 'revision', '', 0),
(474, 1, '2012-11-01 11:28:21', '身为PHPer，C/C++是必学的语言。所以，孩子，努力学吧。\r\n\r\n1.单击“开始”，指向“所有程序”、“Microsoft Visual Studio 2010”和“Visual Studio 工具”，然后单击“Visual Studio 2010 命令提示”。\r\n根据计算机上的 Windows 版本和系统安全配置，可能必须右击“Visual Studio 2008 命令提示”，然后单击“以管理员身份运行”，才能成功运行按下列步骤创建的应用程序。\r\n\r\n2.在命令提示符下，键入 notepad simple.c，并按 Enter。\r\n在系统提示是否创建文件时，单击“是”。\r\n\r\n3.在记事本中，键入下列各行。\r\n<pre lang="php">\r\n#include <stdio.h>\r\nint main()\r\n{\r\n    printf("This is a native C program.\\n");\r\n    return 0;\r\n}\r\n</pre>\r\n\r\n4.在“文件”菜单上，单击“保存”，以创建 C 源文件。\r\n5.关闭记事本。\r\n6.在命令提示符下，键入 cl simple.c，并按 Enter。\r\ncl.exe 编译器将生成一个可执行程序 Simple.exe。\r\n您可以在编译器显示的多行输出信息中看到可执行程序的名称。\r\n<pre>\r\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 16.00 for 80x86\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\nsimple.c\r\nMicrosoft (R) Incremental Linker Version 10.00\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n/out:simple.exe\r\nsimple.obj\r\n\r\n</pre>\r\n\r\n7.若要查看 \\simple\\ 目录中的所有文件的列表，请键入 dir simple.* 并按 Enter。\r\n\r\n.obj 文件是一个中间格式文件，可以安全地忽略它。\r\n\r\n8.若要运行 Simple.exe，请键入 simple 并按 Enter。\r\n\r\n该程序显示以下文本并退出：\r\n\r\nThis is a native C program.\r\n\r\n9.若要关闭命令提示符窗口，请键入 exit 并按 Enter。\r\n\r\n\r\n\r\n\r\n', '用Visual Studio 2010 命令提示 运行C程序', '', 'inherit', 'open', '2012-11-01 11:28:21', 146, 'http://xpmyblog.sinaapp.com/?p=474', 0, 'revision', '', 0),
(475, 1, '2012-11-01 11:29:54', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\r\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\r\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\r\n\r\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\r\n他们的用法如下：\r\n<pre>\r\n1、Strings\r\n> set foo bar\r\nOK\r\n>get foo\r\n"bar"\r\n</pre>\r\n<pre>\r\n2、integer\r\n	>set mykey "10"\r\n	OK \r\n	>incr mykey\r\n	(integer) 11\r\n	>get mykey\r\n	"11"\r\n	>decr mykey\r\n	(integer) 10\r\n	>get mykey\r\n	"10"\r\n</pre>\r\n<pre>\r\n3、Lists\r\n>rpush foo baz\r\n(integer) 1\r\n>rpush foo qux\r\n(integer) 2\r\n>lpush foo bar\r\n(integer) 3\r\n	>lrange foo 0 -1\r\n	"bar"\r\n	"baz"\r\n	"qux"\r\n	>lrange foo 0 1\r\n	"bar"\r\n	"baz"\r\n	>lpop foo\r\n	"bar"\r\n	>rpop foo\r\n	"qux"\r\n</pre>\r\n<pre>\r\n4、Hashes\r\n>hset foo bar baz\r\n(integer) 1\r\n>hset foo qux quxx\r\n(integer) 1\r\n>hget foo bar\r\n"baz"\r\n>hgetall foo\r\n"bar"\r\n"baz"\r\n"qux"\r\n"quxx"\r\n</pre>\r\n<pre>\r\n5、Set\r\n	>sadd m1 jan\r\n	(integer) 1\r\n	>sadd m1 feb\r\n	(integer) 1\r\n	>sismember m1 jan\r\n	(integer) 1\r\n	>sismember m1 feb\r\n	(integer) 1\r\n	>smembers m1\r\n	"feb"\r\n	"jan"\r\n	>sadd m2 feb\r\n	(integer) 1\r\n	>sismember m2 jan\r\n	(integer) 1\r\n	>sismember m2 mar\r\n	(integer) 1\r\n	>sinter m1 m2\r\n	"feb"\r\n	>sdiff m1 m2\r\n	"jan"\r\n	>sunion m1 m2\r\n	"mar"\r\n	"jan"\r\n	"feb"\r\n</pre>\r\n<pre>\r\n6、sorted sets\r\n	>zadd z1 1 jan\r\n	(integer) 1\r\n	>zadd z1 2 feb\r\n	(integer) 1\r\n	>zadd z1 3 mar\r\n	(integer) 1\r\n	>zscore z1 feb\r\n	"2"\r\n	>zrange z1 0 1 withscores\r\n	"jan"\r\n	"1"\r\n	"feb"\r\n	"2"\r\n	"mar"\r\n	"3"\r\n</pre>\r\n由上可知，我觉得理想的存储数据类型是lists和hashes。\r\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\r\n\r\n二、Redis进阶教程-aof(append only file)日志文件\r\n原文出处:http://lgone.com/html/y2010/757.html\r\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\r\n何为AOF?\r\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\r\n扩展知识:\r\nRedis有三种类型的落地文件:\r\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\r\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\r\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\r\n运行流程\r\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\r\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\r\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\r\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\r\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\r\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\r\n内部实现\r\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\r\nfork! Redis通过fork产生子进程.\r\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\r\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\r\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\r\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\r\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\r\n其它\r\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\r\n\r\n三、在windows环境下，phper想使用php操作redis，那怎么办呢？\r\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\r\n用法很简单，\r\n<pre lang="php">\r\n<?php\r\n	require ''Rediska.php'';\r\n	$rediska = new Rediska();\r\n	$rediska ->connect(''127.0.0.1'',6379);\r\n	$rediska ->set(''test'',''hello world!'');\r\n	echo $rediska ->get(''test'');\r\n?>\r\n</pre>\r\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'inherit', 'open', '2012-11-01 11:29:54', 57, 'http://xpmyblog.sinaapp.com/?p=475', 0, 'revision', '', 0),
(476, 1, '2012-12-03 18:50:09', 'upload.php文件内容\r\n\r\n<pre>\r\n<?php\r\n\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录\r\n\r\n$img_dir = "upload/";\r\n\r\n// 把图片传到服务器\r\n\r\n// 初始化变量\r\n\r\n$uploaded = 0;\r\n\r\n$unuploaded = 0;\r\n\r\n$imgname = $uid.$time;\r\n\r\n//只允许三张图片上传\r\n\r\nfor ($i=0; $i<=2; $i++) {\r\n\r\n//获取当前图片的信息\r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i];\r\n\r\n//如果当前图片不为空\r\n\r\nif (!empty($is_file)) {\r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！\r\n";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！'';\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n/**\r\n* 按比例缩小图片\r\n*\r\n* @param string $im 源文件\r\n* @param int $maxwidth 规定图片宽 324px\r\n* @param int $maxhidth 规定图片高 343px\r\n* @param int $maxwidth 输出文件\r\n*\r\n* 返回文件\r\n*\r\n*/\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n// 载入图像到php到变量中\r\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\r\n$style = strtolower($suffix);\r\nif($style==''jpg'' || $style==''jpeg''){\r\n$originail = imagecreatefromjpeg($im); //jpg\r\n}elseif($style==''png''){\r\n$originail = imagecreatefrompng($im); //png\r\n}elseif($style==''gif''){\r\n$originail = imagecreatefromgif($im); //gif\r\n}\r\n$dims = getimagesize($im); //获取图片大小；\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg )\r\n\r\n$pic_width = $dims[''0''];\r\n$pic_height = $dims[''1''];\r\n\r\nif(($maxwidth &amp;&amp; $pic_width &gt; $maxwidth) || ($maxheight &amp;&amp; $pic_height &gt; $maxheight))\r\n{\r\n$resizewidth_tag = false;\r\n$resizeheight_tag = false;\r\n\r\nif($maxwidth &amp;&amp; $pic_width&gt;$maxwidth)\r\n{\r\n$widthratio = $maxwidth/$pic_width;\r\n$resizewidth_tag = true;\r\n}\r\n\r\nif($maxheight &amp;&amp; $pic_height&gt;$maxheight)\r\n{\r\n$heightratio = $maxheight/$pic_height;\r\n$resizeheight_tag = true;\r\n}\r\n\r\nif($resizewidth_tag &amp;&amp; $resizeheight_tag)\r\n{\r\nif($widthratio&lt;$heightratio)\r\n$ratio = $widthratio;\r\nelse\r\n$ratio = $heightratio;\r\n}\r\n\r\nif($resizewidth_tag &amp;&amp; !$resizeheight_tag)\r\n$ratio = $widthratio;\r\nif($resizeheight_tag &amp;&amp; !$resizewidth_tag)\r\n$ratio = $heightratio;\r\n\r\n$newwidth = $pic_width * $ratio;\r\n$newheight = $pic_height * $ratio;\r\n\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n}\r\nelse\r\n{\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n}\r\nreturn imagejpeg($newim,$to);\r\n\r\n}\r\n?>\r\n</pre>', 'PHP按比例缩放图', '', 'inherit', 'open', '2012-12-03 18:50:09', 32, 'http://xpmyblog.sinaapp.com/?p=476', 0, 'revision', '', 0),
(478, 1, '2012-12-13 18:01:34', 'upload.php文件内容\r\n\r\n<pre class="brush: php;">\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录\r\n\r\n$img_dir = "upload/";\r\n\r\n// 把图片传到服务器\r\n\r\n// 初始化变量\r\n\r\n$uploaded = 0;\r\n\r\n$unuploaded = 0;\r\n\r\n$imgname = $uid.$time;\r\n\r\n//只允许三张图片上传\r\n\r\nfor ($i=0; $i<=2; $i++) {\r\n\r\n//获取当前图片的信息\r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i];\r\n\r\n//如果当前图片不为空\r\n\r\nif (!empty($is_file)) {\r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！\r\n";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！'';\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n/**\r\n* 按比例缩小图片\r\n*\r\n* @param string $im 源文件\r\n* @param int $maxwidth 规定图片宽 324px\r\n* @param int $maxhidth 规定图片高 343px\r\n* @param int $maxwidth 输出文件\r\n*\r\n* 返回文件\r\n*\r\n*/\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n// 载入图像到php到变量中\r\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\r\n$style = strtolower($suffix);\r\nif($style==''jpg'' || $style==''jpeg''){\r\n$originail = imagecreatefromjpeg($im); //jpg\r\n}elseif($style==''png''){\r\n$originail = imagecreatefrompng($im); //png\r\n}elseif($style==''gif''){\r\n$originail = imagecreatefromgif($im); //gif\r\n}\r\n$dims = getimagesize($im); //获取图片大小；\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg )\r\n\r\n$pic_width = $dims[''0''];\r\n$pic_height = $dims[''1''];\r\n\r\nif(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n{\r\n$resizewidth_tag = false;\r\n$resizeheight_tag = false;\r\n\r\nif($maxwidth && $pic_width>$maxwidth)\r\n{\r\n$widthratio = $maxwidth/$pic_width;\r\n$resizewidth_tag = true;\r\n}\r\n\r\nif($maxheight && $pic_height>$maxheight)\r\n{\r\n$heightratio = $maxheight/$pic_height;\r\n$resizeheight_tag = true;\r\n}\r\n\r\nif($resizewidth_tag && $resizeheight_tag)\r\n{\r\nif($widthratio<$heightratio)\r\n$ratio = $widthratio;\r\nelse\r\n$ratio = $heightratio;\r\n}\r\n\r\nif($resizewidth_tag && !$resizeheight_tag)\r\n$ratio = $widthratio;\r\nif($resizeheight_tag && !$resizewidth_tag)\r\n$ratio = $heightratio;\r\n\r\n$newwidth = $pic_width * $ratio;\r\n$newheight = $pic_height * $ratio;\r\n\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n}\r\nelse\r\n{\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n}\r\nreturn imagejpeg($newim,$to);\r\n\r\n}\r\n</pre>', 'PHP按比例缩放图', '', 'inherit', 'open', '2012-12-13 18:01:34', 32, 'http://xpmyblog.sinaapp.com/?p=478', 0, 'revision', '', 0),
(479, 1, '2012-12-12 21:21:24', '今天下午，看见有位兄台在群里发了一个功能需求，问有没有人做，我就出于好奇的目的，问问看。\r\n那位兄台就说了，“输入我要转化的连接，生成一个短连接，我用这个短连接去发微薄，手机端和PC端，都能访问正常。”\r\n我就热火朝天做了起来。\r\n中间那位兄台跟我解释再解释。\r\n\r\n哦，原来输入的是淘宝客的链接。\r\n。。。。。\r\n最后做出来的，手机不支持。\r\n。。。。。。\r\n\r\n我非常的不明白，这个淘宝客链接有两个，一个是手机端，一个是PC端，你只有一个连接，怎么能使生成的短链接灵活的跳到两个链接里呢。\r\n\r\n我就想，只能根据商品ID，key，密钥才能生成两个链接。\r\n\r\n。。。。。。\r\n\r\n到家跟那位仁兄说了我的想法。结果。。。。\r\n\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名.jpg"><img class="alignnone size-medium wp-image-425" title="淘宝客" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名-700x335.jpg" alt="" width="700" height="335" /></a>\r\n\r\n看到上面的图了没，只有一个链接，而且还是PC端的。我。。。。。。总算明白了需求，但是我不会啊。\r\n\r\n有朋友会吗？', '到现在才明白那位兄台说的啥意思', '', 'inherit', 'open', '2012-12-12 21:21:24', 424, 'http://xpmyblog.sinaapp.com/?p=479', 0, 'revision', '', 0),
(480, 1, '2012-12-19 17:52:51', '今天下午，看见有位兄台在群里发了一个功能需求，问有没有人做，我就出于好奇的目的，问问看。\r\n那位兄台就说了，“输入我要转化的连接，生成一个短连接，我用这个短连接去发微薄，手机端和PC端，都能访问正常。”\r\n我就热火朝天做了起来。\r\n中间那位兄台跟我解释再解释。\r\n\r\n哦，原来输入的是淘宝客的链接。\r\n。。。。。\r\n最后做出来的，手机不支持。\r\n。。。。。。\r\n\r\n我非常的不明白，这个淘宝客链接有两个，一个是手机端，一个是PC端，你只有一个连接，怎么能使生成的短链接灵活的跳到两个链接里呢。\r\n\r\n我就想，只能根据商品ID，key，密钥才能生成两个链接。\r\n\r\n。。。。。。\r\n\r\n到家跟那位仁兄说了我的想法。结果。。。。\r\n\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名.jpg"><img class="alignnone size-medium wp-image-425" title="淘宝客" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/未命名-700x335.jpg" alt="" width="700" height="335" /></a>\r\n\r\n看到上面的图了没，只有一个链接，而且还是PC端的。我。。。。。。总算明白了需求，但是不会做。', '到现在才明白那位兄台说的啥意思', '', 'inherit', 'open', '2012-12-19 17:52:51', 424, 'http://xpmyblog.sinaapp.com/?p=480', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(481, 1, '2012-12-21 13:26:45', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\r\n<p></p>\r\n代码如下(有PHP代码哦)：\r\n<pre class="brush:other">&lt;?php\r\n	if(isset($_GET[&#39;page&#39;])){\r\n	    $page = (int)$_GET[&#39;page&#39;];\r\n	}else{\r\n        $page = 1;\r\n    }\r\n?&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;\r\n&lt;title&gt;分页&lt;/title&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;open_js/jquery.js&quot;&gt;&lt;/script&gt;\r\n&lt;style type=&quot;text/css&quot;&gt;\r\nbody,*{ padding:0px; margin:0px; font-size:12px;}\r\nol,li{ list-style:none;}\r\na{ text-decoration:none;}\r\n.pagebar{ padding:20px 0;}\r\n.pagebar ul{height:25px;}\r\n.pagebar li{ float:left; width:40px; margin-right:10px; background:#99CC00; text-align:center; line-height:25px;}\r\n.pagebar li a{ display:block; color:#000;}\r\n.pagebar li:hover{ background:#389FDA; font-weight:bold;}\r\n.pagebar .active{ background:#389FDA;}\r\n.pagebar .active a{ font-weight: bold;}\r\n.pagebar .dark{ background: #ccc; cursor: pointer;}\r\n.pagebar .p-lang{ width: 100px;}\r\n.pagebar .dark:hover{ background: #ccc;font-weight:normal;}\r\n&lt;/style&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\nfunction xpage(nowPage,totalPage,leftPage,nowTotalPage,url) {\r\n    var prev = 1;\r\n    if(nowPage-1&gt;0) prev = nowPage-1;\r\n    var next = totalPage;\r\n    if(nowPage+1&lt;totalPage) next = nowPage+1;\r\n	var first = &#39;&#39;;\r\n	if(nowPage == 1) first = &#39;dark&#39;;  \r\n    var frontPage = &#39;&lt;ul&gt;&lt;li class=&quot;&#39;+first+&#39; p-lang&quot;&gt;&lt;a href=&quot;&#39;+url+&#39;1&quot;&gt;&amp;lt;&amp;lt; Front&lt;/a&gt;&lt;/li&gt;&#39;;\r\n    var prevPage = &#39;&lt;li class=&quot;&#39;+first+&#39;&quot;&gt;&lt;a href=&quot;&#39;+url+prev+&#39;&quot;&gt;&amp;lt;&amp;lt;&lt;/a&gt;&lt;/li&gt;&#39;;\r\n    var left = 1;\r\n    var right = nowTotalPage;\r\n    if(nowPage &gt; leftPage) {\r\n        left = nowPage-leftPage;\r\n        right = nowPage+2;\r\n    }\r\n    if(right &gt; totalPage) right=totalPage;\r\n    var pageList = &#39;&#39;;\r\n    for(var i=left; i&lt;=right; i++) {\r\n        if(i == nowPage){\r\n            pageList += &#39;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;javascript:;&quot;&gt;&#39;+i+&#39;&lt;/a&gt;&lt;/li&gt;&#39;;\r\n        }else{\r\n            pageList += &#39;&lt;li&gt;&lt;a href=&quot;&#39;+url+i+&#39;&quot;&gt;&#39;+i+&#39;&lt;/a&gt;&lt;/li&gt;&#39;;\r\n        }\r\n    }\r\n	var last = &#39;&#39;;\r\n	if(nowPage == totalPage) last = &#39;dark&#39;;\r\n    var nextPage = &#39;&lt;li class=&quot;&#39;+last+&#39;&quot;&gt;&lt;a href=&quot;&#39;+url+next+&#39;&quot;&gt;&amp;gt;&amp;gt;&lt;/a&gt;&lt;/li&gt;&#39;;\r\n    var lastPage = &#39;&lt;li class=&quot;&#39;+last+&#39; p-lang&quot;&gt;&lt;a href=&quot;&#39;+url+totalPage+&#39;&quot;&gt;Last &amp;gt;&amp;gt;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&#39;;\r\n    $(&#39;#pageBar&#39;).html(frontPage+prevPage+pageList+nextPage+lastPage);\r\n}\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div id=&quot;pageBar&quot; class=&quot;pagebar&quot;&gt;&lt;/div&gt;\r\n&lt;script&gt;\r\nxpage(&lt;?=$page?&gt;,12,2,5,&#39;?page=&#39;); //当前页码, 总页数, 左边数, 当前分页数, url\r\n\r\n// 首页 上一页 3 4 5 6 7 下一页 末页\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</pre><p>&nbsp;</p>', '自己整的js分页', '', 'publish', 'open', '2012-12-21 16:24:37', 0, 'http://xpmyblog.sinaapp.com/?p=481', 0, 'post', '', 0),
(482, 1, '2012-12-21 13:24:56', '', '分页', '', 'inherit', 'open', '2012-12-21 13:24:56', 481, 'http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg', 0, 'attachment', 'image/jpeg', 0),
(483, 1, '2012-12-21 13:26:00', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\n<p></p>\n代码如下：\n', '自己整的js分页', '', 'inherit', 'open', '2012-12-21 13:26:00', 481, 'http://xpmyblog.sinaapp.com/?p=483', 0, 'revision', '', 0),
(484, 1, '2012-12-21 13:26:45', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\r\n<p></p>\r\n代码如下(有PHP代码哦)：\r\n<pre>\r\n<?php\r\n	if(isset($_GET[''page''])){\r\n	    $page = (int)$_GET[''page''];\r\n	}else{\r\n        $page = 1;\r\n    }\r\n?>\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>分页</title>\r\n<script type="text/javascript" src="open_js/jquery.js"></script>\r\n<style type="text/css">\r\nbody,*{ padding:0px; margin:0px; font-size:12px;}\r\nol,li{ list-style:none;}\r\na{ text-decoration:none;}\r\n.pagebar{ padding:20px 0;}\r\n.pagebar ul{height:25px;}\r\n.pagebar li{ float:left; width:40px; margin-right:10px; background:#99CC00; text-align:center; line-height:25px;}\r\n.pagebar li a{ display:block; color:#000;}\r\n.pagebar li:hover{ background:#389FDA; font-weight:bold;}\r\n.pagebar .active{ background:#389FDA;}\r\n.pagebar .active a{ font-weight: bold;}\r\n.pagebar .dark{ background: #ccc; cursor: pointer;}\r\n.pagebar .p-lang{ width: 100px;}\r\n.pagebar .dark:hover{ background: #ccc;font-weight:normal;}\r\n</style>\r\n<script type="text/javascript">\r\nfunction xpage(nowPage,totalPage,leftPage,nowTotalPage,url) {\r\n    var prev = 1;\r\n    if(nowPage-1>0) prev = nowPage-1;\r\n    var next = totalPage;\r\n    if(nowPage+1<totalPage) next = nowPage+1;\r\n    var frontPage = ''<ul><li class="p-lang"><a href="''+url+''1">&lt;&lt; Front</a></li>'';\r\n    var prevPage = ''<li><a href="''+url+prev+''">&lt;&lt;</a></li>'';\r\n    var left = 1;\r\n    var right = nowTotalPage;\r\n    if(nowPage > leftPage) {\r\n        left = nowPage-leftPage;\r\n        right = nowPage+2;\r\n    }\r\n    if(right > totalPage) right=totalPage;\r\n    var pageList = '''';\r\n    for(var i=left; i<=right; i++) {\r\n        if(i == nowPage){\r\n            pageList += ''<li class="active"><a href="javascript:;">''+i+''</a></li>'';\r\n        }else{\r\n            pageList += ''<li><a href="''+url+i+''">''+i+''</a></li>'';\r\n        }\r\n    }\r\n    var nextPage = ''<li><a href="''+url+next+''">&gt;&gt;</a></li>'';\r\n    var lastPage = ''<li class="p-lang"><a href="''+url+totalPage+''">Last &gt;&gt;</a></li></ul>'';\r\n    $(''#pageBar'').html(frontPage+prevPage+pageList+nextPage+lastPage);\r\n}\r\n</script>\r\n</head>\r\n<body>\r\n<div id="pageBar" class="pagebar"></div>\r\n<script>\r\nxpage(<?=$page?>,12,2,5,''?page=''); //当前页码, 总页数, 左边数, 当前分页数, url\r\n\r\n// 首页 上一页 3 4 5 6 7 下一页 末页\r\n</script>\r\n</body>\r\n</html>\r\n</pre>', '自己整的js分页', '', 'inherit', 'open', '2012-12-21 13:26:45', 481, 'http://xpmyblog.sinaapp.com/?p=484', 0, 'revision', '', 0),
(485, 1, '2012-12-21 13:27:22', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\r\n<p></p>\r\n代码如下(有PHP代码哦)：\r\n<pre class="brush: html;">\r\n<?php\r\n	if(isset($_GET[''page''])){\r\n	    $page = (int)$_GET[''page''];\r\n	}else{\r\n        $page = 1;\r\n    }\r\n?>\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>分页</title>\r\n<script type="text/javascript" src="open_js/jquery.js"></script>\r\n<style type="text/css">\r\nbody,*{ padding:0px; margin:0px; font-size:12px;}\r\nol,li{ list-style:none;}\r\na{ text-decoration:none;}\r\n.pagebar{ padding:20px 0;}\r\n.pagebar ul{height:25px;}\r\n.pagebar li{ float:left; width:40px; margin-right:10px; background:#99CC00; text-align:center; line-height:25px;}\r\n.pagebar li a{ display:block; color:#000;}\r\n.pagebar li:hover{ background:#389FDA; font-weight:bold;}\r\n.pagebar .active{ background:#389FDA;}\r\n.pagebar .active a{ font-weight: bold;}\r\n.pagebar .dark{ background: #ccc; cursor: pointer;}\r\n.pagebar .p-lang{ width: 100px;}\r\n.pagebar .dark:hover{ background: #ccc;font-weight:normal;}\r\n</style>\r\n<script type="text/javascript">\r\nfunction xpage(nowPage,totalPage,leftPage,nowTotalPage,url) {\r\n    var prev = 1;\r\n    if(nowPage-1>0) prev = nowPage-1;\r\n    var next = totalPage;\r\n    if(nowPage+1<totalPage) next = nowPage+1;\r\n    var frontPage = ''<ul><li class="p-lang"><a href="''+url+''1">&lt;&lt; Front</a></li>'';\r\n    var prevPage = ''<li><a href="''+url+prev+''">&lt;&lt;</a></li>'';\r\n    var left = 1;\r\n    var right = nowTotalPage;\r\n    if(nowPage > leftPage) {\r\n        left = nowPage-leftPage;\r\n        right = nowPage+2;\r\n    }\r\n    if(right > totalPage) right=totalPage;\r\n    var pageList = '''';\r\n    for(var i=left; i<=right; i++) {\r\n        if(i == nowPage){\r\n            pageList += ''<li class="active"><a href="javascript:;">''+i+''</a></li>'';\r\n        }else{\r\n            pageList += ''<li><a href="''+url+i+''">''+i+''</a></li>'';\r\n        }\r\n    }\r\n    var nextPage = ''<li><a href="''+url+next+''">&gt;&gt;</a></li>'';\r\n    var lastPage = ''<li class="p-lang"><a href="''+url+totalPage+''">Last &gt;&gt;</a></li></ul>'';\r\n    $(''#pageBar'').html(frontPage+prevPage+pageList+nextPage+lastPage);\r\n}\r\n</script>\r\n</head>\r\n<body>\r\n<div id="pageBar" class="pagebar"></div>\r\n<script>\r\nxpage(<?=$page?>,12,2,5,''?page=''); //当前页码, 总页数, 左边数, 当前分页数, url\r\n\r\n// 首页 上一页 3 4 5 6 7 下一页 末页\r\n</script>\r\n</body>\r\n</html>\r\n</pre>', '自己整的js分页', '', 'inherit', 'open', '2012-12-21 13:27:22', 481, 'http://xpmyblog.sinaapp.com/?p=485', 0, 'revision', '', 0),
(486, 1, '2012-12-21 14:57:09', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\n<p></p>\n代码如下(有PHP代码哦)：\n<pre class="brush:php">\nif(isset($_GET[&#39;page&#39;])){\n    $page = (int)$_GET[&#39;page&#39;];\n}else{\n    $page = 1;\n}\n</pre>\n<pre class="brush:php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;\n&lt;title&gt;分页&lt;/title&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;open_js/jquery.js&quot;&gt;&lt;/script&gt;</pre>\n', '自己整的js分页', '', 'inherit', 'open', '2012-12-21 14:57:09', 481, 'http://xpmyblog.sinaapp.com/?p=486', 0, 'revision', '', 0),
(487, 1, '2012-12-21 13:27:51', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\r\n<p></p>\r\n代码如下(有PHP代码哦)：\r\n<pre class="brush: php;">\r\n<?php\r\n	if(isset($_GET[''page''])){\r\n	    $page = (int)$_GET[''page''];\r\n	}else{\r\n        $page = 1;\r\n    }\r\n?>\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<title>分页</title>\r\n<script type="text/javascript" src="open_js/jquery.js"></script>\r\n<style type="text/css">\r\nbody,*{ padding:0px; margin:0px; font-size:12px;}\r\nol,li{ list-style:none;}\r\na{ text-decoration:none;}\r\n.pagebar{ padding:20px 0;}\r\n.pagebar ul{height:25px;}\r\n.pagebar li{ float:left; width:40px; margin-right:10px; background:#99CC00; text-align:center; line-height:25px;}\r\n.pagebar li a{ display:block; color:#000;}\r\n.pagebar li:hover{ background:#389FDA; font-weight:bold;}\r\n.pagebar .active{ background:#389FDA;}\r\n.pagebar .active a{ font-weight: bold;}\r\n.pagebar .dark{ background: #ccc; cursor: pointer;}\r\n.pagebar .p-lang{ width: 100px;}\r\n.pagebar .dark:hover{ background: #ccc;font-weight:normal;}\r\n</style>\r\n<script type="text/javascript">\r\nfunction xpage(nowPage,totalPage,leftPage,nowTotalPage,url) {\r\n    var prev = 1;\r\n    if(nowPage-1>0) prev = nowPage-1;\r\n    var next = totalPage;\r\n    if(nowPage+1<totalPage) next = nowPage+1;\r\n    var frontPage = ''<ul><li class="p-lang"><a href="''+url+''1">&lt;&lt; Front</a></li>'';\r\n    var prevPage = ''<li><a href="''+url+prev+''">&lt;&lt;</a></li>'';\r\n    var left = 1;\r\n    var right = nowTotalPage;\r\n    if(nowPage > leftPage) {\r\n        left = nowPage-leftPage;\r\n        right = nowPage+2;\r\n    }\r\n    if(right > totalPage) right=totalPage;\r\n    var pageList = '''';\r\n    for(var i=left; i<=right; i++) {\r\n        if(i == nowPage){\r\n            pageList += ''<li class="active"><a href="javascript:;">''+i+''</a></li>'';\r\n        }else{\r\n            pageList += ''<li><a href="''+url+i+''">''+i+''</a></li>'';\r\n        }\r\n    }\r\n    var nextPage = ''<li><a href="''+url+next+''">&gt;&gt;</a></li>'';\r\n    var lastPage = ''<li class="p-lang"><a href="''+url+totalPage+''">Last &gt;&gt;</a></li></ul>'';\r\n    $(''#pageBar'').html(frontPage+prevPage+pageList+nextPage+lastPage);\r\n}\r\n</script>\r\n</head>\r\n<body>\r\n<div id="pageBar" class="pagebar"></div>\r\n<script>\r\nxpage(<?=$page?>,12,2,5,''?page=''); //当前页码, 总页数, 左边数, 当前分页数, url\r\n\r\n// 首页 上一页 3 4 5 6 7 下一页 末页\r\n</script>\r\n</body>\r\n</html>\r\n</pre>', '自己整的js分页', '', 'inherit', 'open', '2012-12-21 13:27:51', 481, 'http://xpmyblog.sinaapp.com/?p=487', 0, 'revision', '', 0),
(488, 1, '2012-12-21 14:56:06', '在网上找了很多js分页，但都不是我想要的，所以自己整了个。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2012/12/pagebar.jpg" alt="" title="分页" width="596" height="95" class="alignnone size-full wp-image-482" /></a>\r\n<p></p>\r\n代码如下(有PHP代码哦)：\r\n<pre class="brush:php">\r\nif(isset($_GET[&#39;page&#39;])){\r\n    $page = (int)$_GET[&#39;page&#39;];\r\n}else{\r\n    $page = 1;\r\n}\r\n</pre><p>&nbsp;</p>', '自己整的js分页', '', 'inherit', 'open', '2012-12-21 14:56:06', 481, 'http://xpmyblog.sinaapp.com/?p=488', 0, 'revision', '', 0),
(490, 1, '2012-09-28 00:08:55', 'configure: error: xml2-config not found. Please check your libxml2 installation.\r\nyum install libxml2-devel\r\n\r\nconfigure: error: Cannot find OpenSSL’s\r\nyum install openssl-devel\r\n\r\nconfigure: error: Please reinstall the libcurl distribution -easy.h should be in /include/curl/\r\nyum install curl-devel\r\nconfigure: error: libjpeg.(a|so) not found\r\nyum install libjpeg-devel\r\n\r\nconfigure: error: libpng.(a|so) not found.\r\nyum install libpng-devel\r\n\r\nconfigure: error: libXpm.(a|so) not found.\r\nyum install libXpm-devel\r\n\r\nconfigure: error: freetype.h not found.\r\nyum install freetype-devel\r\n\r\nconfigure: error: utf8_mime2text() has new signature, but U8T_CANONICAL is missing. This should not happen. Check config.log for additional information.\r\nyum install libc-client-devel\r\n\r\nconfigure: error: mcrypt.h not found. Please reinstall libmcrypt.\r\nyum install libmcrypt-devel\r\n\r\nconfigure: error: Please reinstall libmhash – I cannot find mhash.h\r\nyum install mhash-devel\r\n\r\nconfigure: error: Cannot find MySQL header files under /usr.\r\nNote that the MySQL client library is not bundled anymore!\r\nyum install mysql-devel\r\n\r\nconfigure: error: Please reinstall ming distribution. libming.(a|so) not found\r\n- temp remove the config for ‘–with-ming=/opt/ming/’\r\n\r\nconfigure: error: Cannot find pspell\r\nyum install pspell-devel\r\n\r\nconfigure: error: cannot find mm library\r\nDownload from http://www.ossp.org/pkg/lib/mm/\r\nwget ftp://ftp.ossp.org/pkg/lib/mm/mm-1.4.2.tar.gz\r\nExtract it:  tar -zxvf mm-1.4.2.tar.gz\r\n./configure\r\nmake\r\nmake install\r\n\r\nconfigure: error: Cannot find libtidy\r\nyum install libtidy-devel\r\nyum install libtidy\r\nchange path at configure: ‘–with-tidy=/usr’\r\n\r\nconfigure: error: not found. Please reinstall the expat distribution.\r\nyum install expat-devel\r\n\r\nconfigure: error: xslt-config not found. Please reinstall the libxslt >= 1.1.0 distribution\r\nyum install libxslt-devel\r\n\r\n*Tips: To uninstall, just enter:\r\nyum remove {package-name}\r\n\r\nFinally the compilation of php end with "Thank you for using PHP."', 'CentOS 5.5下编译php时的一些典型错误及解决办法.', '', 'inherit', 'open', '2012-09-28 00:08:55', 335, 'http://xpmyblog.sinaapp.com/?p=490', 0, 'revision', '', 0),
(491, 1, '2012-11-01 11:30:45', '1、大学室友结婚，我们一群女生去她家作傧相。她奶奶在门口迎接我们，看到我们来了，奶奶笑得合不拢嘴了，“哎呀，这几个闺女是一个比一个p....”奶奶刚把p这个口型做出来的时候刚巧看到我了，天呐，她竟然硬生生地把最后两个字给咽下去了！\r\n\r\n2、猫确实娇气受不了，刚才在朋友家，她家猫趴在我屁股后面睡觉，我啤酒喝多了放了个屁，放在猫头上了，结果那猫嗷一下站起来了，双手在眼前扑腾了几下，后仰着倒下去了，昏特了，直挺挺的，吓死爹了。。。我朋友赶紧送宠物医院了，刚才打电话说酒精中毒了，让我去探视，给猫道个谦。\r\n\r\n3、带外甥女去极地馆看企鹅，小故娘一脸好奇地拽着我手，问：“小姨，为什么这里的企鹅都是男孩子呢？”我说：“怎么会呢？里面一定有女企鹅的啊…”她不高兴地撇了嘴：“才不是呢，我知道，女企鹅都是头上扎个蝴蝶结的！” 腾讯，别跟我说这事儿不是你干的！你丫还我一天真烂漫的外甥女。\r\n\r\n4、一个妹子问我SM是什么意思，我不好意思说，就告诉她是失眠的意思，然后她就把签名改成了“最近经常SM……”\r\n\r\n5、你可以尝试半夜两点打电话给你老师，说：“老师，睡了么？”他说：“睡了，什么事？”这时你用最大的力气吼出来：“老子他妈的还在写作业！”然后趁他没反应过来，果断挂掉！\r\n\r\n6、我在宿舍养了一对小仓鼠，一直喂它吃瓜子。养过的都知道仓鼠喜欢把瓜子都嗑好藏起来。某天给它换笼子里的木粉，把所有的存活都给他扔了。仓鼠进去后不停地翻来翻去，啥都没找不到。最后迷茫的瞪着我。舍友看着它可怜巴巴的样子说：“这孩子就跟让人盗号了一样……”\r\n\r\n7、该怎么形容我们班的人有多傻逼呢。。。我们老师嫌两个人捣蛋，就让他们站到教室后面去了。一会儿，老师说，你们看后面那两个人就和僵尸似的，然后好多人就同时回过头对他们＂噗＂＂噗＂＂噗＂＂噗＂。。。。。。。。。。。\r\n\r\n8、话说，男友二表姐小时候，大概3、4岁的样子。 看见男友妈妈怀孕的肚子。 然后问男友妈妈“小姑，你这肚子里是什么呀?” 男友妈妈就逗她说“是小怪兽.” 说完只见小姑娘以迅雷不及掩耳之势奋力一拳挥向男友妈妈的肚子。 完事说一句“小姑，它死了吗？” 姐，得亏您当年那一拳没把我男人打死啊......\r\n\r\n9、取经路上，杀出两个美猴王，上下天庭地府，无人能辨真假。观音建议：不如让两猴选择最爱的水果，众生皆迷茫。最终悟空选了榴莲，六耳选了桃子……此时背景音乐响起：有石猴，有石猴，宁愿选择榴莲不放手……（出自王菲的一首歌）\r\n\r\n10、刚才去打水房打开水，见证了经典的一幕：前面排了一个美女和一个男生，美女突然回头对那男生说她杯子拧不开了。于是那男生说：那我先接吧。\r\n\r\n11、本人女,大学在读,虽然长的不是很好看但绝对让人感觉乖乖女的类型。最近忙着考试和男友很长时间都没见了.昨天食堂吃饭看见他把打得饭菜放到桌子上去拿筷子,我迅速坐到他放饭的那个桌子拿起他的鸡腿就是一口.等他回来时我特谄媚的笑了.突然发现这人不认识.于是立刻埋头苦吃,那男人回来看着被咬一口的鸡腿又看看我.于是他看着就陷入沉默中...\r\n\r\n12、自恋的女生就是这样的。“下辈子要做男生，娶一个像我这样的女生。”\r\n\r\n13、这世道难的……妈妈语重心长的对女儿说，“从小你就不聪明，累死累活的才考上大学，毕业后还找不到工作，现在司机要男的、编辑要男的、会计要男的、连秘书也要男的，妈实在为你操碎了心啊。”女儿“555。。。”妈妈一抹脸，坚定的说，“所以趁现在老婆还能是女人，赶紧上岗，要不然过两年……”\r\n\r\n14、大四时，一日自习完下楼，以为走我前面的一人是舍友，偷偷跑上前去朝他屁股狠狠的踹了一脚，还大喊：你竟然来自习了？！那人揉着屁股回头可怜巴巴的看着我，颤抖着说：恩。四目相对几秒后，我正犹豫着怎么道歉呢，那人答道：大哥，我大一新生，以后不敢了…\r\n\r\n15、和男友一起逛街。逛久了无比尿急，找了好久都没有找到厕所。 转了几圈之后终于找到一个残疾人专用厕所，门没锁。 我正在犹豫时，男友说：“快进去啊！脑残也是残疾的一种！” 然后我就进去了……\r\n\r\n16、当我把一张中了五百万的彩票递给彩票中心工作人员时，大家立即投来羡慕的目光！我又拿出了第二张，还是五百万，大家惊呆了！我又拿出第三张时，空气都窒息了！……当我正准备拿出第四张时，老公把我踹醒了，不满地说：“睡觉也不老实，把书撕得一片一片的，居然还笑得那么大声！”\r\n\r\n17、女生只有在自己喜欢的男生前面可以变成女生，其他的时候必须像爷们儿一样去奋斗。。。\r\n\r\n18、这个故事是发生在我的一个朋友的身上。我朋友是一名寄宿生，在某个假期室友全都回家了，她依然留在宿舍中。当晚，朋友在睡眠中感到尿急，可是由于厕所距离房间有一段距离，四周又黑漆漆的，朋友感到害怕便叫醒睡在她身边的室友陪她一同去厕所，当她进入厕所后，却再也不敢出去了....\r\n\r\n19、有次晚上我做梦，梦见我在改PHPCMS后台的密码，然后改了之后，我左腿抽筋，疼死我了，然后赶紧给改回来，突然右腿又开始抽筋。我的妈呀！！！疼死了！！！第二天、第三天，就看到我一瘸一拐的上班。\r\n\r\n20、原来我做的糊涂事不少啊，刚刚在我自己的电脑上ctrl+c，然后跑到同事的电脑上ctrl+v，然后惊奇的发现怎么复制不下来啊？？？我晕！！！\r\n\r\n21、【没有安全感的9个特征】1. 会爱音乐，非常非常爱；2. 怕黑，却习惯晚睡；3.隐藏真正的心事；4.习惯抱臂习惯冷战；5. 会突然不知所措；6.喜欢窗户，喜欢蜷缩；7.喜欢写字和阅读；8.莫名的孤单，无法抗拒的恐惧感；9.不爱说话或很爱说话。', '嘿嘿，笑话来啦…………', '', 'inherit', 'open', '2012-11-01 11:30:45', 232, 'http://xpmyblog.sinaapp.com/?p=491', 0, 'revision', '', 0),
(492, 1, '2012-02-27 11:53:14', '转载：http://blog.jobbole.com/13901/\r\n一、\r\n总裁：“我们不需要两台服务器”\r\n我：“可是我们需要双机备份”\r\n总裁：“两台服务器是为失败者准备的，优秀的团队绝对不允许任何一台服务器出问题”\r\n我：“唉…”\r\n二、\r\n领导：“我们的外网网站应该支持IE8”\r\n开发：“我们需要安装IE8才能测试\r\n领导：“技术支持部门会为你们测试”\r\n技术支持：“我们不支持IE8”\r\n开发：“我们需要安装IE8来测试\r\n领导：“你们不允许安装未经批准的软件\r\n开发：“唉…”\r\n领导：“为什么我们的外网网站还没有支持IE8？”\r\n三、\r\n技术总监：“我们要准备把我们的MySQL换成SQL Server。”\r\n开发人员：“这是出于什么目的？一切都运转良好呀，而且买SQL Server需要花费￥￥￥…”\r\n技术总监：“因为MySQL不是‘企业级’的。”\r\n唉…\r\n\r\n四、\r\n一个同事在写单元测试。当运行起来后，他发现有个测试断言失败了。他如何解决这个问题？他把它给删了，因为“没有人会注意到这些”。\r\n唉…\r\n五、\r\n老板：我们需要在这放一个cookie——他指着屏幕。\r\n我：什么？\r\n老板：在这放一个cookie——他再次指了一下屏幕。\r\n我：呃…\r\n技术负责人：他的意思是一个下拉列表。\r\n六、\r\n我：在我们把这些屏幕截图通过网络送出去之前应该用ffmpeg工具包把它们压缩一下…\r\n团队负责人：谁打算去学习这些没有文档的api？我们先用多线程技术直接发送数据…\r\n我：这样可能数据量太大…\r\n团队负责人：没错，先干着。你抽空在“业余”时间研究一下那个api。\r\n团队：哈哈…\r\n….. 一个月后，多线程版的实现了…\r\n团队：局域网上运行表现非常好…放到WiFi网络上试试\r\n…. 由于数据延迟，慢的像蜗牛…\r\n团队负责人：你有没有在业余时间研究一下那个ffmpeg？\r\n我：唉…\r\n(mark，这个太形象了，业余时间研究，唉呀妈呀，哪来那么多业余时间啊？？？)\r\n七、\r\n我知道，我们需要用 pngquaint软件 压缩60多个总共20多兆的PNG图片。\r\npngquaint软件崩溃了，怎么回事？\r\n研究发现，这些PNG文件实际上是JPG文件，只是名称被改成了PNG，不知道之前那个程序员她想干嘛。(mark一下，这个某人干过！)\r\n唉…\r\n', '一声叹息', '', 'inherit', 'open', '2012-02-27 11:53:14', 214, 'http://xpmyblog.sinaapp.com/?p=492', 0, 'revision', '', 0),
(493, 1, '2012-11-01 11:31:01', '1、我一同学，在美国读研。一次他去苹果店买电脑，对卖电脑的人的态度很不满，结果把店里的电脑，iPad，iPhone神马的系统语言全都设成中文后扬长而去。\r\n\r\n2、成绩最好的同学提前交卷，告诉监考老师要通知事情，接着在黑板上写：\r\n　　1、4、6、9、12、17号考完试留下作清洁；\r\n\r\n　　2、3、8、14、18号考完去找班主任；\r\n\r\n　　5、10、11、15、19号考完了去找数学老师补作业；\r\n\r\n　　其他同学考完了回寝室。\r\n\r\n　　其实真正的意思是：第一行代表选A的题号，第二行代表选B的，以此类推。\r\n\r\n3、如何判断员工是否在工作：1.打字非常轻快且有停顿：在聊天；2.键盘鼠标并用且不停点击：在玩游戏；3.不停滑动滚轮或Pagedown键：在看帖子；4.不停按刷新/F5：在上微博；5.一动不动，紧盯屏幕的，在看电影。表情时而严肃，时而轻松的是在看股 票；7.手放在键盘上但长时间未动：睡着了。（标注：当年我一同事就跟我说，不要把键盘敲的那么响，那么快，因为总监会认为你在聊天，哈哈哈！）\r\n\r\n4、我同事的猫，只要一犯错就被扯脖子扔出窗户，他家在二楼。所以现在我就能看到一个奇怪的现象：我去他们家玩，那猫进来瞅了瞅，一爪子把可乐放翻，然后直勾勾地看着同事几秒，慢慢地走到窗台，侧着身子栽下去……\r\n\r\n5、同学刚刚打电话来嚎啕大哭：“刚才我上厕所发现没纸！问隔壁借纸的时候，发现这竟然是男厕所！！” “那还不快跑？！” “跑了！一推门外边冲进来一群男生！领头那个我还认识！！！！” “捂住脸啊！” “捂了！但是这货大声叫我名字！兴高采烈跟我说：XX！好巧！你也来上厕所啊！哈哈哈哈！！！！”\r\n\r\n6、昨天深夜，骑着单车回家，由于没有路灯 所以骑得比较慢，后面来了辆小车，慢慢的跟着我，还是不是的用远近灯为我照亮前方的路，在这寒冷的夜里，让我心中有种莫名的感动。。直到数秒过后，后面的开始按喇叭，那人伸出头来说：你丫的，别骑路中间啊...\r\n', '我又来发笑话了。', '', 'inherit', 'open', '2012-11-01 11:31:01', 172, 'http://xpmyblog.sinaapp.com/?p=493', 0, 'revision', '', 0),
(494, 1, '2012-11-01 11:31:07', '1.学生课间去厕所，拉完发现没带纸，又等不到人，手机又欠费。绝望中他给10086打电话，请求帮助。。。据说那边沉默了很久，后来……他班同学上课时收到了这样一条短信：尊敬的中国移动用户你好，你的同学谁谁谁在厕所里，让你给他送手纸。详情请咨询10086\r\n\r\n2.寝室在6楼，爬上来后发现钥匙未带，下楼问阿姨拿，再爬上来开门，下去还钥匙，再爬上来，发现门紧闭，隔壁一同学经过，问曰“看你门没关，我帮你关了。”…\r\n\r\n3.晚上我女朋友说我太娘了，我很火大，就跟她吵起来了，本来是想显得男人一点，结果最后控制不住哭起来了。\r\n\r\n4.一哥们鼓起勇气在QQ上向MM深情表白，一会儿MM回复：我是她的妈妈，我是来偷菜的\r\n\r\n5.课堂上老师点名：“刘华!” 结果下面一孩子大声回到：“yeah!” 老师很生气：“为什么不说‘到’？” 孩子说：“那个字念‘烨’……”。\r\n\r\n6.这天突然发现，我有大姨，二姨，四姨，五姨，却没有三姨。于是就去问我爸：为什么我没有三姨？ 心里还想了一下：难道三姨在小的时候就死了？ 我爸说：你三姨就是你妈！\r\n\r\n7.有一次下课打铃大家都要回家，下楼梯时我左脚踩到自己右脚，“啪”的以大字型的姿势摔在了路中央..我当时就想：不对，糗大了，我装晕。 \r\n　　结果我旁边的同学看我一动不动，赶紧扶起我，然后左右开打狂扇我耳光...\r\n\r\n8.一个同学，他的电脑每天早上会自动开机（估计是因为宿舍里早上来电的时候一瞬间冲开的）。 \r\n　　结果他老人家拿了一个符贴在了电脑上。。。\r\n\r\n9.老爸最看不惯外国歌星。可是有一天，我正在看迈克˙杰克逊的mtv时，赫然发现老爸站在后面看，一脸深思的表情。“爸爸，你也喜欢看这个？”\r\n　　\r\n　　老爸摇了摇头：“毛阿敏真是越来越难看了。”\r\n\r\n19.一个女性朋友和一个男性gay合租房子。有一天晚上她很沮丧，那个gay很体贴地给她下了碗面。她突然觉得很温馨，就说：“要不我们就这么凑合过过算了。”没想到gay脸色大变：‘你没男人要，我可有的！” \r\n　　　　 …………\r\n\r\n20.昨天收到一条QQ请求加好友的信息：“我是你妈”，我当即回了句“我是你爹！”，给拒绝了，然后就接到我妈电话说：“加我，快！”\r\n\r\n21.某日，体育课中途，洗手间解决个人问题。结果着急误进男厕。看到一男生正在小便池嘘嘘，俺当时就蒙了，一秒过后正准备悄悄撤退，结果被发现，晕死。只见那男生大叫一声“流氓，非礼”然后双手捂胸。后来，后来俺说了一句自己都觉得不可思议的话“同学，你捂错地方了……”\r\n\r\n22.喝的晕晕乎乎去一个餐厅卫生间小便，看见墙上写着一句话，凑近了一看，写着：“不要看这儿，专心尿尿。”等我看完这句话后，已经尿了自己一鞋了。\r\n\r\n23.我是救护医生，今天一个病人对我说他只有6个月好活了，我想说点鼓励的话!安慰到：六个月，很快就过去了，坚康?\r\n\r\n26.有一次我去漫吧租了本金田一，刚看到第二页就泪流满面，不知哪个天杀的用蓝色圆珠笔在某个人物上画了一个圈，写上，这个就是凶手……\r\n\r\n27.下午上公交车，拿出公交卡咣当投进投币孔里了\r\n\r\n28.一时兴起、拿自己照片当电脑桌面…然后我的电脑就中毒了…\r\n\r\n29. 高中一同学说梦话\r\n　　“爱妃，爱妃，不要离开朕”\r\n　　我石化……\r\n　　过一会\r\n　　“堂堂大清国就这么灭亡了，朕不甘心呐，朕不甘心呐”\r\n　　我直接崩溃……\r\n\r\n30. 我们数学老师总喜欢故作幽默的说些个没人笑的笑话\r\n　　我们全班就商量恶搞他一把，等他上课说第一句话的时候，我们就全体齐声大笑\r\n　　那天他进来，沉默了一下 说他爸去世了\r\n　　我立刻放声大笑，其他人鸦雀无声。\r\n\r\n31. 我在公交车上放了一个屁，\r\n　　见身边的纷纷挥手，表情痛苦，\r\n　　我也挥挥手。\r\n　　旁边的女士扭过头对我说：你就不要装了\r\n\r\n32.我和老婆去卧佛寺游玩，老婆路上走不动，于是我背她。\r\n　　一个老婆婆看见了，严肃的说：看你也是读过书的人。老婆有病还是早点去医院，拜佛是没用的\r\n\r\n33.小学时候每天只有几毛钱的零花钱，有一次攒了几天，好不容易买了一包五香瓜子，上课的时候偷偷的全磕了，瓜子壳全放在课桌抽屉了， \r\n　　　　下午来上课的时候看着瓜子壳又馋了，于是把瓜子壳又放到嘴里都含了一遍，感觉味道好好啊。。\r\n　　　　下课的时候一个同学问我吃什么，我只好说吃瓜子壳，专门买的五香瓜子壳，只有壳没有肉的，就是吃味道的。。结果那一个下午一帮子同学围在我座位边上吃我舔过两遍的瓜子壳。。。。\r\n\r\n36.逛超市呢 看到一收款员在很认真数一堆硬币 一小孩跑过，边跑边唱：门前大桥下游过一群鸭，快来快来数一数，二四六七八。。。。 然后收款员很郁闷的把数了一半的硬币倒回去重数....\r\n\r\n37.我们以前宿舍有个娃（男的），老实的有点当（笨），而且有时候傻得可爱。有一次晚上熄灯后，大家又在聊天，他就讲，等老子有钱了，就找三个女生。我们口味就被他调起来了，问他说然后呢，只见他镇定的说，打麻将…\r\n\r\n38.跟一姐姐聊天 她说：前天我老板，一个男的，和真懂似的，在我的电脑后面看半天，说“小柯，你也种菜啊？这可是上班时间！” 我收了收瓜子皮，，，瞅瞅他说“张总，这是我的桌面，你见哪块菜地上站着超级玛利呢？”\r\n\r\n39.楼下送葬队在吹《常回家看看》 \r\n　　不知道那家人怎么想的\r\n\r\n41.想起大学的一件事情来 \r\n　　大学期末考试，试卷上要求填写考号 \r\n　　我TMD写上QQ号码了\r\n\r\n42.我初中的班主任特别凶，每周五放学前都要开班会训话。一次，她情到激动处，义正词严地说，“你们怎么这么不争气，为了这个班，我绞尽奶汁”。当时我和周围几个同学强忍着不敢笑，只好把头深深的埋下。记得一个哥们趴在课桌上，使劲咬着手。。。\r\n\r\n46.宿舍哥们暴强，一日发现蚊帐里有只蚊子，忙活抓了半天没抓到，哥们叹口气说：“妈的，饿死你！”然后迅速把蚊帐收了起来，忍了好几天没挂蚊帐，最后终于把蚊子给饿死了，我们那个汗呀~~~~~这个不算什么对吧，很多人干过。 \r\n一**又发现蚊帐里竟然飞进一只苍蝇，跟我们说：“我非弄死他”。我们说：“苍蝇可是耐饿呀，看来你是靠不过他的”。 \r\n　　“你们看吧 ”，这人抄起一本小说钻进蚊帐，封口。边看小说边不停的挥动扇子，就是不让苍蝇落地，结果两个小时后，苍蝇终于飞不动了。他凑过去捅了捅苍蝇说：“飞呀小样，爷书还没看够呢”\r\n\r\n47.记得有次和爸妈去游泳馆，刚进大门的时候就看见一个社会青年的纹了一身的活，剃个“青皮”头，脖子上还戴个大金链子！等我们下水适应温度的时候就看那哥哥大摇大摆走过来往水里一站，天雷的事发生了。。。他脖子上那好粗好粗的大金链子浮在水面上。。。。。\r\n\r\n48.2009年7月22日，我在一个BBS上见一个哥们说：“TMD，原来日食是在白天，害老子白等了一宿.&quot;\r\n\r\n50.弟弟乘坐公共汽车时，车上一漂亮姑娘总是打量他。弟弟心想：姑娘可能对自己有意思，不禁心理美滋滋的。姑娘到站下车。弟弟见状马上跟了下去。姑娘在前面走着，还不时地回头看。弟弟鼓足勇气跑上前，不无幽默地搭讪道：“小姐，你为什么总看我？是不是我脸上有饭粒儿呀？”姑娘瞪了他一眼说：“你有病啊？明知道还不擦。” ', '有时候看看笑话，会让心情变好！', '', 'inherit', 'open', '2012-11-01 11:31:07', 117, 'http://xpmyblog.sinaapp.com/?p=494', 0, 'revision', '', 0),
(495, 1, '2012-11-01 11:31:12', 'http://www.sourcejoy.com/it/develop-girl-s-twitter.html\r\n网上看到的，一个女程序员twitter上发了一条tweet，广大淫民的创意真是相当给力呀。\r\n程序员MM的tweet内容：\r\n昨晚梦见男朋友和别的女人在逛街，梦里我的第一反应是查源代码…结果调试半天查不出来为什么显示的是那个女人不是我，最后含泪把那个女人给注释掉了，再一运行就是我男朋友自己逛街了…醒来囧字脸呆了很久…囧rz \r\n\r\n评论： \r\n1L \r\n把那个女人的指针指向你即可 \r\n2L \r\n谁让你把男朋友设成public的 \r\n3L \r\n加个断点看看那女人是谁 \r\n4L \r\n心真软，就该把他的接口屏蔽掉。//是我想多了么 \r\n5L \r\nprotected 逛街(youOnly) \r\n6L \r\n设计问题，应该采用单例模式 \r\n7L \r\n没做回归测试 \r\n8L \r\n标准做法是做个断言 \r\n9L \r\n注释掉了逛街的参数不用改么 \r\n10L \r\n不要忘记GC谢谢 \r\n11L \r\n查一下Log，只逛街了吗/. \r\n\r\n**看到一个最狠的回复： \r\n\r\n恩，上绝招，用goto，做个死循环，让他们逛死\r\n\r\n12L\r\n哈，是系统安全性没做好吧。被那个女人入侵了~~\r\n', '一个女程序员twitter上发了一条tweet', '', 'inherit', 'open', '2012-11-01 11:31:12', 115, 'http://xpmyblog.sinaapp.com/?p=495', 0, 'revision', '', 0),
(496, 1, '2012-12-21 16:16:07', '1.学生课间去厕所，拉完发现没带纸，又等不到人，手机又欠费。绝望中他给10086打电话，请求帮助。。。据说那边沉默了很久，后来……他班同学上课时收到了这样一条短信：尊敬的中国移动用户你好，你的同学谁谁谁在厕所里，让你给他送手纸。详情请咨询10086\r\n\r\n2.寝室在6楼，爬上来后发现钥匙未带，下楼问阿姨拿，再爬上来开门，下去还钥匙，再爬上来，发现门紧闭，隔壁一同学经过，问曰“看你门没关，我帮你关了。”…\r\n\r\n3.晚上我女朋友说我太娘了，我很火大，就跟她吵起来了，本来是想显得男人一点，结果最后控制不住哭起来了。\r\n\r\n4.一哥们鼓起勇气在QQ上向MM深情表白，一会儿MM回复：我是她的妈妈，我是来偷菜的\r\n\r\n5.课堂上老师点名：“刘华!” 结果下面一孩子大声回到：“yeah!” 老师很生气：“为什么不说‘到’？” 孩子说：“那个字念‘烨’……”。\r\n\r\n6.这天突然发现，我有大姨，二姨，四姨，五姨，却没有三姨。于是就去问我爸：为什么我没有三姨？ 心里还想了一下：难道三姨在小的时候就死了？ 我爸说：你三姨就是你妈！\r\n\r\n7.有一次下课打铃大家都要回家，下楼梯时我左脚踩到自己右脚，“啪”的以大字型的姿势摔在了路中央..我当时就想：不对，糗大了，我装晕。 \r\n　　结果我旁边的同学看我一动不动，赶紧扶起我，然后左右开打狂扇我耳光...\r\n\r\n8.一个同学，他的电脑每天早上会自动开机（估计是因为宿舍里早上来电的时候一瞬间冲开的）。 \r\n　　结果他老人家拿了一个符贴在了电脑上。。。\r\n\r\n9.老爸最看不惯外国歌星。可是有一天，我正在看迈克˙杰克逊的mtv时，赫然发现老爸站在后面看，一脸深思的表情。“爸爸，你也喜欢看这个？”\r\n　　\r\n　　老爸摇了摇头：“毛阿敏真是越来越难看了。”\r\n\r\n19.一个女性朋友和一个男性gay合租房子。有一天晚上她很沮丧，那个gay很体贴地给她下了碗面。她突然觉得很温馨，就说：“要不我们就这么凑合过过算了。”没想到gay脸色大变：‘你没男人要，我可有的！” \r\n　　　　 …………\r\n\r\n20.昨天收到一条QQ请求加好友的信息：“我是你妈”，我当即回了句“我是你爹！”，给拒绝了，然后就接到我妈电话说：“加我，快！”\r\n\r\n21.某日，体育课中途，洗手间解决个人问题。结果着急误进男厕。看到一男生正在小便池嘘嘘，俺当时就蒙了，一秒过后正准备悄悄撤退，结果被发现，晕死。只见那男生大叫一声“流氓，非礼”然后双手捂胸。后来，后来俺说了一句自己都觉得不可思议的话“同学，你捂错地方了……”\r\n\r\n22.喝的晕晕乎乎去一个餐厅卫生间小便，看见墙上写着一句话，凑近了一看，写着：“不要看这儿，专心尿尿。”等我看完这句话后，已经尿了自己一鞋了。\r\n\r\n23.我是救护医生，今天一个病人对我说他只有6个月好活了，我想说点鼓励的话!安慰到：六个月，很快就过去了，坚康?\r\n\r\n26.有一次我去漫吧租了本金田一，刚看到第二页就泪流满面，不知哪个天杀的用蓝色圆珠笔在某个人物上画了一个圈，写上，这个就是凶手……\r\n\r\n27.下午上公交车，拿出公交卡咣当投进投币孔里了\r\n\r\n28.一时兴起、拿自己照片当电脑桌面…然后我的电脑就中毒了…\r\n\r\n29. 高中一同学说梦话\r\n　　“爱妃，爱妃，不要离开朕”\r\n　　我石化……\r\n　　过一会\r\n　　“堂堂大清国就这么灭亡了，朕不甘心呐，朕不甘心呐”\r\n　　我直接崩溃……\r\n\r\n30. 我们数学老师总喜欢故作幽默的说些个没人笑的笑话\r\n　　我们全班就商量恶搞他一把，等他上课说第一句话的时候，我们就全体齐声大笑\r\n　　那天他进来，沉默了一下 说他爸去世了\r\n　　我立刻放声大笑，其他人鸦雀无声。\r\n\r\n31. 我在公交车上放了一个屁，\r\n　　见身边的纷纷挥手，表情痛苦，\r\n　　我也挥挥手。\r\n　　旁边的女士扭过头对我说：你就不要装了\r\n\r\n32.我和老婆去卧佛寺游玩，老婆路上走不动，于是我背她。\r\n　　一个老婆婆看见了，严肃的说：看你也是读过书的人。老婆有病还是早点去医院，拜佛是没用的\r\n\r\n33.小学时候每天只有几毛钱的零花钱，有一次攒了几天，好不容易买了一包五香瓜子，上课的时候偷偷的全磕了，瓜子壳全放在课桌抽屉了， \r\n　　　　下午来上课的时候看着瓜子壳又馋了，于是把瓜子壳又放到嘴里都含了一遍，感觉味道好好啊。。\r\n　　　　下课的时候一个同学问我吃什么，我只好说吃瓜子壳，专门买的五香瓜子壳，只有壳没有肉的，就是吃味道的。。结果那一个下午一帮子同学围在我座位边上吃我舔过两遍的瓜子壳。。。。\r\n\r\n36.逛超市呢 看到一收款员在很认真数一堆硬币 一小孩跑过，边跑边唱：门前大桥下游过一群鸭，快来快来数一数，二四六七八。。。。 然后收款员很郁闷的把数了一半的硬币倒回去重数....\r\n\r\n37.我们以前宿舍有个娃（男的），老实的有点当（笨），而且有时候傻得可爱。有一次晚上熄灯后，大家又在聊天，他就讲，等老子有钱了，就找三个女生。我们口味就被他调起来了，问他说然后呢，只见他镇定的说，打麻将…\r\n\r\n38.跟一姐姐聊天 她说：前天我老板，一个男的，和真懂似的，在我的电脑后面看半天，说“小柯，你也种菜啊？这可是上班时间！” 我收了收瓜子皮，，，瞅瞅他说“张总，这是我的桌面，你见哪块菜地上站着超级玛利呢？”\r\n\r\n39.楼下送葬队在吹《常回家看看》 \r\n　　不知道那家人怎么想的\r\n\r\n41.想起大学的一件事情来 \r\n　　大学期末考试，试卷上要求填写考号 \r\n　　我TMD写上QQ号码了\r\n\r\n42.我初中的班主任特别凶，每周五放学前都要开班会训话。一次，她情到激动处，义正词严地说，“你们怎么这么不争气，为了这个班，我绞尽奶汁”。当时我和周围几个同学强忍着不敢笑，只好把头深深的埋下。记得一个哥们趴在课桌上，使劲咬着手。。。\r\n\r\n46.宿舍哥们暴强，一日发现蚊帐里有只蚊子，忙活抓了半天没抓到，哥们叹口气说：“妈的，饿死你！”然后迅速把蚊帐收了起来，忍了好几天没挂蚊帐，最后终于把蚊子给饿死了，我们那个汗呀~~~~~这个不算什么对吧，很多人干过。 \r\n一**又发现蚊帐里竟然飞进一只苍蝇，跟我们说：“我非弄死他”。我们说：“苍蝇可是耐饿呀，看来你是靠不过他的”。 \r\n　　“你们看吧 ”，这人抄起一本小说钻进蚊帐，封口。边看小说边不停的挥动扇子，就是不让苍蝇落地，结果两个小时后，苍蝇终于飞不动了。他凑过去捅了捅苍蝇说：“飞呀小样，爷书还没看够呢”\r\n\r\n47.记得有次和爸妈去游泳馆，刚进大门的时候就看见一个社会青年的纹了一身的活，剃个“青皮”头，脖子上还戴个大金链子！等我们下水适应温度的时候就看那哥哥大摇大摆走过来往水里一站，天雷的事发生了。。。他脖子上那好粗好粗的大金链子浮在水面上。。。。。\r\n\r\n48.2009年7月22日，我在一个BBS上见一个哥们说：“TMD，原来日食是在白天，害老子白等了一宿.&quot;\r\n\r\n50.弟弟乘坐公共汽车时，车上一漂亮姑娘总是打量他。弟弟心想：姑娘可能对自己有意思，不禁心理美滋滋的。姑娘到站下车。弟弟见状马上跟了下去。姑娘在前面走着，还不时地回头看。弟弟鼓足勇气跑上前，不无幽默地搭讪道：“小姐，你为什么总看我？是不是我脸上有饭粒儿呀？”姑娘瞪了他一眼说：“你有病啊？明知道还不擦。” ', '有时候看看笑话，会让心情变好！', '', 'inherit', 'open', '2012-12-21 16:16:07', 117, 'http://xpmyblog.sinaapp.com/?p=496', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(497, 1, '2012-12-21 16:16:19', 'http://www.sourcejoy.com/it/develop-girl-s-twitter.html\r\n网上看到的，一个女程序员twitter上发了一条tweet，广大淫民的创意真是相当给力呀。\r\n程序员MM的tweet内容：\r\n昨晚梦见男朋友和别的女人在逛街，梦里我的第一反应是查源代码…结果调试半天查不出来为什么显示的是那个女人不是我，最后含泪把那个女人给注释掉了，再一运行就是我男朋友自己逛街了…醒来囧字脸呆了很久…囧rz \r\n\r\n评论： \r\n1L \r\n把那个女人的指针指向你即可 \r\n2L \r\n谁让你把男朋友设成public的 \r\n3L \r\n加个断点看看那女人是谁 \r\n4L \r\n心真软，就该把他的接口屏蔽掉。//是我想多了么 \r\n5L \r\nprotected 逛街(youOnly) \r\n6L \r\n设计问题，应该采用单例模式 \r\n7L \r\n没做回归测试 \r\n8L \r\n标准做法是做个断言 \r\n9L \r\n注释掉了逛街的参数不用改么 \r\n10L \r\n不要忘记GC谢谢 \r\n11L \r\n查一下Log，只逛街了吗/. \r\n\r\n**看到一个最狠的回复： \r\n\r\n恩，上绝招，用goto，做个死循环，让他们逛死\r\n\r\n12L\r\n哈，是系统安全性没做好吧。被那个女人入侵了~~\r\n', '一个女程序员twitter上发了一条tweet', '', 'inherit', 'open', '2012-12-21 16:16:19', 115, 'http://xpmyblog.sinaapp.com/?p=497', 0, 'revision', '', 0),
(498, 1, '2012-11-01 11:31:19', '很多网站都通过User-Agent来判断浏览器类型，如果是3G手机，显示手机页面内容，如果是普通浏览器，显示普通网页内容。\r\n\r\n　　谷歌Chrome浏览器，可以很方便地用来当3G手机模拟器。在Windows的【开始】-->【运行】中输入以下命令，启动谷歌浏览器，即可模拟相应手机的浏览器去访问3G手机网页：\r\n\r\n　　谷歌Android：\r\nchrome.exe --user-agent="Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1"\r\n\r\n\r\n　　苹果iPhone：\r\nchrome.exe --user-agent="Mozilla/5.0 (iPad; U; CPU OS 3_2_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B500 Safari/531.21.10"\r\n\r\n\r\n　　诺基亚N97：\r\nchrome.exe --user-agent="Mozilla/5.0 (SymbianOS/9.4; Series60/5.0 NokiaN97-1/20.0.019; Profile/MIDP-2.1 Configuration/CLDC-1.1) AppleWebKit/525 (KHTML, like Gecko) BrowserNG/7.1.18124"\r\n\r\n\r\n　　试一试，分别用Android、iPhone、诺基亚访问http://www.163.com/、http://blog.s135.com/、http://www.google.com.hk/、http://3g.qq.com、http://t.sina.cn这些3G手机网页，看看有什么不同。\r\n\r\n　　更多款手机的User-Agent：http://www.zytrax.com/tech/web/mobile_ids.html\r\n\r\n　　10月11日备注：如果想切换回普通浏览器模式，关掉所有Chrome浏览器，重开即可。如果不想关闭浏览器，切回普通浏览器模式，则访问：\r\nchrome.exe --user-agent="Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/534.3 (KHTML, like Gecko) Chrome/6.0.472.63 Safari/534.3"\r\n\r\n\r\n\r\nhttp://blog.s135.com/chrome_phone/', '用谷歌浏览器来当手机模拟器', '', 'inherit', 'open', '2012-11-01 11:31:19', 91, 'http://xpmyblog.sinaapp.com/?p=498', 0, 'revision', '', 0),
(499, 1, '2012-11-01 11:31:24', '女生\r\n姓：自己姓的第一个字母\r\nA：慕容 B:任 C:于 D:厉 F:钟离 H:东方 J:敖 K:白 L:南宫 M:竺 N:司徒 O:尉迟 P:司空 Q:蓝 R:邵 S:西门 T:颜 W:莫 X:欧阳 Y:尚 Z:上官\r\n名：出生月份\r\n1:真 2:踏 3:凝 4:竹 5:若 6:雨 7:紫 8:影 9:亦 10:伊 11:羽 12：冰\r\n名：出生日期\r\n1:菲 2:星 3:琪 4:悠 5:馨 6:香 7:爱 8:露 9:落 10:轩 11:儿 12:萱 13:雪 14:月 15:嫣 16:凌 17:荀 18:痕 19:荫 20:茹 21:忆 22:嘉 23:舞 24:琦 25:汐 26:荪 27:郁 28:心 29:韵 30:然 31:嫣\r\n\r\n男生\r\n姓：自己姓的第一个字母\r\nA：慕容 B：任 C：于 D：厉 F：钟离 G：唐 H：东方 J：敖 K：公孙 L：南宫 M：邵 N：司徒 O：尉迟 P：司空 Q：尹 R：明 S：西门 T：归海 W：莫 X：欧阳 Y：尚 Z：上官 \r\n名：出生月份 \r\n1：绝 2：逸 3：寒 4：封 5：萧 6：云 7：燚 8：轩 9：海 10：元 11：天 12：寂 \r\n名：出生日期 \r\n1：言 2：洛 3：枫 4：涯 5：夜 6：痕 7：清 8：浪 9：尘 10：阳 11：武 12：遥 13：风 14：空 15：暇 16：竹 17：涵 18：偌 19：语 20：伦 21：滨 22:珲 23：璘 24：永 25：恒 26：珠 27：明 28：岚 29：舜 30：翰 31：遐 ', '看看你在古代叫什么', '', 'inherit', 'open', '2012-11-01 11:31:24', 44, 'http://xpmyblog.sinaapp.com/?p=499', 0, 'revision', '', 0),
(500, 1, '2012-11-01 11:31:30', '235 kW (320 hp) / 7,200 rpm\r\n\r\n0-100 km/h 加速用时：5.0 s\r\n\r\n最高时速：265 km/h\r\n\r\n<a href="http://www.porsche.com/china/zh/models/boxster/boxster-spyder/">http://www.porsche.com/china/zh/models/boxster/boxster-spyder/</a>\r\n\r\n那个视频很好。\r\n\r\n[caption id="attachment_17" align="alignnone" width="300" caption="保时捷跑车"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900.jpg"><img class="size-medium wp-image-17" title="保时捷-boxster-spyder" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/wallpaper-i1440x900-300x187.jpg" alt="保时捷-boxster-spyder" width="300" height="187" /></a>[/caption]\r\n\r\n&nbsp;', 'boxster-spyder 纵弛不羁', '', 'inherit', 'open', '2012-11-01 11:31:30', 16, 'http://xpmyblog.sinaapp.com/?p=500', 0, 'revision', '', 0),
(501, 1, '2012-11-01 11:31:39', '[caption id="attachment_12" align="alignnone" width="300" caption="保时捷boxster新款"]<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china.jpg"><img class="size-medium wp-image-12" title="boxster-black-edition" src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/06/boxster-splash-image_china-300x203.jpg" alt="魅不可挡" width="300" height="203" /></a>[/caption]\r\n\r\n帅气的保时捷boxster新款——black-edition。\r\n\r\n魅不可挡，以黑为尚。这是设计师和工程师始终秉承“Porsche Intelligent Performance”理念共同设计与诠释的结果。一款限量版车型，让您与众不同，令人艳羡– Boxster Black Edition。\r\n\r\n<a href="http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster">http://www.porsche.com/microsite/black-edition/china.aspx?model=boxster</a> 可以从这里进官网体验下。', '帅气的保时捷boxster-black-edition', '', 'inherit', 'open', '2012-11-01 11:31:39', 11, 'http://xpmyblog.sinaapp.com/?p=501', 0, 'revision', '', 0),
(502, 1, '2012-12-11 10:42:44', 'HTTP 400 - 请求无效\r\nHTTP 401.1 - 未授权：登录失败\r\nHTTP 401.2 - 未授权：服务器配置问题导致登录失败\r\nHTTP 401.3 - ACL 禁止访问资源\r\nHTTP 401.4 - 未授权：授权被筛选器拒绝\r\nHTTP 401.5 - 未授权：ISAPI 或 CGI 授权失败\r\n\r\nHTTP 403 - 禁止访问\r\nHTTP 403 - 对 Internet 服务管理器 的访问仅限于 Localhost\r\nHTTP 403.1 禁止访问：禁止可执行访问\r\nHTTP 403.2 - 禁止访问：禁止读访问\r\nHTTP 403.3 - 禁止访问：禁止写访问\r\nHTTP 403.4 - 禁止访问：要求 SSL\r\nHTTP 403.5 - 禁止访问：要求 SSL 128\r\nHTTP 403.6 - 禁止访问：IP 地址被拒绝\r\nHTTP 403.7 - 禁止访问：要求客户证书\r\nHTTP 403.8 - 禁止访问：禁止站点访问\r\nHTTP 403.9 - 禁止访问：连接的用户过多\r\nHTTP 403.10 - 禁止访问：配置无效\r\nHTTP 403.11 - 禁止访问：密码更改\r\nHTTP 403.12 - 禁止访问：映射器拒绝访问\r\nHTTP 403.13 - 禁止访问：客户证书已被吊销\r\nHTTP 403.15 - 禁止访问：客户访问许可过多\r\nHTTP 403.16 - 禁止访问：客户证书不可信或者无效\r\nHTTP 403.17 - 禁止访问：客户证书已经到期或者尚未生效 HTTP 404.1 -\r\n\r\n无法找到 Web 站点\r\nHTTP 404- 无法找到文件\r\nHTTP 405 - 资源被禁止\r\nHTTP 406 - 无法接受\r\nHTTP 407 - 要求代理身份验证\r\nHTTP 410 - 永远不可用\r\nHTTP 412 - 先决条件失败\r\nHTTP 414 - 请求 - URI 太长\r\nHTTP 500 - 内部服务器错误\r\nHTTP 500.100 - 内部服务器错误 - ASP 错误\r\nHTTP 500-11 服务器关闭\r\nHTTP 500-12 应用程序重新启动\r\nHTTP 500-13 - 服务器太忙\r\nHTTP 500-14 - 应用程序无效\r\nHTTP 500-15 - 不允许请求 global.asa\r\nError 501 - 未实现\r\nHTTP 502 - 网关错误\r\n用户试图通过 HTTP 或文件传输协议 (FTP) 访问一台正在运行 Internet 信息服务 (IIS) 的服务器上的内容时，IIS 返回一个表示该请求的状态的数字代码。该状态代码记录在\r\nIIS <a target="_self"><span style="text-decoration: underline;"><strong>日志</strong></span></a>中，同时也可能在 Web 浏览器或 FTP 客户端显示。状态代码可以指明具体请求是否已成功，还可以揭示请求失败的确切原因。\r\n日志文件的位置\r\n在默认状态下，IIS 把它的日志文件放在 %WINDIRSystem32Logfiles 文件夹中。每个万维网 (WWW) 站点和 FTP 站点在该目录下都有一个单独的目录。在默认状态下，每天都会在\r\n这些目录下创建日志文件，并用日期给日志文件命名（例如，exYYMMDD.log）。\r\nHTTP\r\n1xx - 信息提示\r\n\r\n这些状态代码表示临时的响应。客户端在收到常规响应之前，应准备接收一个或多个 1xx 响应。 • 100 - 继续。\r\n• 101 - 切换协议。\r\n2xx - 成功\r\n\r\n这类状态代码表明服务器成功地接受了客户端请求。 • 200 - 确定。客户端请求已成功。\r\n• 201 - 已创建。\r\n• 202 - 已接受。\r\n• 203 - 非权威性信息。\r\n• 204 - 无内容。\r\n• 205 - 重置内容。\r\n• 206 - 部分内容。\r\n3xx - 重定向\r\n\r\n客户端浏览器必须采取更多操作来实现请求。例如，浏览器可能不得不请求服务器上的不同的页面，或通过代理服务器重复该请求。 • 302 - 对象已移动。\r\n• 304 - 未修改。\r\n• 307 - 临时重定向。\r\n4xx - 客户端错误\r\n\r\n发生错误，客户端似乎有问题。例如，客户端请求不存在的页面，客户端未提供有效的身份验证信息。 • 400 - 错误的请求。\r\n• 401 - 访问被拒绝。IIS 定义了许多不同的 401 错误，它们指明更为具体的错误原因。这些具体的错误代码在浏览器中显示，但不在 IIS 日志中显示： • 401.1 - 登录失败。\r\n• 401.2 - 服务器配置导致登录失败。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。\r\n• 401.4 - 筛选器授权失败。\r\n• 401.5 - ISAPI/CGI 应用程序授权失败。\r\n• 401.7 – 访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 403 - 禁止访问：IIS 定义了许多不同的 403 错误，它们指明更为具体的错误原因： • 403.1 - 执行访问被禁止。\r\n• 403.2 - 读访问被禁止。\r\n• 403.3 - 写访问被禁止。\r\n• 403.4 - 要求 SSL。\r\n• 403.5 - 要求 SSL 128。\r\n• 403.6 - IP 地址被拒绝。\r\n• 403.7 - 要求客户端证书。\r\n• 403.8 - 站点访问被拒绝。\r\n• 403.9 - 用户数过多。\r\n• 403.10 - 配置无效。\r\n• 403.11 - 密码更改。\r\n• 403.12 - 拒绝访问映射表。\r\n• 403.13 - 客户端证书被吊销。\r\n• 403.14 - 拒绝目录列表。\r\n• 403.15 - 超出客户端访问许可。\r\n• 403.16 - 客户端证书不受信任或无效。\r\n• 403.17 - 客户端证书已过期或尚未生效。\r\n• 403.18 - 在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。\r\n• 403.19 - 不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。\r\n• 403.20 - Passport 登录失败。这个错误代码为 IIS 6.0 所专用。\r\n\r\n• 404 - 未找到。 • 404.0 -（无） – 没有找到文件或目录。\r\n• 404.1 - 无法在所请求的端口上访问 Web 站点。\r\n• 404.2 - Web 服务扩展锁定策略阻止本请求。\r\n• 404.3 - MIME 映射策略阻止本请求。\r\n\r\n• 405 - 用来访问本页面的 HTTP 谓词不被允许（方法不被允许）\r\n• 406 - 客户端浏览器不接受所请求页面的 MIME 类型。\r\n• 407 - 要求进行代理身份验证。\r\n• 412 - 前提条件失败。\r\n• 413 – 请求实体太大。\r\n• 414 - 请求 URI 太长。\r\n• 415 – 不支持的媒体类型。\r\n• 416 – 所请求的范围无法满足。\r\n• 417 – 执行失败。\r\n• 423 – 锁定的错误。\r\n5xx - 服务器错误\r\n\r\n服务器由于遇到错误而不能完成该请求。 • 500 - 内部服务器错误。 • 500.12 - 应用程序正忙于在 Web 服务器上重新启动。\r\n• 500.13 - Web 服务器太忙。\r\n• 500.15 - 不允许直接请求 Global.asa。\r\n• 500.16 – UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。\r\n• 500.18 – URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。\r\n• 500.100 - 内部 ASP 错误。\r\n\r\n• 501 - 页眉值指定了未实现的配置。\r\n• 502 - Web 服务器用作网关或代理服务器时收到了无效响应。 • 502.1 - CGI 应用程序超时。\r\n• 502.2 - CGI 应用程序出错。application.\r\n\r\n• 503 - 服务不可用。这个错误代码为 IIS 6.0 所专用。\r\n• 504 - 网关超时。\r\n• 505 - HTTP 版本不受支持。\r\n\r\n常见的 HTTP 状态代码及其原因\r\n• 200 - 成功。 此状态代码表示 IIS 已成功处理请求。\r\n• 304 - 未修改。 客户端请求的文档已在其缓存中，文档自缓存以来尚未被修改过。客户端使用文档的缓存副本，而不从服务器<a target="_self"><span style="text-decoration: underline;"><strong>下载</strong></span></a>文档。\r\n• 401.1 - 登录失败。 登录尝试不成功，可能因为用户名或密码无效。\r\n• 401.3 - 由于 ACL 对资源的限制而未获得授权。 这表示存在 NTFS 权限问题。即使您对试图访问的文件具备相应的权限，也可能发生此错误。例如，如果 IUSR 帐户无权访问\r\nC:WinntSystem32Inetsrv 目录，您会看到这个错误。 有关如何解决此问题的<a target="_self"><span style="text-decoration: underline;"><strong>其他</strong></span></a>信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n187506 INFO: IIS 4.0 的基础 NTFS 权限\r\n• 403.1 - 执行访问被禁止。 下面是导致此错误信息的两个常见原因： • 您没有足够的执行许可。例如，如果试图访问的 ASP 页所在的目录权限设为“无”，或者，试图执行的\r\nCGI 脚本所在的目录权限为“只允许脚本”，将出现此错误信息。若要修改执行权限，请在 Microsoft 管理控制台 (MMC) 中右击目录，然后依次单击属性和目录选项卡，确保为\r\n试图访问的内容设置适当的执行权限。\r\n• 您没有将试图执行的文件类型的脚本映射设置为识别所使用的谓词（例如，GET 或 POST）。若要验证这一点，请在 MMC 中右击目录，依次单击属性、目录选项卡和配置，然后\r\n验证相应文件类型的脚本映射是否设置为允许所使用的谓词。\r\n\r\n• 403.2 - 读访问被禁止。验证是否已将 IIS 设置为允许对目录进行读访问。另外，如果您正在使用默认文件，请验证该文件是否存在。 有关如何解决此问题的其他信息，请单\r\n击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n247677 错误信息：403.2 Forbidden:Read Access Forbidden（403.2 禁止访问：读访问被禁止）\r\n• 403.3 - 写访问被禁止。 验证 IIS 权限和 NTFS 权限是否已设置以便向该目录授予写访问权。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n248072 错误信息：403.3 Forbidden:Write Access Forbidden（403.3 禁止访问：写访问被禁止）\r\n• 403.4 - 要求 SSL。禁用要求安全通道选项，或使用 HTTPS 代替 HTTP 来访问该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看 Microsoft 知\r\n识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.5 - 要求 SSL 128。禁用要求 128 位加密选项，或使用支持 128 位加密的浏览器以查看该页面。如果没有安装证书的 Web 站点出现此错误，请单击下面的文章编号，查看\r\nMicrosoft 知识库中相应的文章：\r\n224389 错误信息：HTTP 错误 403、403.4、403.5 禁止访问：要求 SSL\r\n• 403.6 - IP 地址被拒绝。您已把您的服务器配置为拒绝访问您目前的 IP 地址。 有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文\r\n章：\r\n248043 错误信息：403.6 - Forbidden:IP Address Rejected（403.6 - 不可用：IP 地址被拒绝）\r\n• 403.7 - 要求客户端证书。您已把您的服务器配置为要求客户端身份验证证书，但您未安装有效的客户端证书。 有关其他信息，请单击下面的文章编号，查看 Microsoft 知识\r\n库中相应的文章：\r\n190004 错误 403.7 或“Connection to Server Could Not Be Established”（无法建立与服务器的连接）\r\n186812 PRB：错误信息：403.7 Forbidden:Client Certificate Required（403.7 禁止访问：要求客户端证书）\r\n• 403.8 - 站点访问被拒绝。您已为您用来访问服务器的域设置了域名限制。有关如何解决此问题的其他信息，请单击下面的文章编号，查看 Microsoft 知识库中相应的文章：\r\n248032 错误信息：Forbidden:Site Access Denied 403.8（禁止访问：站点访问被拒绝 403.8）\r\n• 403.9 - 用户数过多。与该服务器连接的用户数量超过了您设置的连接限制。 有关如何更改此限制的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文\r\n章：\r\n248074 错误信息：Access Forbidden:Too Many Users Are Connected 403.9（禁止访问：连接的用户太多 403.9）\r\n注意：Microsoft <a target="_self"><span style="text-decoration: underline;"><strong>Windows</strong></span></a> 2000 Professional 和 Microsoft Windows XP Professional 自动设置了在 IIS 上最多 10 个连接的限制。您无法更改此限制。\r\n• 403.12 - 拒绝访问映射表。 您要访问的页面要求提供客户端证书，但映射到您的客户端证书的用户 ID 已被拒绝访问该文件。 有关其他信息，请单击下面的文章编号，以查看\r\nMicrosoft 知识库中相应的文章：\r\n248075 错误信息：HTTP 403.12 - Access Forbidden:Mapper Denied Access（HTTP 403.12 - 禁止访问：映射表拒绝访问）\r\n• 404 - 未找到。 发生此错误的原因是您试图访问的文件已被移走或删除。如果在安装 URLScan 工具之后，试图访问带有有限扩展名的文件，也会发生此错误。这种情况下，该\r\n请求的日志文件项中将出现“Rejected by URLScan”的字样。\r\n• 500 - 内部服务器错误。 很多服务器端的错误都可能导致该错误信息。事件查看器日志包含更详细的错误原因。此外，您可以禁用友好 HTTP 错误信息以便收到详细的错误说明\r\n。 有关如何禁用友好 HTTP 错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n294807 如何在服务器端禁用 Internet Explorer 5 的“显示友好 HTTP 错误信息”功能\r\n• 500.12 - 应用程序正在重新启动。 这表示您在 IIS 重新启动应用程序的过程中试图加载 ASP 页。刷新页面后，此信息即会消失。如果刷新页面后，此信息再次出现，可能是\r\n防病毒软件正在扫描 Global.asa 文件。 有关其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n248013 错误信息：HTTP Error 500-12 Application Restarting（HTTP 错误 500-12 应用程序正在重新启动）\r\n• 500-100.ASP - ASP 错误。 如果试图加载的 ASP 页中含有错误代码，将出现此错误信息。若要获得更确切的错误信息，请禁用友好 HTTP 错误信息。默认情况下，只会在默认\r\nWeb 站点上启用此错误信息。有关如何在非默认的 Web 站点上看到此错误信息的其他信息，请单击下面的文章编号，以查看 Microsoft 知识库中相应的文章：\r\n261200 显示 HTTP 500 错误信息，而不显示 500-100.asp 的 ASP 错误信息\r\n• 502 - 网关错误。 如果试图运行的 CGI 脚本不返回有效的 HTTP 标头集，将出现此错误信息。\r\n\r\n-----------------------------------\r\n以上从别的地方转载的，具体地址忘了。', 'HTTP错误大全', '', 'inherit', 'open', '2012-12-11 10:42:44', 409, 'http://xpmyblog.sinaapp.com/?p=502', 0, 'revision', '', 0),
(503, 1, '2012-03-31 10:48:36', '在网上看到这篇文章。\r\n转载自：<a href="http://www.blogabc.net/i3379_PHP%E4%BD%BF%E7%94%A8mysql_pconnetct()%E5%90%8EMySQL%E4%BA%A7%E7%94%9F%E5%A4%A7%E9%87%8FSleep%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95.htm">PHP使用mysql_pconnetct()后MySQL产生大量Sleep进程的解决方法</a>\r\n\r\n==========================================\r\n\r\n第一部分为产生大量sleep进程的原理及对应解决方法\r\n\r\n第二部分为设置wait_timeout值，有效减少sleep进程\r\n\r\n==========================================\r\n\r\n第一部分开始\r\n\r\n1、通常来说，MySQL出现大量Sleep进程是因为采用的PHP的MySQL长链接数据库方式，即使用了mysql_pconnect来打开链接数据库，解决办法就是使用“短”链接，即mysql_connect函数。\r\n\r\n2、在使用mysql_connect短链接方式打开数据库，每个页面在打开数据库后，执行SQL完成，当页面脚本结束的时候，这个MySQL连接会自动关闭并且释放内存。但仍然出现大量Sleep进程，可以看看网站是否存在以下几个方面的问题。\r\n\r\nA，硬盘上存在大量的静态文件，或者WEB服务器负荷太重，在处理HTTP请求响应变得太慢，这样也有可能导致出现大量Sleep进程，解决方法适当调整WEB服务参数和文件，一味的静态或者缓存化网页内容并不是灵丹妙药。\r\n\r\nB，在网页脚本中，有些计算和应用可能非常耗时，比如在0秒的时候打开数据库执行完一段SQL代码后，网页脚本随即花了20秒钟进行一段复杂的运算，或者是require了一个庞大的PHP文件（比如含有几千个违规关键字的过滤函数），哪么这个时候在MySQL后台看到的进程中，这个20秒的过程MySQL并没有做任何事情了，一直处于Sleep状态，直到这个页面执行完毕或者达到wait_timeout值（被强行关闭），优化网页脚本，尽量让程序快速运行，或者在执行这段耗时的运行过程中，执行mysql_close把当前MySQL链接强行关闭。\r\n\r\nC，在采集站中，MySQL中大量的Sleep进程这类现象尤其明显（比如很多网友问道DeDeCMS的MySQL中出现大量Sleep），因为大部的采集器页面在运行过程中，事先打开了一个MySQL链接（可能是为了验证用户权限等），然后开始使用file_get_contents之类的操作去获取一个远程的网页内容，如果这个远程的站点访问速度太慢，比如花了10秒时间才把网页取回，哪么当前采集脚本程序就一直阻塞在这里，并且MySQL啥事也没干，一直处于Sleep状态。解决方法同上，在发出file_get_contents采集远程网页的时候，使用mysql_close强行关闭MySQL的连接，等采集完成在适当需要的时候再重新mysql_connect即可。\r\n\r\n==========================================\r\n\r\n第二部分开始\r\n\r\n设置wait_timeout的值，有效减少sleep进程\r\n\r\n如果你没有修改过MySQL的配置，缺省情况下，wait_timeout的初始值是28800。\r\n\r\nwait_timeout过大有弊端，其体现就是MySQL里大量的SLEEP进程无法及时释放，拖累系统性能，不过也不能把这个值设置的过小，否则可能会遭遇到“MySQL has gone away”之类的问题（你可以在程序里时不时mysql_ping一下，以便服务器知道你还活着，重新计算wait_timeout时间），使用\r\n\r\nmysql>show processlist; 用这个命令来查看当前mysql的进程情况，可以看出大量的sleep进程的时间是多少，大部分的都是10左右的，这时wait_timeout值就可以设置成8-10;\r\n\r\n设置wait_timeout的方法有2个：\r\n\r\n# vi /etc/my.cnf (在windows下是my.ini)\r\n\r\n[mysqld]\r\n\r\nwait_timeout=10\r\n\r\n# /etc/init.d/mysql restart\r\n\r\n这个方法设置后即使服务器以后重启，设置照样生效，不过这个方法会造成mysql服务重启，无论如何都应该尽可能避免；\r\n\r\n下面看看在MySQL命令行里通过SET来设置：\r\n\r\nmysql> set global wait_timeout=10;\r\n\r\nmysql> show global variables like ''wait_timeout'';\r\n\r\n+—————————-+——-+\r\n\r\n| Variable_name              | Value |\r\n\r\n+—————————-+——-+\r\n\r\n| wait_timeout               | 10    |\r\n\r\n+—————————-+——-+\r\n\r\n这里一个容易把人搞蒙的地方是如果查询时使用的是show variables的话，会发现设置好像并没有生效，这是因为单纯使用show variables的话就等同于使用的是show session variables，查询的是会话变量，只有使用show global variables，查询的才是全局变量。\r\n\r\n网络上很多人都抱怨说他们set global之后使用show variables查询没有发现改变，原因就在于混淆了会话变量和全局变量，如果仅仅想修改会话变量的话，可以使用类似set wait_timeout=10;或者set session wait_timeout=10;这样的语法。\r\n\r\n这个方法只是临时性的，如果服务器重启后，wait_timeout的值又会变成28800。', 'PHP使用mysql_pconnetct()后MySQL产生大量Sleep进程的解决方法', '', 'inherit', 'open', '2012-03-31 10:48:36', 240, 'http://xpmyblog.sinaapp.com/?p=503', 0, 'revision', '', 0),
(504, 1, '2011-09-16 19:01:38', 'Tokyo Cabinet 是日本人 平林幹雄 开发的一款 DBM 数据库，该数据库读写非常快，哈希模式写入100万条数据只需0.643秒，读取100万条数据只需0.773秒，是 Berkeley DB 等 DBM 的几倍。\r\n\r\n　　<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/b0d09b8cf1aeb27cb11bba79-300x190.gif" alt="" title="b0d09b8cf1aeb27cb11bba79" width="300" height="190" class="alignnone size-medium wp-image-83" /></a>\r\n\r\n\r\n　　Tokyo Tyrant 是由同一作者开发的 Tokyo Cabinet 数据库网络接口。它拥有Memcached兼容协议，也可以通过HTTP协议进行数据交换。\r\n\r\n　　Tokyo Tyrant 加上 Tokyo Cabinet，构成了一款支持高并发的分布式持久存储系统，对任何原有Memcached客户端来讲，可以将Tokyo Tyrant看成是一个Memcached，但是，它的数据是可以持久存储的。这一点，跟新浪的Memcachedb性质一样。\r\n\r\n　　相比Memcachedb而言，Tokyo Tyrant具有以下优势：\r\n\r\n　　1、故障转移：Tokyo Tyrant支持双机互为主辅模式，主辅库均可读写，而Memcachedb目前支持类似MySQL主辅库同步的方式实现读写分离，支持“主服务器可读写、辅助服务器只读”模式。\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/f02eba67fec7824aa9184c70-300x277.gif" alt="" title="f02eba67fec7824aa9184c70" width="300" height="277" class="alignnone size-medium wp-image-84" /></a>\r\n　　\r\n\r\n　　这里使用 $memcache->addServer 而不是 $memcache->connect 去连接 Tokyo Tyrant 服务器，是因为当 Memcache 客户端使用 addServer 服务器池时，是根据“crc32(key) % current_server_num”哈希算法将 key 哈希到不同的服务器的，PHP、C 和 python 的客户端都是如此的算法。Memcache 客户端的 addserver 具有故障转移机制，当 addserver 了2台 Memcached 服务器，而其中1台宕机了，那么 current_server_num 会由原先的2变成1。\r\n\r\n　　引用 memcached 官方网站和 PHP 手册中的两段话： \r\n引用http://www.danga.com/memcached/ \r\nIf a host goes down, the API re-maps that dead host''s requests onto the servers that are available. \r\n\r\nhttp://cn.php.net/manual/zh/function.Memcache-addServer.php \r\nFailover may occur at any stage in any of the methods, as long as other servers are available the request the user won''t notice. Any kind of socket or Memcached server level errors (except out-of-memory) may trigger the failover. Normal client errors such as adding an existing key will not trigger a failover.\r\n\r\n\r\n　　2、日志文件体积小：Tokyo Tyrant用于主辅同步的日志文件比较小，大约是数据库文件的1.3倍，而Memcachedb的同步日志文件非常大，如果不定期清理，很容易将磁盘写满。\r\n\r\n\r\n　　3、超大数据量下表现出色：\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370.gif"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/09/14b5381726f52076952b4370-245x300.gif" alt="" title="14b5381726f52076952b4370" width="245" height="300" class="alignnone size-medium wp-image-85" /></a>\r\n　　\r\n\r\n　　但是，Tokyo Tyrant 也有缺点：在32位操作系统下，作为 Tokyo Tyrant 后端存储的 Tokyo Cabinet 数据库单个文件不能超过2G，而64位操作系统则不受这一限制。所以，如果使用 Tokyo Tyrant，推荐在64位CPU、操作系统上安装运行。\r\n\r\n\r\n　　一、安装\r\n　　1、首先编译安装tokyocabinet数据库\r\nwget http://www.1978th.net/tokyocabinet/tokyocabinet-1.4.45.tar.gz\r\ntar zxvf tokyocabinet-1.4.45.tar.gz\r\ncd tokyocabinet-1.4.45/\r\n./configure\r\n#注：在32位Linux操作系统上编译Tokyo cabinet，请使用./configure --enable-off64代替./configure，可以使数据库文件突破2GB的限制。\r\n#./configure --enable-off64\r\nmake\r\nmake install\r\ncd ../\r\n\r\n　　2、然后编译安装tokyotyrant\r\nwget http://www.1978th.net/tokyotyrant/tokyotyrant-1.1.40.tar.gz\r\ntar zxvf tokyotyrant-1.1.40.tar.gz\r\ncd tokyotyrant-1.1.40/\r\n./configure\r\nmake\r\nmake install\r\ncd ../\r\n\r\n\r\n　　二、配置\r\n　　1、创建tokyotyrant数据文件存放目录\r\nmkdir -p /ttserver/\r\n\r\n　　2、启动tokyotyrant的主进程（ttserver）\r\n　　(1)、单机模式\r\nulimit -SHn 51200\r\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　(2)、双机互为主辅模式\r\n　　服务器192.168.1.91：\r\nulimit -SHn 51200\r\nttserver -host 192.168.1.91 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 91 -mhost 192.168.1.92 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　服务器192.168.1.92：\r\nulimit -SHn 51200\r\nttserver -host 192.168.1.92 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 92 -mhost 192.168.1.91 -mport 11211 -rts /ttserver/ttserver.rts /ttserver/database.tcb#lmemb=1024#nmemb=2048#bnum=10000000\r\n\r\n　　(3)、参数说明\r\n　　ttserver [-host name] [-port num] [-thnum num] [-tout num] [-dmn] [-pid path] [-log path] [-ld|-le] [-ulog path] [-ulim num] [-uas] [-sid num] [-mhost name] [-mport num] [-rts path] [dbname] \r\n\r\n　　-host name : 指定需要绑定的服务器域名或IP地址。默认绑定这台服务器上的所有IP地址。\r\n　　-port num : 指定需要绑定的端口号。默认端口号为1978 \r\n　　-thnum num : 指定线程数。默认为8个线程。 \r\n　　-tout num : 指定每个会话的超时时间（单位为秒）。默认永不超时。 \r\n　　-dmn : 以守护进程方式运行。\r\n　　-pid path : 输出进程ID到指定文件（这里指定文件名）。\r\n　　-log path : 输出日志信息到指定文件（这里指定文件名）。\r\n　　-ld : 在日志文件中还记录DEBUG调试信息。\r\n　　-le : 在日志文件中仅记录错误信息。\r\n　　-ulog path : 指定同步日志文件存放路径（这里指定目录名）。\r\n　　-ulim num : 指定每个同步日志文件的大小（例如128m）。\r\n　　-uas : 使用异步IO记录更新日志（使用此项会减少磁盘IO消耗，但是数据会先放在内存中，不会立即写入磁盘，如果重启服务器或ttserver进程被kill掉，将导致部分数据丢失。一般情况下不建议使用）。\r\n　　-sid num : 指定服务器ID号（当使用主辅模式时，每台ttserver需要不同的ID号） \r\n　　-mhost name : 指定主辅同步模式下，主服务器的域名或IP地址。\r\n　　-mport num : 指定主辅同步模式下，主服务器的端口号。\r\n　　-rts path : 指定用来存放同步时间戳的文件名。\r\n\r\n　　如果使用的是哈希数据库，可以指定参数“#bnum=xxx”来提高性能。它可以指定bucket存储桶的数量。例如指定“#bnum=1000000”，就可以将最新最热的100万条记录缓存在内存中：\r\nttserver -host 127.0.0.1 -port 11211 -thnum 8 -dmn -pid /ttserver/ttserver.pid -log /ttserver/ttserver.log -le -ulog /ttserver/ -ulim 128m -sid 1 -rts /ttserver/ttserver.rts /ttserver/database.tch#bnum=1000000\r\n\r\n　　如果大量的客户端访问ttserver，请确保文件描述符够用。许多服务器的默认文件描述符为1024，可以在启动ttserver前使用ulimit命令提高这项值。例如：\r\nulimit -SHn 51200\r\n\r\n　　3、停止tokyotyrant（ttserver）\r\nps -ef | grep ttserver\r\n　　找到ttserver的进程号并kill，例如：\r\nkill -TERM 2159\r\n\r\n\r\n　　三、调用\r\n　　1、任何Memcached客户端均可直接调用tokyotyrant。\r\n\r\n　　2、还可以通过HTTP方式调用，下面以Linux的curl命令为例，介绍如何操作tokyotyrant：\r\n　　(1)、写数据，将数据“value”写入到“key”中：\r\ncurl -X PUT http://127.0.0.1:11211/key -d "value"\r\n\r\n　　(2)、读数据，读取“key”中数据：\r\ncurl http://127.0.0.1:11211/key\r\n\r\n　　(3)、删数据，删除“key”：\r\ncurl -X DELETE http://127.0.0.1:11211/key\r\n', 'Tokyo Cabinet - 哈希模式写入100万条数据只需0.643秒', '', 'inherit', 'open', '2011-09-16 19:01:38', 82, 'http://xpmyblog.sinaapp.com/?p=504', 0, 'revision', '', 0),
(505, 1, '2012-12-13 17:58:57', '以前只会安装redis，和使用string类型，这个星期，为了使自己更懂一点，所以看了很多关于redis的文章。所以写了这篇浅谈博客，有观点不准确的地方，可以纠正我。\r\n在NoSql领域中，redis占据着重要位置。她小儿精悍，被比喻作AK-47。\r\n下面要讨论的是redis的数据类型，关于aof日志文件，以及rediska的使用。\r\n\r\n一、Redis的数据类型Strings, integers, lists, hashes, sets, sorted sets\r\n他们的用法如下：\r\n<pre>\r\n1、Strings\r\n> set foo bar\r\nOK\r\n>get foo\r\n"bar"\r\n</pre>\r\n<pre>\r\n2、integer\r\n	>set mykey "10"\r\n	OK \r\n	>incr mykey\r\n	(integer) 11\r\n	>get mykey\r\n	"11"\r\n	>decr mykey\r\n	(integer) 10\r\n	>get mykey\r\n	"10"\r\n</pre>\r\n<pre>\r\n3、Lists\r\n>rpush foo baz\r\n(integer) 1\r\n>rpush foo qux\r\n(integer) 2\r\n>lpush foo bar\r\n(integer) 3\r\n	>lrange foo 0 -1\r\n	"bar"\r\n	"baz"\r\n	"qux"\r\n	>lrange foo 0 1\r\n	"bar"\r\n	"baz"\r\n	>lpop foo\r\n	"bar"\r\n	>rpop foo\r\n	"qux"\r\n</pre>\r\n<pre>\r\n4、Hashes\r\n>hset foo bar baz\r\n(integer) 1\r\n>hset foo qux quxx\r\n(integer) 1\r\n>hget foo bar\r\n"baz"\r\n>hgetall foo\r\n"bar"\r\n"baz"\r\n"qux"\r\n"quxx"\r\n</pre>\r\n<pre>\r\n5、Set\r\n	>sadd m1 jan\r\n	(integer) 1\r\n	>sadd m1 feb\r\n	(integer) 1\r\n	>sismember m1 jan\r\n	(integer) 1\r\n	>sismember m1 feb\r\n	(integer) 1\r\n	>smembers m1\r\n	"feb"\r\n	"jan"\r\n	>sadd m2 feb\r\n	(integer) 1\r\n	>sismember m2 jan\r\n	(integer) 1\r\n	>sismember m2 mar\r\n	(integer) 1\r\n	>sinter m1 m2\r\n	"feb"\r\n	>sdiff m1 m2\r\n	"jan"\r\n	>sunion m1 m2\r\n	"mar"\r\n	"jan"\r\n	"feb"\r\n</pre>\r\n<pre>\r\n6、sorted sets\r\n	>zadd z1 1 jan\r\n	(integer) 1\r\n	>zadd z1 2 feb\r\n	(integer) 1\r\n	>zadd z1 3 mar\r\n	(integer) 1\r\n	>zscore z1 feb\r\n	"2"\r\n	>zrange z1 0 1 withscores\r\n	"jan"\r\n	"1"\r\n	"feb"\r\n	"2"\r\n	"mar"\r\n	"3"\r\n</pre>\r\n由上可知，我觉得理想的存储数据类型是lists和hashes。\r\n昨天晚上翻了一遍算法导论的数据结构那一张。Lists相当于队列，可以lpush，rpush，lpop，rpop。Hashes相当于指针指向一块，这一块里可以包含很多数据。\r\n\r\n二、Redis进阶教程-aof(append only file)日志文件\r\n原文出处:http://lgone.com/html/y2010/757.html\r\n今天看了Redis源码两个多小时,搞清楚了append only file(AOF)日志的rotate原理.官方文档里面对这部分做了单独的说明,但是就我看来,作者不够优美的用词,完全会让人理解错误.(PS:我要不是觉得文档有问题也不至于看源码)\r\n何为AOF?\r\n在Redis配置文件中有一个叫appendonly的选项,可以写yes或no.这个选项就是负责是否开启AOF日志的开关.AOF日志,你可以简单理解为MySQL binlog一样的东西,作用就是记录每次的写操作,在遇到断电等问题时可以用它来恢复数据库状态.但是他不是bin的,而是text的.一行一行,写得很规范.如果你是一台redis,那你也能人肉通过它恢复数据.\r\n扩展知识:\r\nRedis有三种类型的落地文件:\r\n数据文件-在配置中可设置其位置及文件名,默认文件名dump.rdb\r\n日志文件-在配置中也可以配置.当然,在你是以daemon方式运行的时候,这个值就不要设置为stdout了,这么设置会自动被换成/dev/null\r\nAOF文件-也就是我们这篇文章的主角,他的作用是用于数据恢复.他除了设置是否开启外,还可以设置开启后以何种方式写日志.这个何种一共是三种,1是每次写操作都保证将fsync()来完成的,2是每秒调用一次fsync(),3是从不调用,让操作系统自己来同步.当然,设置为不同,效率会不同,你的数据损失风险也不同.\r\n运行流程\r\n既然是log文件,而且是要用于恢复的,那么我们动动脚趾都能想到,这玩意肯定会越来越大,不管你的应用是大是小,如果AOF文件只增不减的话,那文件将会无限长大,这个问题是所有binlog都会遇到的.而通常遇到这种问题都会有一个rotate方案.就是当日志达到一定大小或者每隔一段时间将日志写到新的一个文件中,旧日志文件可以用来备份或其它.\r\n而Redis的AOF还和rotate略有不同,他用了一种比较简单的方法,就是先给当前的所有数据做一个快照.然后再在这个快照的基础上写接下来的日志.\r\n照快照的好处是,你之前可能用了10w次操作共改变了100条数据(比如在一条数据上进行了多次操作).那这时你AOF中的10w条写操作记录就变成了100条记录.相当于将前面的执行全部合并了.原本很大AOF变小了.\r\n执行这个操作的命令是:BGREWRITEAOF (background rewrite append only file)\r\n这个快照长什么样呢?基本和一般的写日志没什么两样,也是一条一条的写记录..比如现在Redis中总共存了3条string类型的数据a=>1,b=>2,c=>3.那这个快照的基本内容就是写入a=>1,写入b=>2,写入c=>3.\r\n这时候要用AOF进行恢复的时候,只要先执行了前面几条,就能够恢复当前状态,然后再执行之后来的写操作,就能完全重现数据了.\r\n内部实现\r\n我们大概知道了执行BGREWRITEAOF时都发生了什么,下面来说一下Redis是如何实现的.分下面几步:\r\nfork! Redis通过fork产生子进程.\r\n子进程对当前数据执行遍历操作,将当前所有数据都生成一条写入日志,将这些日志写入一个临时文件.(其实是子进程写了一个临时文件,又再rename成了另一个临时文件)\r\n父子进程是并行执行的,在子进程遍历并写临时文件的时候,父进程在照常接收请求,处理请求,写AOF,不过这时他是把新来的AOF写在一个缓冲区中.\r\n当子进程完成遍历操作,写完临时文件后,就会退出.这时父进程的wait3函数会接收到子进程退出的消息,他会把自己现在收集在缓冲区中的所有AOF追加在临时文件中.\r\n最后一步,把临时文件rename一下,改名为appendonly.aof,这时原来的aof文件被覆盖.整个过程完成.\r\n如果你的AOF文件稍微大点,你可以在一个终端执行BGREWRITEAOF,然后立刻ls 连着查看几次redis的data目录,就可以看到,先生成了一个临时文件,临时文件比原来的appendonly.aof小一些,然后临时文件消失,而原来的appendonly.aof变小了,其实就是临时文件rename成了appendonly.aof..覆盖了原来的大文件.看起来像是临时文件消失了.\r\n其它\r\n可能你要说,随着数据的增多,aof文件肯定也是越来越大的啊..这个没错,因为当你有10w条记录的时候,你至少要有10w条纯添加日志.然而这时候你的数据文件也应该够大了吧..更何况这日志文件呢.\r\n\r\n三、在windows环境下，phper想使用php操作redis，那怎么办呢？\r\n给大家推荐一个rediska，使用rediska来代替phpredis模块。\r\n用法很简单，\r\n<pre class="brush: php;">\r\n	require ''Rediska.php'';\r\n	$rediska = new Rediska();\r\n	$rediska ->connect(''127.0.0.1'',6379);\r\n	$rediska ->set(''test'',''hello world!'');\r\n	echo $rediska ->get(''test'');\r\n</pre>\r\n这个两天就这么多。等以后有时间再更深入研究，冲吧，孩纸！', 'redis浅见', '', 'inherit', 'open', '2012-12-13 17:58:57', 57, 'http://xpmyblog.sinaapp.com/?p=505', 0, 'revision', '', 0),
(506, 1, '2012-11-01 11:24:21', '同事的wamp打不开，所以帮忙检查下。\r\n先进入cmd.exe，\r\n输入 netstat -ano|findstr 80\r\n会看到 \r\nTCP 0.0.0.0:80 0.0.0.0 LISTENING 6952\r\n......\r\n\r\n然后再输入\r\ntasklist|findstr "6952" \r\n看一下哪个进程占用了它。我是从服务里查到的。OK，问题解决！', 'win7下查看被占用端口', '', 'inherit', 'open', '2012-11-01 11:24:21', 202, 'http://xpmyblog.sinaapp.com/?p=506', 0, 'revision', '', 0),
(507, 1, '2012-12-13 17:57:24', '身为PHPer，C/C++是必学的语言。所以，孩子，努力学吧。\r\n\r\n1.单击“开始”，指向“所有程序”、“Microsoft Visual Studio 2010”和“Visual Studio 工具”，然后单击“Visual Studio 2010 命令提示”。\r\n根据计算机上的 Windows 版本和系统安全配置，可能必须右击“Visual Studio 2008 命令提示”，然后单击“以管理员身份运行”，才能成功运行按下列步骤创建的应用程序。\r\n\r\n2.在命令提示符下，键入 notepad simple.c，并按 Enter。\r\n在系统提示是否创建文件时，单击“是”。\r\n\r\n3.在记事本中，键入下列各行。\r\n<pre class="brush: cpp;">\r\n#include <stdio.h>\r\nint main()\r\n{\r\n    printf("This is a native C program.\\n");\r\n    return 0;\r\n}\r\n</pre>\r\n\r\n4.在“文件”菜单上，单击“保存”，以创建 C 源文件。\r\n5.关闭记事本。\r\n6.在命令提示符下，键入 cl simple.c，并按 Enter。\r\ncl.exe 编译器将生成一个可执行程序 Simple.exe。\r\n您可以在编译器显示的多行输出信息中看到可执行程序的名称。\r\n<pre>\r\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 16.00 for 80x86\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\nsimple.c\r\nMicrosoft (R) Incremental Linker Version 10.00\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n/out:simple.exe\r\nsimple.obj\r\n\r\n</pre>\r\n\r\n7.若要查看 \\simple\\ 目录中的所有文件的列表，请键入 dir simple.* 并按 Enter。\r\n\r\n.obj 文件是一个中间格式文件，可以安全地忽略它。\r\n\r\n8.若要运行 Simple.exe，请键入 simple 并按 Enter。\r\n\r\n该程序显示以下文本并退出：\r\n\r\nThis is a native C program.\r\n\r\n9.若要关闭命令提示符窗口，请键入 exit 并按 Enter。\r\n\r\n\r\n\r\n', '用Visual Studio 2010 命令提示 运行C程序', '', 'inherit', 'open', '2012-12-13 17:57:24', 146, 'http://xpmyblog.sinaapp.com/?p=507', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(508, 1, '2012-11-01 11:28:34', '    在Java语言中， abstract class 和interface 是支持抽象类定义的两种机制。正是由于这两种机制的存在，才赋予了Java强大的 面向对象能力。abstract class和interface之间在对于抽象类定义的支持方面具有很大的相似性，甚至可以相互替换，因此很多开发者在进 行抽象类定义时对于abstract class和interface的选择显得比较随意。其实，两者之间还是有很大的区别的，对于它们的选择甚至反映出对 于问题领域本质的理解、对于设计意图的理解是否正确、合理。本文将对它们之间的区别进行一番剖析，试图给开发者提供一个在二者之间进行选择的依据。\r\n\r\n　　理解抽象类\r\n\r\n　　abstract class和interface在Java语言中都是用来进行抽象类（本文 中的抽象类并非从abstract class翻译而来，它表示的是一个抽象体，而abstract class为Java语言中用于定义抽象类的一种方法， 请读者注意区分）定义的，那么什么是抽象类，使用抽象类能为我们带来什么好处呢？\r\n\r\n　　在 面向对象的概念中，我们知道所有的对象都是通过类来描绘的，但是反过来却不是这样。并不是 所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。抽象类往往用来表征我们在对问题领域进行分析、 设计中得出的抽象概念，是对一系列看上去不同，但是本质上相同的具体概念的抽象。比如：如果我们进行一个图形编辑软件的开发，就会发现问题领域存在着圆、 三角形这样一些具体概念，它们是不同的，但是它们又都属于形状这样一个概念，形状这个概念在问题领域是不存在的，它就是一个抽象概念。正是因为抽象的概念 在问题领域没有对应的具体概念，所以用以表征抽象概念的抽象类是不能够实例化的。\r\n\r\n　　在面向对象领域，抽象类主要用来进行类型隐藏。 我们可以构造出一个固定的一组行为的抽象描 述，但是这组行为却能够有任意个可能的具体实现方式。这个抽象描述就是抽象类，而这一组任意个可能的具体实现则表现为所有可能的派生类。模块可以操作一个 抽象体。由于模块依赖于一个固定的抽象体，因此它可以是不允许修改的；同时，通过从这个抽象体派生，也可扩展此模块的行为功能。熟悉OCP的读者一定知 道，为了能够实现面向对象设计的一个最核心的原则OCP(Open-Closed Principle)，抽象类是其中的关键所在。\r\n\r\n　　从语法定义层面看abstract class 和 interface\r\n\r\n　　在语法层面，Java语言对于abstract class和interface给出了不同的定义方式，下面以定义一个名为Demo的抽象类为例来说明这种不同。\r\n\r\n　　使用abstract class的方式定义Demo抽象类的方式如下：\r\n\r\nabstract class Demo｛   \r\nabstract void method1();   \r\nabstract void method2();   \r\n…   \r\n｝   \r\n \r\n\r\n    使用interface的方式定义Demo抽象类的方式如下：\r\n\r\n\r\ninterface Demo{   \r\nvoid method1();   \r\nvoid method2();   \r\n…   \r\n}   \r\n \r\n\r\n    在abstract class方式中，Demo可以有自己的数据成员，也可以有非 abstract的成员方法，而在interface方式的实现中，Demo只能够有静态的不能被修改的数据成员（也就是必须是static final 的，不过在interface中一般不定义数据成员），所有的成员方法都是abstract的。从某种意义上说，interface是一种特殊形式的 abstract class。\r\n\r\n　　从编程的角度来看，abstract class和interface都可以用来实现 "design by contract" 的思想。但是在具体的使用上面还是有一些区别的。\r\n\r\n　　首先，abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系(因为Java不支持多继承 -- 转注)。但是，一个类却可以实现多个interface。也许，这是Java语言的设计者在考虑Java对于多重继承的支持方面的一种折中考虑吧。\r\n\r\n　　其次，在abstract class的定义中，我们可以赋予方法的默认行为。但是在interface的定义中，方法却不能拥有默认行为，为了绕过这个限制，必须使用委托，但是这会增加一些复杂性，有时会造成很大的麻烦。\r\n\r\n　　在 抽象类中不能定义默认行为还存在另一个比较严重的问题，那就是可能会造成维护上的麻烦。因 为如果后来想修改类的界面（一般通过 abstract class 或者interface来表示）以适应新的情况（比如，添加新的方法或者给已用的方法中添 加新的参数）时，就会非常的麻烦，可能要花费很多的时间（对于派生类很多的情况，尤为如此）。但是如果界面是通过abstract class来实现的，那 么可能就只需要修改定义在abstract class中的默认行为就可以了。\r\n\r\n　　同样，如果不能在抽象类中定义默认行为，就会导致同样的方法实现出现在该抽象类的每一个派生类中，违反了 "one rule，one place" 原则，造成代码重复，同样不利于以后的维护。因此，在abstract class和interface间进行选择时要非常的小心。\r\n\r\n　　从设计理念层面看 abstract class 和 interface\r\n\r\n　　上面主要从语法定义和编程的角度论述了abstract class和interface的区 别，这些层面的区别是比较低层次的、非本质的。本小节将从另一个层面：abstract class和interface所反映出的设计理念，来分析一下二者的区别。作者认为，从这个层面进行分析才能理解二者概念的本质所在。\r\n\r\n　　前面已经提到过，abstract class在Java语言中体现了一种继承关系，要想使得继承关系合理，父类和派生类之间必须存在"is-a"关系，即父类和派生类在概念本质上应该是相同的。对于interface来说则不然，并不要求interface的实现者和interface定义在概念本质上是一致的， 仅仅是实现了interface定义的契约而已。为了使论述便于理解，下面将通过一个简单的实例进行说明。\r\n\r\n　　考虑这样一个例子，假设在我们的问题领域中有一个关于Door的抽象概念，该Door具有执行两个动作open和close，此时我们可以通过abstract class或者interface来定义一个表示该抽象概念的类型，定义方式分别如下所示：\r\n\r\n　　使用abstract class方式定义Door：\r\n\r\n\r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\n}   \r\n \r\n\r\n    使用interface方式定义Door：\r\n\r\n  \r\ninterface Door{   \r\nvoid open();   \r\nvoid close();   \r\n}    \r\n \r\n\r\n    其他具体的Door类型可以extends使用abstract class方式定义的Door或者implements使用interface方式定义的Door。看起来好像使用abstract class和interface没有大的区别。\r\n\r\n　　如果现在要求Door还要具有报警的功能。我们该如何设计针对该例子的类结构呢（在本例中， 主要是为了展示 abstract class 和interface 反映在设计理念上的区别，其他方面无关的问题都做了简化或者忽略）？下面将罗列出可能的解 决方案，并从设计理念层面对这些不同的方案进行分析。\r\n\r\n　　解决方案一：\r\n\r\n　　简单的在Door的定义中增加一个alarm方法，如下：\r\n\r\n\r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\nabstract void alarm();   \r\n}   \r\n \r\n\r\n　或者\r\n\r\n\r\ninterface Door{   \r\nvoid open();   \r\nvoid close();   \r\nvoid alarm();   \r\n}   \r\n\r\n \r\n\r\n\r\n　　那么具有报警功能的AlarmDoor的定义方式如下：\r\n\r\n\r\nclass AlarmDoor extends Door{   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n}   \r\n \r\n\r\n\r\n　　或者\r\n\r\n\r\nclass AlarmDoor implements Door｛   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n｝   \r\n \r\n\r\n    这种方法违反了面向对象设计中的一个核心原则 ISP (Interface Segregation Principle)，在Door的定义中把Door概念本身固有的行为方法和另外一个概念"报警器"的行为方 法混在了一起。这样引起的一个问题是那些仅仅依赖于Door这个概念的模块会因为"报警器"这个概念的改变（比如：修改alarm方法的参数）而改变，反 之依然。\r\n\r\n　　解决方案二：\r\n\r\n　　既然open、close和alarm属于两个不同的概念，根据ISP原则应该把它们分别定 义在代表这两个概念的抽象类中。定义方式有：这两个概念都使用 abstract class 方式定义；两个概念都使用interface方式定义；一个概念 使用 abstract class 方式定义，另一个概念使用interface方式定义。\r\n\r\n　　显然，由于Java语言不支持多重继承，所以两个概念都使用abstract class方式定义是不可行的。后面两种方式都是可行的，但是对于它们的选择却反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理。我们一一来分析、说明。\r\n\r\n　　如果两个概念都使用interface方式来定义，那么就反映出两个问题：1、我们可能没有 理解清楚问题领域，AlarmDoor在概念本质上到底是Door还是报警器？2、如果我们对于问题领域的理解没有问题，比如：我们通过对于问题领域的分 析发现AlarmDoor在概念本质上和Door是一致的，那么我们在实现时就没有能够正确的揭示我们的设计意图，因为在这两个概念的定义上（均使用 interface方式定义）反映不出上述含义。\r\n\r\n　　如果我们对于问题领域的理解是：AlarmDoor在概念本质上是Door，同时它有具有报 警的功能。我们该如何来设计、实现来明确的反映出我们的意思呢？前面已经说过，abstract class在Java语言中表示一种继承关系，而继承关系 在本质上是"is-a"关系。所以对于Door这个概念，我们应该使用abstarct class方式来定义。另外，AlarmDoor又具有报警功能，说 明它又能够完成报警概念中定义的行为，所以报警概念可以通过interface方式定义。如下所示：\r\n\r\n  \r\nabstract class Door{   \r\nabstract void open();   \r\nabstract void close()；   \r\n}   \r\ninterface Alarm{   \r\nvoid alarm();   \r\n}   \r\nclass AlarmDoor extends Door implements Alarm{   \r\nvoid open(){…}   \r\nvoid close(){…}   \r\nvoid alarm(){…}   \r\n}    \r\n \r\n\r\n    这种实现方式基本上能够明确的反映出我们对于问题领域的理解，正确的揭示我们的设计意图。其 实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系，大家在选择时可以作为一个依据，当然这是建立在对问题领域的理解上的，比如：如果我们认为AlarmDoor在概念本质上是报警器，同时又具有Door的功能，那么上述的定义方式就要反过来了。\r\n\r\n　　小结\r\n\r\n　　  1.abstract class 在 Java 语言中表示的是一种继承关系，一个类只能使用一次继承关系。但是，一个类却可以实现多个interface。\r\n\r\n　  　2.在abstract class 中可以有自己的数据成员，也可以有非abstarct的成员方法，而在interface中，只能够有静态的不能被修改的数据成员（也就是必须是static final的，不过在 interface中一般不定义数据成员），所有的成员方法都是abstract的。\r\n\r\n　　  3.abstract class和interface所反映出的设计理念不同。其实abstract class表示的是"is-a"关系，interface表示的是"like-a"关系。\r\n\r\n　　  4.实现抽象类和接口的类必须实现其中的所有方法。抽象类中可以有非抽象方法。接口中则不能有实现方法。\r\n\r\n　  　5.接口中定义的变量默认是public static final 型，且必须给其初值，所以实现类中不能重新定义，也不能改变其值。\r\n\r\n　  　6.抽象类中的变量默认是 friendly 型，其值可以在子类中重新定义，也可以重新赋值。\r\n\r\n　　  7.接口中的方法默认都是 public,abstract 类型的。\r\n\r\n　 结论\r\n\r\n　　abstract class 和 interface 是 Java语言中的两种定义抽象类的方式，它们之间有很大的相似性。但是对于它们的选择却又往往反映出对于问题领域中的概念本质的理解、对于设计意图的反映是否正确、合理，因为它们表现了概念间的不同的关系（虽然都能够实现需求的功能）。这其实也是语言的一种的惯用法，希望读者朋友能够细细体会。', '详解java中的抽象类和接口的区别', '', 'inherit', 'open', '2012-11-01 11:28:34', 42, 'http://xpmyblog.sinaapp.com/?p=508', 0, 'revision', '', 0),
(509, 1, '2012-12-13 17:28:58', 'python Django上传图片,还要循环创建文件夹，产生缩略图，用PIL\r\n\r\n第一步：\r\nhtml端就不说了，<pre class="brush: html;"><input type="file" name="imagefile" class="file" id="fileField" size="28"></pre>\r\n<p></p>\r\n第二步：\r\n<pre class="brush: py;">\r\n#encoding:utf8\r\nimport os\r\nfrom django.template import loader, Context\r\nfrom django.http import HttpResponse\r\nfrom django.http import HttpResponseRedirect\r\nfrom funny.gallery.models import User, Photo, Tag\r\nfrom django.db.models import Q\r\nfrom django.shortcuts import render_to_response\r\nimport md5\r\nimport json\r\nimport Image\r\n#------------------------------------------ 上面是头部需要import的\r\n\r\n    typelist = [''jpeg'',''jpg'',''png'',''gif'']\r\n    reqfile = request.FILES[''imagefile'']\r\n    _type = reqfile.content_type.split("/")[-1]\r\n\r\n    if _type not in typelist:\r\n        return HttpResponse(''<script>parent.callback("图片格式错误！")</script>'')\r\n    #print type(reqfile),reqfile.__dict__\r\n    #print reqfile._size\r\n\r\n    import uuid\r\n    name = uuid.uuid4().hex\r\n    directory = "uploadphotos/1/"\r\n    if not os.path.exists(directory): os.mkdir(directory)\r\n\r\n    file_name = directory + name + "." + _type\r\n    f = file(file_name, "wb")\r\n    f.write(reqfile.read())\r\n    f.close()\r\n\r\n    reqfile.seek(0)\r\n    image = Image.open(reqfile)\r\n    image.thumbnail((150,150),Image.ANTIALIAS)\r\n    imagename = directory + name +''thumb.''+_type\r\n    image.save(imagename, _type)\r\n\r\n    return HttpResponse(''<script>parent.callback("''+imagename+''")</script>'')\r\n\r\n</pre>\r\n\r\n<p></p>\r\n注释我就不加了，程序从上往下看。', 'python Django自定义上传图片', '', 'inherit', 'open', '2012-12-13 17:28:58', 419, 'http://xpmyblog.sinaapp.com/?p=509', 0, 'revision', '', 0),
(510, 1, '2012-12-13 17:29:54', '前面django-admin startproject mysite创建一个项目，\r\ncd mysite\r\nmanage.py startapp blog  创建一个blog\r\n\r\n1、设置数据库 settings.py\r\n<pre class="brush: py;">\r\nDATABASE_ENGINE = ''mysql''\r\nDATABASE_NAME = ''djangodb''\r\nDATABASE_USER = ''root''\r\nDATABASE_PASSWORD = ''''\r\nDATABASE_HOST = ''localhost''\r\nDATABASE_PORT = ''''\r\n</pre>\r\n\r\n2、建表\r\n命令行\r\nmanage.py syncdb\r\n........\r\n\r\n3、设置自动admin应用 settings.py\r\n在django.contrib.auth下添加django.contrib.admin,mysite.blog\r\n\r\n4、再次 命令行\r\nmanage.py syncdb\r\n........\r\n\r\n5、urls.py内容为\r\n<pre class="brush: py;">\r\nfrom django.conf.urls.defaults import *\r\n\r\n# Uncomment the next two lines to enable the admin:\r\nfrom django.contrib import admin\r\nadmin.autodiscover()\r\n\r\nurlpatterns = patterns('''',\r\n    # Uncomment the next line to enable the admin:\r\n    (r''^admin/(.*)'', admin.site.root),\r\n)\r\n</pre>\r\n\r\n注意，这和老版本不太一样，当出现No module named urls时，仔细检查下此文件。\r\n\r\n6、然后models.py内容为\r\n<pre class="brush: py;">\r\nfrom django.db import models\r\nfrom django.contrib import admin\r\n\r\nclass BlogPost(models.Model):\r\n    title = models.CharField(max_length=150)\r\n    body = models.TextField()\r\n    timestamp = models.DateTimeField()\r\n\r\nadmin.site.register(BlogPost)\r\n</pre>\r\n\r\n7、最后在浏览器运行，http://127.0.0.1:8888/admin/，就可以看到登录页面了。\r\n发布文章的时候，如果发现blog_blogpost表不存在，就再执行下manage.py syncdb', 'django1.0.4 blog Admin管理界面的激活方法', '', 'inherit', 'open', '2012-12-13 17:29:54', 390, 'http://xpmyblog.sinaapp.com/?p=510', 0, 'revision', '', 0),
(511, 1, '2012-11-30 10:27:22', '写了这么长时间PHP代码了\r\n但还是不明白什么叫PHP高级工程师？\r\n看各大网站上都在招\r\n具备哪些条件才算是？\r\n\r\n&nbsp;\r\n\r\nPHP 工程师 (PHP Programmar)\r\n定义: 正在以PHP程序为主要工作,并正在进行新产品的研发.可以同时使用C+/perl等辅助提高PHP程序性能的人是PHP工程师.\r\n描述: PHP工程师是.\r\n特征:\r\n1: 精通一种或多种linux.\r\n2: 快速编写结构清晰,代码格式优美的PHP程序.\r\n3: 能够进行框架级通用程序的研发.\r\n4: 能够在程序开发初期就通过项目规划避免未来可能出现的性能瓶颈.\r\n5: 能够使用框架/类库加速项目开发进度.\r\n6: 有自己的代码库.\r\n7: 能够胜任大部分服务器和部分服务器集群优化工作.\r\n技术要求我就不说了.具体到PHP中级程序员之后,PHP程序员就开始选择发展方向进行分化了.能够到这一步的人,基本都对自己的职业规划有清晰的认识.目前国内此类人才奇少.\r\n\r\n&nbsp;\r\n\r\n关于其他:\r\n1 PHP程序员从中级程序员阶段就开始分化,具体方向根据公司性质,工作条件,自己的兴趣等不一而同.因此需要擅长的详细技能也不太相同.\r\n例如: 公司使用 joomla 构建网站, 这就要求程序员必须精通joomla. 如果公司使用自研CMS+discuz构建网站,这就要求程序员能够熟练进行DISCUZ的二次开发.强行要求程序员精通这精通那,意义不大.\r\n到高级程序员开始.PHP程序员由于自己的职业经历.肯定会有自己的专攻方向,有人擅长大负载下程序开发优化,有人擅长项目快速开发.而到这个阶段,如果PHP程序员还需要看这篇文章规划自己的职业生涯.那么请自己列出自己擅长的PHP技术.并选择一种最擅长的技术专攻.\r\n\r\n2 关于coder和programmar. 字面上理解第一个是编码员,第二个是程序员.实际因为国内名词的混乱.第一个大多以程序员称呼,第二个目前大多处于项目核心领导层面.故本文暂以工程师称呼.\r\ncoder 是进行少量创新的,大量重复工作的人.\r\nprogrammar 是进行新技术摸索开发,并实际领导/带领大中型项目开发的人.\r\n\r\n3 关于 C++ . PHP初期的语法(php3/4时代)和C几乎一样.我当初就是看一下午PHP速成+php手册入的门.但到一定深度之后.有些PHP的特性需要实际阅读PHP源码才能理解(相关文档不全或者不好找到).有些实际项目功能使用C++开发远比PHP效率高.比如我现在做的项目需要爬虫持续海量抓取,当带宽足够的情况时,纯使用PHP实现效率不高.所以必须使用C++. 所以C++到需要用的时候自然而然的就要用了.不过如果有C/C++的基础,学习PHP要轻松很多.\r\n\r\n4 关于面向对象.面向对象还是很帅的,小型工程上使用意义不大,大中型工程可以极大的提升开发效率.在php4的时代对面向对象基本没有什么要求,但是现在需要完整掌握面向对象.\r\n\r\n5 关于JAVA/Delphi 他们和php有关么? 我孤陋寡闻.请牛人指教.谢谢\r\n\r\n6 关于软件工程. 软件工程是一个实际使用中才能学懂的学科.我才疏学浅,在大学的时候楞没学懂.等实际领导项目了.才慢慢的明白其中的含义与奥妙.\r\n\r\n8 关于开发模式. 开发模式的好坏直接关系这项目开发的速度与项目的质量.初期死抠模式意义不大.建议有一定积累了再说.\r\n\r\n9 关于名气. 嗯...怎么说呢?高端PHP圈子很小,也就那么些人.水平到了,自然就认识那些人了.\r\n\r\n10 关于第三方库,初期学习掌握一些,比如smarty.到一定阶段需要决定到底是精通第三方库还是使用自行积累开发的库.总的来说,由于第三方库大多是外国人开发,所以国内想要时刻紧跟比较被动,phpBB中文的没落便是一例.如果使用自行积累开发的库,难度较大,要注意通用性和可扩展性.\r\n\r\n11 关于英文. 这个是废话.最低要求是流畅阅读英文文档.\r\n\r\n&nbsp;\r\n\r\n关于自己：\r\n\r\n写了这么长时间PHP代码，我对自己定义就是能够用框架快速开发项目。自己试着开发过小框架，后来因为功能少，就放弃了。会搭建LNMP。会点其它语言。哎。。。木有成就感啊，用的都是人家研究好的东西。 钻研方向待定。多想想如何能去研发，而不是一味的只会开发。\r\n\r\nhttp://www.cnxct.com/use-php-apc-to-protected-your-code/ 这个东东，才是俺心目中高级的PHP项目啊。可惜没接触到，连PHP扩展都不会写，还没入门呢，哎。。。', '什么叫php高级工程师', '', 'inherit', 'open', '2012-11-30 10:27:22', 396, 'http://xpmyblog.sinaapp.com/?p=511', 0, 'revision', '', 0),
(512, 1, '2012-12-13 17:31:32', '<pre class="brush: php;">\r\n//当前域名\r\necho Yii::app()->request->hostInfo;\r\n\r\n//除域名外的URL\r\necho Yii::app()->request->getUrl();\r\n\r\n//除域名外的首页地址\r\necho Yii::app()->user->returnUrl;\r\n\r\n//除域名外的根目录地址\r\necho Yii::app()->homeUrl;\r\n\r\necho Yii::app()->request->baseUrl;\r\n\r\n</pre>', 'yii获取当前url和域名', '', 'inherit', 'open', '2012-12-13 17:31:32', 350, 'http://xpmyblog.sinaapp.com/?p=512', 0, 'revision', '', 0),
(513, 1, '2012-09-13 16:59:49', '在PHP5.4版本的时候用PHPExcel导出excel报错，\r\n报错如下：\r\nFatal error: Uncaught exception ''LogicException'' with message ''In the constructor of PHPExcel_WorksheetIterator, parent::__construct() must be called and its exceptions cannot be cleared'' in F:\\wamp\\www\\ops2.0\\PHPExcel.php:515 Stack trace: #0 F:\\wamp\\www\\ops2.0\\PHPExcel.php(515): PHPExcel_WorksheetIterator->internal_construction_wrapper(Object(PHPExcel)) #1 F:\\wamp\\www\\ops2.0\\PHPExcel\\ReferenceHelper.php(530): PHPExcel->getWorksheetIterator() #2 F:\\wamp\\www\\ops2.0\\PHPExcel\\Worksheet.php(693): PHPExcel_ReferenceHelper->updateNamedFormulas(Object(PHPExcel), ''Worksheet'', ''???????????????...'') #3 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(31): PHPExcel_Worksheet->setTitle(''???????????????...'') #4 F:\\wamp\\www\\ops2.0\\actions\\manage\\export_domain_all.php(111): export_domain_excel() #5 {main} thrown in F:\\wamp\\www\\ops2.0\\PHPExcel.php on line 515\r\n\r\n解决办法：\r\n\r\nI manged to make it work again, but the generated Excel spreadsheet is corrupted. To make it run under PHP 5.4.0beta1 you have to modify the PHPExcel_WorksheetIterator class. Currently, it extends the CachingIterator which constructor has been changed in the PHP beta. To make the code run, you can change the class definition to: "implements Iterator" instead of "extends CachingIterator". \r\n\r\n\r\n就是将 extends CachingIterator 替换成 implements Iterator就OK了！\r\n', 'PHPExcel Urgent: SetTitle does not work on PHP 5.4.0beta1', '', 'inherit', 'open', '2012-09-13 16:59:49', 301, 'http://xpmyblog.sinaapp.com/?p=513', 0, 'revision', '', 0),
(514, 1, '2012-12-13 17:41:03', '调用方法:\r\n<pre class="brush: php;">\r\nrequire_once("ZabbixAPI.class.php");\r\n// This enables debugging, this is rather verbose but can help debug problems\r\nZabbixAPI::debugEnabled(TRUE);\r\n\r\n// This logs into Zabbix, and returns false if it fails\r\n//ZabbixAPI::debugEnabled(true);\r\nZabbixAPI::login(''host'',''user'',''passwd'');\r\n\r\n$a = ZabbixAPI::fetch_array(''template'',''get'');\r\n\r\n</pre>\r\n<pre>\r\n1. Javier commented on January 25th, 2012 at 9:54 AM PST  \r\nI found the solution in the next commentary: tcpsyn commented on March 22nd, 2011 at 8:45 AM PST Interesting. I found somewhere that the issue was solved by uncommenting ZabbixAPI::debugEnabled(TRUE); ... This was not in this version of your wrapper. I added it to line 89 and now can use the api. Weird.\r\n\r\n2. Michel Groenescheij commented on February 22nd, 2012 at 1:47 AM PST  \r\nAs we successfully worked with your API under Zabbix 1.8, we now run into problems after we upgraded to Zabbix 2.0. Can you tell us if your API is compatible with ZabbixAPI 2.0?\r\n\r\n3. korvet commented on February 22nd, 2012 at 10:55 AM PST  \r\nHow to return hostid using ZabbixAPI::query ''host'',''create''\r\n\r\n4. Chris commented on May 2nd, 2012 at 5:30 AM PST  \r\nIf you got the "Call to undefined method stdClass::__login()" error (like I did in php 5.3), then fix the ZabbixAPI.class.php file by replacing the line: if (get_class(self::$instance) != "ZabbixAPI") with if (!self::$instance || get_class(self::$instance) != "ZabbixAPI")\r\n\r\n5. Clark commented on May 7th, 2012 at 3:32 PM PST  \r\nI want to get a list of a specific host. How can I use the filter option? $host_details = ZabbixAPI::fetch_array(''host'',''get'',array(''extendoutput''=>1, ''filter''=>''dns:am-akiban02.nj1.afcv.net''))\r\n\r\n</pre>', 'Zabbix  API 一些错误的解决办法', '', 'inherit', 'open', '2012-12-13 17:41:03', 296, 'http://xpmyblog.sinaapp.com/?p=514', 0, 'revision', '', 0),
(515, 1, '2012-12-13 17:34:06', 'IE8以下，ajax传递中文字符串，PHP端接收不了。真是让人无语啊。。。\r\n分析一下原因，echo $_GET[''username'']; 输出是空值，也就是没有传递过来。\r\n\r\n解决办法就是在客户端加escape\r\n$.get("aa.php&amp;username="+escape(username)+"&amp;rand="+Math.random(), function(data){\r\n\r\n});\r\n\r\n然后在php解escape\r\n<pre class="brush: js;">\r\nfunction js_unescape($str)\r\n{\r\n    $ret = '''';\r\n    $len = strlen($str);\r\n    for ($i = 0; $i < $len; $i++) {\r\n        if ($str[$i] == ''%'' && $str[$i+1] == ''u''){\r\n            $val = hexdec(substr($str, $i+2, 4));\r\n            if ($val < 0x7f) $ret .= chr($val);\r\n            else if($val < 0x800) $ret .= chr(0xc0|($val>>6)).chr(0x80|($val&0x3f));\r\n            else $ret .= chr(0xe0|($val>>12)).chr(0x80|(($val>>6)&0x3f)).chr(0x80|($val&0x3f));\r\n            $i += 5;\r\n        }else if ($str[$i] == ''%''){\r\n            $ret .= urldecode(substr($str, $i, 3));\r\n            $i += 2;\r\n	}else{\r\n            $ret .= $str[$i];\r\n	}\r\n}\r\n    return $ret;\r\n}</pre>', '解决ajax传递中文字符串，PHP端接收不了的问题', '', 'inherit', 'open', '2012-12-13 17:34:06', 248, 'http://xpmyblog.sinaapp.com/?p=515', 0, 'revision', '', 0),
(516, 1, '2012-12-13 17:41:38', '在写这个程序之前，先回忆相关的代码。\r\n1、\r\n<pre class="brush: php;">\r\n$file = "aa.txt "; \r\n$file_array = file($file); \r\n$file_line_num = count($file_array); \r\necho $file_line_num;die;    //获得这个文件有多少行\r\n</pre>\r\n2、\r\n<pre class="brush: php;">\r\n$txt = file(''aa.txt'');\r\necho $txt[2];die;	//输出第三行\r\n</pre>\r\n3、\r\n有一个很大的日志文件，要读出最后100行，怎么办？\r\n<pre class="brush: php;">\r\n$commandstr="tail -n 100 aa.txt>online.txt"; //把server.log的最后100行重定向到online.txt中\r\nsystem($commandstr); //调用系统命令\r\n$file_handle = fopen("online.txt", "r+"); //以只读的方式打开online.txt文件\r\nwhile (!feof($file_handle)) {\r\n   $line = fgets($file_handle);\r\n        echo nl2br($line); //输出文件\r\n}\r\nfclose($file_handle); //关闭文件\r\n</pre>\r\n注意，要把online.txt文件的属性设为777，还有上面程序只对linux系统下有效。\r\n\r\n4、现在开始标题的程序吧\r\n<pre class="brush: php;">\r\n$txt = file(''aa.txt'');\r\nforeach($txt as $key=>$value) {\r\n	if(preg_match(''/heaven/'',$value)) {\r\n		$strarr = explode('' '',$value);\r\n		foreach($strarr as $k => $v) {\r\n			if(preg_match(''/heaven/'',$v)) {\r\n				echo ($key+1).'',''.($k+1).'' '';\r\n			}\r\n		}\r\n	}\r\n}\r\n</pre>\r\n我写的时间复杂度貌似有点高了。不知道哪位大侠有好的算法啊？\r\n转载请注明出处 http://xpmyblog.sinaapp.com/?p=205', 'php查找一个单词在一个文件中的第几行第几列', '', 'inherit', 'open', '2012-12-13 17:41:38', 205, 'http://xpmyblog.sinaapp.com/?p=516', 0, 'revision', '', 0),
(517, 1, '2012-12-13 17:42:00', '直接上最简单的\r\n<pre class="brush: php;">\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\nclass call_func{\r\n	function func0() {\r\n		echo ''func0'';\r\n	}\r\n\r\n	function func1($a) {\r\n		echo $a;\r\n	}\r\n\r\n	function func2($a, $b) {\r\n		echo $a+$b;\r\n	}\r\n\r\n	function func3($a, $b, $c) {\r\n		echo $a+$b+$c;\r\n	}\r\n}\r\n\r\nfunction otest() {\r\n	$args = func_get_args();	\r\n	$num = func_num_args();\r\n	call_user_func_array(array(''call_func'',''func''.$num), $args);\r\n}\r\n\r\notest(1,1,1);\r\n</pre>\r\n\r\nmixed call_user_func_array ( callback function, array param_arr ) 和 mixed call_user_func ( callback $function [, mixed $parameter [, mixed $... ]] ) 相似\r\n\r\n还可以这样实例化类的，厉害吧！！！', 'PHP之call_user_func_array用法', '', 'inherit', 'open', '2012-12-13 17:42:00', 196, 'http://xpmyblog.sinaapp.com/?p=517', 0, 'revision', '', 0),
(518, 1, '2012-12-13 17:42:33', '前段时间研究了下CI框架的router，今天下午，继续看CI，发现\r\n<pre class="brush: php;">\r\nclass Welcome extends CI_Controller {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n</pre>\r\n\r\n为什么能够直接用$this->load呢？？？ 这是我在面试的时候，被提问的。所以就仔细看看啰。\r\n\r\n这块和构造函数有关，所以看了下手册，自己写了个模仿CI的例子。\r\n\r\n<pre class="brush: php;">\r\n\r\nclass BaseClass {\r\n	var $load;\r\n	function __construct() {\r\n		$this->load = new load();\r\n	}\r\n}\r\n\r\nclass load {\r\n	function helper($helper) {\r\n		echo $helper;die;   //这里可以加载文件\r\n	}\r\n}\r\n\r\nclass SubClass extends BaseClass {\r\n	function __construct() {\r\n		parent::__construct();\r\n		$this->load->helper(''url'');\r\n	}\r\n}\r\n\r\n$obj = new SubClass();\r\n\r\n</pre>\r\n\r\n\r\n不知道我上面写的对不对，希望有高手评价下。', '对于CI框架$this->load->helper(''url'');这种用法的理解', '', 'inherit', 'open', '2012-12-13 17:42:33', 180, 'http://xpmyblog.sinaapp.com/?p=518', 0, 'revision', '', 0),
(519, 1, '2012-12-13 17:43:47', '转载请注明出处！\r\n\r\n<pre class="brush: php;">\r\n\r\nheader(''Content-Type:text/html;charset=utf-8'');\r\n/*\r\n * 定义一个连接类,可以访问建立多个数据库连接对象\r\n * \r\n * author 寞踪 http://weibo.com/xpmozong \r\n * http://xpmyblog.sinaapp.com/?p=175\r\n *\r\n */\r\nclass mysql{\r\n	var $dbhost;		//数据库地址\r\n	var $dbuser;		//数据库用户名\r\n	var $dbpasswd;		//数据库密码\r\n	var $dbpconnect=0;	//数据库长连接\r\n	var $dbname;		//数据库名称\r\n	var $dbchart;		//数据库链接编码\r\n	var $dblink;		//数据库连接对象\r\n	var $sql;			//sql语句\r\n	var $res;			//sql语句执行结果\r\n	var $errno;			//错误信息		\r\n\r\n	function connect($dbConfig) {\r\n		$this->dbhost = $dbConfig[''dbhost''];\r\n		$this->dbuser = $dbConfig[''dbuser''];\r\n		$this->dbpasswd = $dbConfig[''dbpasswd''];\r\n		$this->dbpconnect = $dbConfig[''dbpconnect''];\r\n		$this->dbname = $dbConfig[''dbname''];\r\n		$this->dbchart = $dbConfig[''dbchart''];\r\n		if($this->dbpconnect) {\r\n			$this->dblink = mysql_pconnect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		} else {\r\n			$this->dblink = mysql_connect($this->dbhost,$this->dbuser,$this->dbpasswd,1) or die(''can not connect to mysql database!'');\r\n		}\r\n		mysql_query(''set names ''.$this->dbchart, $this->dblink);\r\n		mysql_select_db($this->dbname, $this->dblink);\r\n		unset($dbConfig);\r\n	}\r\n	\r\n	/**\r\n	 * 数据库执行语句\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function query($sql, $die_msg = 1) {\r\n		$this->sql = $sql;\r\n		$result = @mysql_query($sql, $this->dblink); //可以用自定义错误信息的方法，就要压制本身的错误信息\r\n		if($result == true) {\r\n			return $result;\r\n		}else{\r\n			//有错误发生\r\n			$this->errno = mysql_errno($this->dblink);\r\n			if($this->errno >0) {\r\n				if($die_msg == 1) {\r\n					//强制报错并且die\r\n					$this->msg();\r\n				}else{\r\n					return $this->errno;//无强制报错，则返回错误代码\r\n				}\r\n			}\r\n		}\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句单条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getOne($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		return mysql_fetch_assoc($this->res);\r\n	}\r\n	\r\n	/**\r\n	 * 获得查询语句多条结果\r\n	 *\r\n	 * @return array\r\n	 * \r\n	 */\r\n	function getAll($sql) {\r\n		$this->sql = $sql;\r\n		$this->res = $this->query($sql);\r\n		$arr = array();\r\n		while($row = mysql_fetch_assoc($this->res)) {\r\n			$arr[] = $row;\r\n		}\r\n		return $arr;\r\n	}\r\n	\r\n	/**\r\n	 * 取得结果数据\r\n	 *\r\n	 * @param resource $query\r\n	 *\r\n	 * @return string\r\n	 *\r\n	 */\r\n	function result($query, $row) {\r\n		$query = @mysql_result($query, $row);\r\n		return $query;\r\n	}\r\n	\r\n	/**\r\n	 * 获得刚插入数据的id\r\n	 *\r\n	 * @return int id\r\n	 *\r\n	 */\r\n	function getInsertID() {\r\n		return ($id = mysql_insert_id($this->dblink)) >= 0 ? $id : $this->result($this->query(''SELECT last_insert_id()''), 0);\r\n	}\r\n\r\n	/**\r\n	 * 关闭数据库连接，当您使用持续连接时该功能失效\r\n	 *\r\n	 * @return blooean\r\n	 *\r\n	 */\r\n	function close() {\r\n		return mysql_close($this->dblink);\r\n	}\r\n\r\n	/**\r\n	 * 显示自定义错误\r\n	 *\r\n	 */\r\n	function msg() {\r\n		if($this->errno) {\r\n			//可以根据错误ID，配置好一些友好的错误信息提示语句\r\n			$msgArr = array();\r\n			$msgArr[''1062''] = "唯一性索引有重复值插入";\r\n			/*...更多错误代码根据实际业务再添加...*/\r\n			if($msgArr[$this->errno]) {\r\n				$errMsg = $msgArr[$this->errno];//已定义的错误\r\n			}else{\r\n				$errMsg = mysql_error();//未定义的错误，由默认的错误信息决定\r\n			}\r\n			echo "<div style=''color:red;''>\\n";\r\n				echo "<h4>数据库操作错误</h4>\\n";\r\n				echo "<h5>错误代码：".$this->errno."</h5>\\n";\r\n				echo "<h5>错误信息：".$errMsg."</h5>\\n";\r\n			echo "</div>";\r\n			unset($msgArr);\r\n			die;\r\n		}\r\n	}\r\n}\r\n\r\n\r\n$dbConfig1 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''child'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n$dbConfig2 = array(''dbhost''=>''192.168.0.104'',''dbuser''=>''root'',''dbpasswd''=>''123456'',''dbname''=>''shop'',''dbpconnect''=>0,''dbchart''=>''utf8'');\r\n\r\n$db1 = new mysql();\r\n$db1->connect($dbConfig1);\r\n\r\n$db2 = new mysql();\r\n$db2->connect($dbConfig2);\r\n\r\n\r\n$res1 = $db1->getAll(''select * from user_info limit 2'');\r\necho "<pre>";\r\nprint_r($res1);\r\n\r\n\r\n$res2 = $db2->getAll(''select * from ecs_users limit 2'');\r\necho "<pre>";\r\nprint_r($res2);\r\n\r\n</pre>', 'PHP连接多个mysql数据库的类', '', 'inherit', 'open', '2012-12-13 17:43:47', 175, 'http://xpmyblog.sinaapp.com/?p=519', 0, 'revision', '', 0),
(520, 1, '2012-12-13 17:45:17', '静态化网页，是个基本技能。下面是smarty静态化。\r\n打开Smarty.class.php 文件\r\n加入以下代码\r\n<pre class="brush: php;">\r\n        // 循环创建目录 \r\n	function mk_dir($dir, $mode = 0777) \r\n	{ \r\n		if($dir == '''') return true;\r\n		if (is_dir($dir) || @mkdir($dir,$mode)) return true; \r\n		if (!$this->mk_dir(dirname($dir),$mode)) return false; \r\n		return @mkdir($dir,$mode); \r\n	} \r\n\r\n	/**\r\n	 * 页面静态化\r\n	 * \r\n	 * @param string $file_name  \r\n	 * @param string $content\r\n	 *\r\n	 */\r\n	function makeHtmlFile($filedir, $file_name, $content)\r\n	{\r\n		$filedir = $filedir == '''' ? dirname(__FILE__).''/../../'' : $filedir;\r\n		//目录不存在就创建\r\n		if (!file_exists($filedir.$file_name)){\r\n			$this->mk_dir($filedir);\r\n		}\r\n		if(!$fp = fopen($filedir.$file_name, "w+", true)){\r\n			echo ''文件打开失败！'';\r\n			return false;\r\n		}\r\n		if(!fwrite($fp, $content)){\r\n			echo ''文件写入失败！'';\r\n			return false;\r\n		}\r\n		fclose($fp);\r\n		if(chmod($filedir.$file_name,0777)){\r\n			return true;\r\n		}else{\r\n			echo ''改变文件权限失败！'';\r\n			return false;\r\n		}	\r\n	}\r\n</pre>\r\n\r\n加好了之后，就是调用了。怎么调用呢，看一下代码：\r\n<pre class="brush: php;">\r\n//	$smarty->display(''index.html'');\r\n	$content = $smarty->fetch(''index.html'');\r\n	$smarty->makeHtmlFile(''html/index.html'',$content);//生成\r\n\r\n</pre>\r\n\r\n\r\n然后到html目录下，查看，就可以看到生成的静态化文件啦！！！', 'smarty 生成静态化html文件', '', 'inherit', 'open', '2012-12-13 17:45:17', 160, 'http://xpmyblog.sinaapp.com/?p=520', 0, 'revision', '', 0),
(521, 1, '2012-12-13 17:46:03', '<pre class="brush: php;">\r\nclass ABC{\r\n    public $numBox = array();\r\n    public function ddd(){\r\n            for($i=1; $i<=600; $i++){\r\n                    $this->numBox[] = mt_rand(1,1000000);\r\n           }\r\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\r\n        }\r\n \r\n}\r\n$instance = new ABC();\r\nfor($i =0; $i< 50 ; $i++){\r\n     $instance->ddd();\r\n}\r\n\r\n</pre>\r\n这是test1.php的运行结果\r\nNow memory_get_usage: 422728\r\nNow memory_get_usage: 474824\r\nNow memory_get_usage: 522824\r\nNow memory_get_usage: 579024\r\nNow memory_get_usage: 627024\r\nNow memory_get_usage: 675024\r\nNow memory_get_usage: 739408\r\nNow memory_get_usage: 787416\r\nNow memory_get_usage: 835416\r\nNow memory_get_usage: 883416\r\nNow memory_get_usage: 931416\r\nNow memory_get_usage: 979416\r\nNow memory_get_usage: 1027416\r\n..................\r\n\r\n<pre class="brush: php;">\r\nclass ABC{\r\n    public $numBox = array();\r\n    public function ddd(){\r\n            for($i=1; $i<=600; $i++){\r\n                    $this->numBox[] = mt_rand(1,1000000);\r\n           }\r\n                echo ''Now memory_get_usage: ''.memory_get_usage().''<br />'';\r\n        }\r\n \r\n}\r\nfor($i =0; $i< 50 ; $i++){\r\n     $instance = new ABC();\r\n     $instance->ddd();\r\n}\r\n</pre>\r\n这是test2.php的运行结果\r\nNow memory_get_usage: 422728\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\nNow memory_get_usage: 422712\r\n............................\r\n\r\n', 'PHP:在循环内或外实例化类在占用内存上有很大的区别！', '', 'inherit', 'open', '2012-12-13 17:46:03', 158, 'http://xpmyblog.sinaapp.com/?p=521', 0, 'revision', '', 0),
(522, 1, '2012-12-13 17:49:12', '<pre class="brush: php;">\r\n/**\r\n * 把XML转化为数组\r\n *\r\n */\r\nfunction xmlToArray($xml, $recursive = false )\r\n{\r\n	if (!$recursive){\r\n		$array = simplexml_load_string($xml);\r\n	} else  {\r\n		$array = $xml;\r\n	}\r\n\r\n	$newArray = array ();\r\n	$array = (array) $array ;\r\n	foreach ($array as $key => $value ) {\r\n		$value = (array) $value ;\r\n		if (isset ($value [0])){\r\n			$newArray [$key] = trim($value [0]) ;\r\n		} else {\r\n			$newArray [$key] = self::xmlToArray($value, true) ;\r\n		}\r\n	}\r\n	return $newArray ;\r\n}\r\n\r\n/**\r\n * 把数据转换为XML格式的数据\r\n *\r\n */\r\nfunction arraytoxml($array, $tag)\r\n{\r\n	function ia2xml($array)\r\n	{\r\n		$xml = '''';\r\n		foreach ($array as $key=>$value) {\r\n			if (is_array($value)) {\r\n				$xml.="<$key>".ia2xml($value)."</$key>";\r\n			} else {\r\n				$xml.="<$key>".$value."</$key>";\r\n			}\r\n		}\r\n		return $xml;\r\n	}\r\n\r\n	return simplexml_load_string("<$tag>".ia2xml($array)."</$tag>");\r\n}\r\n\r\n$test[''type'']=''lunch'';\r\n$test[''time'']=''12:30'';\r\n$test[''menu'']=array(''entree''=>''salad'', ''maincourse''=>''steak'');\r\n\r\n//	header(''Content-type:text/xml; charset=utf-8'');\r\n//	echo arraytoxml($test,"meal")->asXML();\r\n$string = "<?xml version=''1.0''?> \r\n<document>\r\n<title>Forty What?</title>\r\n<from>Joe</from>\r\n<to>Jane</to>\r\n<body>\r\nI know that''s the answer -- but what''s the question?\r\n</body>\r\n</document>";\r\n\r\n//echo $string;\r\nprint_r(xmlToArray($string));\r\n\r\n</pre>', 'PHP:XML与数组互相转换', '', 'inherit', 'open', '2012-12-13 17:49:12', 156, 'http://xpmyblog.sinaapp.com/?p=522', 0, 'revision', '', 0),
(523, 1, '2012-12-13 17:53:28', '<pre class="brush: html;">\r\nArray\r\n(\r\n    [0] => stdClass Object\r\n        (\r\n            [term_id] => 3\r\n            [name] => apache\r\n            [slug] => apache\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 3\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 3\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => apache\r\n            [category_nicename] => apache\r\n            [category_parent] => 0\r\n        )\r\n\r\n    [1] => stdClass Object\r\n        (\r\n            [term_id] => 1\r\n            [name] => PHP\r\n            [slug] => php\r\n            [term_group] => 0\r\n            [term_taxonomy_id] => 1\r\n            [taxonomy] => category\r\n            [description] => \r\n            [parent] => 0\r\n            [count] => 1\r\n            [cat_ID] => 1\r\n            [category_count] => 1\r\n            [category_description] => \r\n            [cat_name] => PHP\r\n            [category_nicename] => php\r\n            [category_parent] => 0\r\n        )\r\n</pre>\r\n<pre>二维数组stdClass Object是一组json对象，如果要调用里面的数据，就要这样调用,</pre>\r\n<pre class="brush: php;">\r\nforeach($categories as $key => $value){\r\n  $cat = $value->term_id;\r\n  $name = $value->name;\r\n}\r\n</pre>\r\n<pre>这样才能调用数据！</pre>\r\n&nbsp;', '怎么使用stdClass Object', '', 'inherit', 'open', '2012-12-13 17:53:28', 139, 'http://xpmyblog.sinaapp.com/?p=523', 0, 'revision', '', 0),
(524, 1, '2012-12-13 17:54:05', '<pre class="brush: php;">\r\nheader(''refresh:3;url=http://a.com'');\r\nprint(''正在加载，请稍等…<br>三秒后自动跳转~~~'');\r\n</pre>\r\n\r\n这个以前还真没注意到', 'PHP定时跳转', '', 'inherit', 'open', '2012-12-13 17:54:05', 110, 'http://xpmyblog.sinaapp.com/?p=524', 0, 'revision', '', 0),
(525, 1, '2012-12-13 17:54:26', '第一种：curl\r\n<pre class="brush: php;">\r\n$url = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\r\n\r\n$filename = ''curl.gif'';\r\n\r\ngetImg($url, $filename);\r\n\r\n/*\r\n  *@通过curl方式获取制定的图片到本地\r\n  *@ 完整的图片地址\r\n  *@ 要存储的文件名\r\n */\r\nfunction getImg($url = "", $filename = "") {\r\n	if(is_dir(basename($filename))) {\r\n		echo "The Dir was not exits";\r\n		Return false;\r\n	}\r\n	//去除URL连接上面可能的引号\r\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\r\n\r\n	$hander = curl_init();\r\n	$fp = fopen($filename,''wb'');\r\n\r\n	curl_setopt($hander,CURLOPT_URL,$url);\r\n	curl_setopt($hander,CURLOPT_FILE,$fp);\r\n	curl_setopt($hander,CURLOPT_HEADER,0);\r\n	curl_setopt($hander,CURLOPT_FOLLOWLOCATION,1);\r\n	//curl_setopt($hander,CURLOPT_RETURNTRANSFER,false);//以数据流的方式返回数据,当为false是直接显示出来\r\n	curl_setopt($hander,CURLOPT_TIMEOUT,60);\r\n\r\n	/*$options = array(\r\n		CURLOPT_URL=> ''http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif'',\r\n		CURLOPT_FILE => $fp,\r\n		CURLOPT_HEADER => 0,\r\n		CURLOPT_FOLLOWLOCATION => 1,\r\n		CURLOPT_TIMEOUT => 60\r\n	);\r\n	curl_setopt_array($hander, $options);\r\n	*/\r\n\r\n	curl_exec($hander);\r\n	curl_close($hander);\r\n	fclose($fp);\r\n	Return true;\r\n}\r\n</pre>\r\n第二种：sockets\r\n<pre class="brush: php;">\r\n\r\n$a = "http://thinkphp.cn/Public/Uploads/thinkphp_ad01.gif";\r\n\r\n$local = ''socket1.gif'';\r\n\r\n$aa = getImg($a,$local);\r\n\r\n/*\r\n  *@ 完整的图片地址\r\n  *@ 要存储的文件名\r\n */\r\nfunction getImg( $url = "", $filename = "" ) {\r\n	if(is_dir(basename($filename))) {\r\n		echo "The Dir was not exits";\r\n		Return false;\r\n	}\r\n	//去除URL连接上面可能的引号\r\n	$url = preg_replace( ''/(?:^[\\''"]+|[\\''"\\/]+$)/'', '''', $url );\r\n	if (!extension_loaded(''sockets'')) return false;\r\n	//获取url各相关信息\r\n	preg_match( ''/http:\\/\\/([^\\/\\:]+(\\:\\d{1,5})?)(.*)/i'', $url, $matches );\r\n	if (!$matches) return false;\r\n	$sock = socket_create( AF_INET, SOCK_STREAM, SOL_TCP );\r\n	if ( !@socket_connect( $sock, $matches[1], $matches[2] ? substr($matches[2], 1 ) : 80 ) ) {\r\n		return false;\r\n	}\r\n	//图片的相对地址\r\n	$msg = ''GET '' . $matches[3] . " HTTP/1.1\\r\\n";\r\n	//主机名称\r\n	$msg .= ''Host: '' . $matches[1] . "\\r\\n";\r\n	$msg .= ''Connection: Close'' . "\\r\\n\\r\\n";\r\n	socket_write( $sock, $msg );\r\n	$bin = '''';\r\n	while ( $tmp = socket_read( $sock, 10 ) ) {\r\n		$bin .= $tmp;\r\n		$tmp = '''';\r\n	}\r\n	$bin = explode("\\r\\n\\r\\n", $bin);\r\n	$img = $bin[1];\r\n	$h = fopen( $filename, ''wb'' );\r\n	$res = fwrite( $h, $img ) === false ? false : true;\r\n	@socket_close( $sock );\r\n	Return $res;\r\n}\r\n</pre>', 'PHP获取远程图片的两种简单方式', '', 'inherit', 'open', '2012-12-13 17:54:26', 108, 'http://xpmyblog.sinaapp.com/?p=525', 0, 'revision', '', 0);
INSERT INTO `articles` (`id`, `add_author`, `add_date`, `content`, `title`, `post_excerpt`, `status`, `comment_status`, `modify_date`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(526, 1, '2012-12-13 17:55:25', '1、自动移除字符串中的 HTML 标记\r\n\r\n在用户表单中，你可能希望移除所有不必要的 HTML 标记。使用 strip_tags() 函数可以简单地做到这一点：\r\n<pre class="brush: php;">\r\n$text = strip_tags($input, "");\r\n</pre>\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\r\n\r\n2、获取 $start 和 $end 之间的文本\r\n\r\n这是一种每个网站开发人员应该收纳在开发工具箱的功能：给定一个字符串，一个起始位置，一个结束为止，并返回包含在 $start 和 $end 两者之间的文本。\r\n<pre class="brush: php;">\r\nfunction GetBetween($content,$start,$end){\r\n    $r = explode($start, $content);\r\n    if (isset($r[1])){\r\n        $r = explode($end, $r[1]);\r\n        return $r[0];\r\n    }\r\n    return '''';\r\n}\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/get-between.htm\r\n\r\n3、将 URL 转换为超链接\r\n\r\n如果你在 WordPress 博客的评论表单中添加了 URL，它会被自动转换为超级链接。如果你想要在网站上实现同样的功能，可以使用以下代码：\r\n<pre class="brush: php;">\r\n$url = "芒果 (http://www.mangguo.org)";\r\n$url = preg_replace("#http://([A-z0-9./-]+)#", ''$0'', $url);\r\n</pre>\r\n\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=2\r\n\r\n4、将文本分割为 140 字符的数组\r\n\r\n大家都知道，Twitter 仅仅接受 140 字符以内的消息。如果你希望与这个流行的即时信息网站交互，肯定会喜欢这个功能，这将允许对留言截断为 140 个字符。\r\n<pre class="brush: php;">\r\nfunction split_to_chunks($to,$text){\r\n	$total_length = (140 - strlen($to));\r\n	$text_arr = explode(" ",$text);\r\n	$i=0;\r\n	$message[0]="";\r\n	foreach ($text_arr as $word){\r\n		if ( strlen($message[$i] . $word . '' '') <= $total_length ){\r\n			if ($text_arr[count($text_arr)-1] == $word){\r\n				$message[$i] .= $word;\r\n			} else {\r\n				$message[$i] .= $word . '' '';\r\n			}\r\n		} else {\r\n			$i++;\r\n			if ($text_arr[count($text_arr)-1] == $word){\r\n				$message[$i] = $word;\r\n			} else {\r\n				$message[$i] = $word . '' '';\r\n			}\r\n		}\r\n	}\r\n	return $message;\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=31648\r\n\r\n5、从字符串中移除 URL\r\n\r\n为了获得流量或者反向链接，很多访客会发布大量含有网址信息的博客评论，这个代码片段可以对其进行有效防范：\r\n<pre class="brush: php;">\r\n$string = preg_replace(''/\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|$!:,.;]*[A-Z0-9+&@#\\/%=~_|$]/i'', '''', $string);\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=15236\r\n\r\n6、转换字符串为缩略标题\r\n\r\n创建缩略标题（通常称之为 permalink，即固定链接）有利于 SEO，以下函数以一个字符串作为参数，并返回良好的缩略字符串。简洁有效，值得尝试！\r\n<pre class="brush: php;">\r\nfunction slug($str){\r\n	$str = strtolower(trim($str));\r\n	$str = preg_replace(''/[^a-z0-9-]/'', ''-'', $str);\r\n	$str = preg_replace(''/-+/'', "-", $str);\r\n	return $str;\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=2809\r\n\r\n7、解析 CSV 文件\r\n\r\nCSV（逗号分隔的值文件）是存储数据的简单方式，使用 PHP 解析也很容易。不信你可以动手试试以下代码片段。\r\n<pre class="brush: php;">\r\n$fh = fopen("contacts.csv", "r");\r\nwhile($line = fgetcsv($fh, 1000, ",")) {\r\n    echo "Contact: {$line[1]}";\r\n}\r\n</pre>\r\n来源：http://phpbuilder.com/columns/Jason_Gilmore060210.php3?page=1\r\n\r\n8、检索字符串中的另一个字符串\r\n\r\n如果某个字符串包含在另一个字符串中，并且必须检索出来，这里有一个绝妙的方法：\r\n<pre class="brush: php;">\r\nfunction contains($str, $content, $ignorecase=true){\r\n    if ($ignorecase){\r\n        $str = strtolower($str);\r\n        $content = strtolower($content);\r\n    }\r\n    return strpos($content,$str) ? true : false;\r\n}\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/contains.htm\r\n\r\n9、检测某个字符串是否以指定的模式开始\r\n\r\n有些语言比如 Java 具有一个 startWith 方法，允许你检测某个字符串是否以指定的模式开始。不幸的是，PHP 不具备这种内建函数。但我们可以自己动手丰衣足食，实现也很简单：\r\n<pre class="brush: php;">\r\nfunction String_Begins_With($needle, $haystack {\r\n    return (substr($haystack, 0, strlen($needle))==$needle);\r\n}\r\n</pre>\r\n来源：http://snipplr.com/view.php?codeview&id=2143\r\n\r\n10、从字符串中提取电子邮件地址\r\n\r\n有没有想过那些发垃圾邮件的人是如何得到邮件地址的？这很简单，他们只需对网页进行简单的 HTML 解析即可提取电子邮件。此代码需要一个字符串作为参数，并打印所包含的电子邮件地址。芒果告诫：请勿使用此代码制造垃圾邮件！\r\n<pre class="brush: php;">\r\nfunction extract_emails($str){\r\n    // This regular expression extracts all emails from a string:\r\n    $regexp = ''/([a-z0-9_\\.\\-])+\\@(([a-z0-9\\-])+\\.)+([a-z0-9]{2,4})+/i'';\r\n    preg_match_all($regexp, $str, $m);\r\n\r\n    return isset($m[0]) ? $m[0] : array();\r\n}\r\n\r\n$test_string = ''This is a test string...\r\n\r\n        test1@example.org\r\n\r\n        Test different formats:\r\n        test2@example.org;\r\n        <a href="test3@example.org">foobar</a>\r\n        <test4@example.org>\r\n\r\n        strange formats:\r\n        test5@example.org\r\n        test6[at]example.org\r\n        test7@example.net.org.com\r\n        test8@ example.org\r\n        test9@!foo!.org\r\n\r\n        foobar\r\n'';\r\n\r\nprint_r(extract_emails($test_string));\r\n</pre>\r\n来源：http://www.jonasjohn.de/snippets/php/extract-emails.htm\r\n', '10+ 字符串相关的 PHP 代码片段', '', 'inherit', 'open', '2012-12-13 17:55:25', 106, 'http://xpmyblog.sinaapp.com/?p=526', 0, 'revision', '', 0),
(527, 1, '2012-12-13 17:55:58', '越来越多的站点开始使用 HTML5 标签了（包括淘宝也在滥用 HTML5 哈哈），好还是不好很难说。至少对于富 JavaScript 应用来说，使用 JavaScript 来解决 IE 下不支持 HTML5 的现状是最为可靠的。\r\n\r\nIE 下比较广泛的 HTML5 标签支持方案是使用 html5shim，其使用方法如下：\r\n<pre class="brush: html;">\r\n<!--[if lt IE 9]>\r\n<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>\r\n<![endif]-->\r\n</pre>\r\n关于条件注释的参考资料：http://msdn.microsoft.com/en-us/library/ms537512.aspx\r\n\r\nWordPress 也可以通过在 header.php 文件添加这段代码的方法实现。或者使用 functions.php 文件也可以：\r\n\r\n找到当前主题对应的 functions.php 文件，并添加如下代码：\r\n<pre class="brush: php;">\r\nfunction add_ie_html5_shim () {\r\n    echo ''<!--[if lt IE 9]>'';\r\n    echo ''<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>'';\r\n    echo ''<![endif]-->'';\r\n}\r\nadd_action(''wp_head'', ''add_ie_html5_shim'');\r\n</pre>\r\n原理是通过 header.php 文件中的 wp_head() 函数强行插入。', '为 WordPress 开启 HTML5 支持 ', '', 'inherit', 'open', '2012-12-13 17:55:58', 104, 'http://xpmyblog.sinaapp.com/?p=527', 0, 'revision', '', 0),
(528, 1, '2012-12-13 17:56:18', '<pre class="brush: php;">\r\n	$array = range(''a'',''z'');\r\n	print_r(array_chunk($array, 2));\r\n</pre>', 'PHP将一维数组变成二维数组', '', 'inherit', 'open', '2012-12-13 17:56:18', 77, 'http://xpmyblog.sinaapp.com/?p=528', 0, 'revision', '', 0),
(529, 1, '2011-09-08 11:09:49', '进入\r\n\r\n/etc/selinux\r\n\r\nmore config\r\n\r\n# This file controls the state of SELinux on the system.\r\n# SELINUX= can take one of these three values:\r\n#       enforcing - SELinux security policy is enforced.\r\n#       permissive - SELinux prints warnings instead of enforcing.\r\n#       disabled - SELinux is fully disabled.\r\n改为 ：SELINUX=disabled', 'php 不可以连接远程mysql数据库', '', 'inherit', 'open', '2011-09-08 11:09:49', 72, 'http://xpmyblog.sinaapp.com/?p=529', 0, 'revision', '', 0),
(530, 1, '2011-08-18 12:16:48', 'Win7  64位系统下写PHP扩展\r\n\r\n安装一下软件\r\nVC++ 6  （我装的是VS2010专业版）\r\nphp tar包\r\nCygwin\r\n\r\n开始安装\r\n解压 php tar 包，下面有个ext目录，编辑ext_skel_win32.php文件，把$cygwin_path = ''c:\\cygwin\\bin''; 修改为你的cygwin目录$cygwin_path = ''d:\\cygwin\\bin'';\r\n命令行进入ext目录，在win7下我没把PHP环境变量配好，所以直接\r\nF:\\wamp\\bin\\php\\php5.3.5\\php.exe ext_skel_win32.php --extname=myhello.\r\n如下图所示：\r\n<a href="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/11.jpg"><img src="http://xpmyblog-wordpress.stor.sinaapp.com/uploads/2011/08/11-300x231.jpg" alt="" title="1" width="300" height="231" class="alignnone size-medium wp-image-55" /></a>\r\n到二进制包下面ext\\myhello目录下，修改php_myhello.h 文件，在PHP_FUNCTION(confirm_myhello_compiled);后面新增一行PHP_FUNCTION(myhello);\r\n大家猜猜是什么意思？\r\n修改myhello.c文件，在PHP_FUNCTION(confirm_myhello_compiled) 函数后面加上我们的函数PHP_FUNCTION(myhello){ php_printf(”Hello C extension”);}，对会C++的人来说，这回明白了吧。\r\n在const zend_function_entry myhello_functions[] = {\r\n	PHP_FE(confirm_myhello_compiled,	NULL)后面加一行，PHP_FE(myhello, NULL)。\r\n5、用VS2010打开myhello.dsp，选Release，运行。OMG，报错，../main/config.w32.h'': No such file or directory 。GAME OVER！！！！！！！！！！！！！！！！！！！！！！！！！！！！\r\n后面会更加的困难，因为我笔记本是win7 64位的，会出很多问题。刚装好的这个VS2010，TMD，一打开报好多错。\r\n参考网址http://sheng.iteye.com/blog/1143038\r\n', 'Win7  64位系统下写PHP扩展', '', 'inherit', 'open', '2011-08-18 12:16:48', 48, 'http://xpmyblog.sinaapp.com/?p=530', 0, 'revision', '', 0),
(531, 1, '2011-08-17 13:10:26', '我们在运营一个产品的时候往往会遇到这样那样的表单提交，如客户数据收集、申请加盟、意见反馈等，由此我们开发了这样一个产品，可以理解为万能型数据收集平台，不难想到，我们在前端会遇到跨域的问题，比如 www.a.com 需要提交数据到www.app.com，以前我们用服务端代理来解决跨域问题，上次遇到一台windows服务器，实现代理比较麻烦，于是想到了jquery实现。他有两种方法，getJSON和getScript． \r\n\r\ngetScript我常用来获取服务端数据，getJSON可用于提交信息，其实两者均是实现跨域提交。 \r\n\r\n在jQuery1.3.2中,您可以通过使用JSONP形式的回调函数来加载其他网域的JSON数据，如"myurl?callback=?"。jQuery将自动替换?为正确的函数名,以执行回调函数。 \r\n\r\nJsonp原理： \r\n\r\n首先在客户端注册一个callback, 然后把callback的名字传给服务器。 \r\n\r\n此时，服务器先生成 json 数据。 \r\n\r\n然后以 javascript 语法的方式，生成一个function , function 名字就是传递上来的参数 jsonp. \r\n\r\n最后将 json 数据直接以入参的方式，放置到 function 中，这样就生成了一段 js 语法的文档，返回给客户端。 \r\n\r\n客户端浏览器，解析script标签，并执行返回的 javascript 文档，此时数据作为参数，传入到了客户端预先定义好的 callback 函数里动态执行回调函数。 \r\n\r\n实例： \r\n\r\njquery代码: \r\n\r\n$.getJSON("http://www.app.com/index.php?c=add&callback=?",{id: 10, name: "test"}, function(data){ \r\n\r\nalert(data.msg); \r\n\r\n}); \r\n\r\n服务端返回： \r\n\r\njsonp1310628945031({"rs":true,"msg":"u60a8u7684u4fe1u606fu63d0u4ea4u6210u529fuff01"}) \r\n\r\nPHP代码： \r\n\r\n$result[''rs'']　= false; \r\n\r\n$result[''msg''] = ''您的信息提交成功！''; \r\n\r\n$json = new Services_JSON(); \r\n\r\nheader(''Content-Type: application/json''); \r\n\r\necho $_GET[''callback''].''(''.$json->encode($result).'')''; ', '用JSONP来实现跨域提交', '', 'inherit', 'open', '2011-08-17 13:10:26', 46, 'http://xpmyblog.sinaapp.com/?p=531', 0, 'revision', '', 0),
(532, 1, '2012-12-13 18:02:55', 'upload.php文件内容\r\n\r\n<pre class="brush: php;">\r\n$uid = 3;\r\n\r\n$time = time();\r\n\r\n// 图片目录\r\n\r\n$img_dir = "upload/";\r\n\r\n// 把图片传到服务器\r\n\r\n// 初始化变量\r\n\r\n$uploaded = 0;\r\n\r\n$unuploaded = 0;\r\n\r\n$imgname = $uid.$time;\r\n\r\n//只允许三张图片上传\r\n\r\nfor ($i=0; $i<=2; $i++) {\r\n\r\n//获取当前图片的信息\r\n\r\n$is_file = $_FILES[''imgfile''][''name''][$i];\r\n\r\n//如果当前图片不为空\r\n\r\nif (!empty($is_file)) {\r\n\r\n// 判断上传的图片的类型是不是jpg,gif,png,bmp中的一种，同时判断是否上传成功\r\n\r\n$imgtypearr = array(''image/jpeg'',''image/gif'',''image/png'',''image/bmp'');\r\n\r\n$imgtype = $_FILES[''imgfile''][''type''][$i];\r\n\r\nif (in_array($imgtype,$imgtypearr)) {\r\n\r\nmove_uploaded_file($_FILES[''imgfile''][''tmp_name''][$i], $img_dir.$imgname.$is_file);\r\n\r\n//按比例缩放图片\r\n\r\nif(resizeImage($img_dir.$imgname.$is_file,330,380,$img_dir.$imgname.$is_file)){\r\n\r\necho $is_file."缩小图片成功！\r\n";\r\n\r\n}else{\r\n\r\necho $is_file."上传图片失败！";\r\n\r\n}\r\n\r\n}else{\r\n\r\necho $is_file.''图片格式不对！'';\r\n\r\n}\r\n\r\n}\r\n\r\n}\r\n\r\n/**\r\n* 按比例缩小图片\r\n*\r\n* @param string $im 源文件\r\n* @param int $maxwidth 规定图片宽 324px\r\n* @param int $maxhidth 规定图片高 343px\r\n* @param int $maxwidth 输出文件\r\n*\r\n* 返回文件\r\n*\r\n*/\r\nfunction resizeImage($im,$maxwidth,$maxheight,$to)\r\n{\r\n// 载入图像到php到变量中\r\n$suffix = substr(strrchr($im,''.''),1); //strrchr返回最后的.jpg 或者.jpeg\r\n$style = strtolower($suffix);\r\nif($style==''jpg'' || $style==''jpeg''){\r\n$originail = imagecreatefromjpeg($im); //jpg\r\n}elseif($style==''png''){\r\n$originail = imagecreatefrompng($im); //png\r\n}elseif($style==''gif''){\r\n$originail = imagecreatefromgif($im); //gif\r\n}\r\n$dims = getimagesize($im); //获取图片大小；\r\n//Array ( [0] => 800 [1] => 600 [2] => 2 [3] => width="800" height="600" [bits] => 8 [channels] => 3 [mime] => image/jpeg )\r\n\r\n$pic_width = $dims[''0''];\r\n$pic_height = $dims[''1''];\r\n\r\nif(($maxwidth && $pic_width > $maxwidth) || ($maxheight && $pic_height > $maxheight))\r\n{\r\n$resizewidth_tag = false;\r\n$resizeheight_tag = false;\r\n\r\nif($maxwidth && $pic_width>$maxwidth)\r\n{\r\n$widthratio = $maxwidth/$pic_width;\r\n$resizewidth_tag = true;\r\n}\r\n\r\nif($maxheight && $pic_height>$maxheight)\r\n{\r\n$heightratio = $maxheight/$pic_height;\r\n$resizeheight_tag = true;\r\n}\r\n\r\nif($resizewidth_tag && $resizeheight_tag)\r\n{\r\nif($widthratio<$heightratio)\r\n$ratio = $widthratio;\r\nelse\r\n$ratio = $heightratio;\r\n}\r\n\r\nif($resizewidth_tag && !$resizeheight_tag)\r\n$ratio = $widthratio;\r\nif($resizeheight_tag && !$resizewidth_tag)\r\n$ratio = $heightratio;\r\n\r\n$newwidth = $pic_width * $ratio;\r\n$newheight = $pic_height * $ratio;\r\n\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($newwidth,$newheight);\r\n\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail ,0,0,0,0,$newwidth,$newheight,$dims[''0''],$dims[''1'']);\r\n}\r\nelse\r\n{\r\n//创建空白图像\r\n$newim = imagecreatetruecolor($dims[''0''],$dims[''1'']);\r\n//重采样拷贝部分图像并调整大小\r\nimagecopyresampled($newim,$originail,0,0,0,0,$dims[''0''],$dims[''1''],$dims[''0''],$dims[''1'']);\r\n}\r\nreturn imagejpeg($newim,$to);\r\n\r\n}\r\n</pre>', 'PHP按比例缩放图', '', 'inherit', 'open', '2012-12-13 18:02:55', 32, 'http://xpmyblog.sinaapp.com/?p=532', 0, 'revision', '', 0),
(533, 1, '2011-06-28 21:05:37', '热烈庆祝自己在2011年6月28日星期二创建WordPress for SAE 成功，第一次拥有在互联网上自己的博客，哈哈！！！\r\n\r\n再接再厉，望开发出好的应用！！！', '今天创建WordPress for SAE 成功', '', 'inherit', 'open', '2011-06-28 21:05:37', 4, 'http://xpmyblog.sinaapp.com/?p=533', 0, 'revision', '', 0),
(534, 1, '2012-12-21 16:21:16', '热烈庆祝自己在2011年6月28日星期二创建WordPress for SAE 成功，第一次拥有在互联网上自己的博客，哈哈！！！\r\n\r\n再接再厉，望开发出好的应用！！！', '今天创建WordPress for SAE 成功', '', 'inherit', 'open', '2012-12-21 16:21:16', 4, 'http://xpmyblog.sinaapp.com/?p=534', 0, 'revision', '', 0),
(535, 1, '2012-10-18 15:11:15', '[root@localhost ~]# uname -a\r\nLinux localhost.localdomain 2.6.18-238.el5 #1 SMP Thu Jan 13 15:51:15 EST 2011 x86_64 x86_64 x86_64 GNU/Linux\r\n[root@localhost ~]# getconf WORD_BIT\r\n32\r\n[root@localhost ~]# echo $HOSTTYPE\r\nx86_64', 'centos下查看自己的系统是多少位的', '', 'inherit', 'open', '2012-10-18 15:11:15', 348, 'http://xpmyblog.sinaapp.com/?p=535', 0, 'revision', '', 0),
(536, 1, '2012-11-01 11:25:01', 'apache默认列出目录文件的样式其丑无比\r\n实现作者美化apache默认列出样式是参考了 h5ai的实现方法，h5ai是专做apache文件列出样式美化的，但是太庞大了，为了美化而搞的非常庞大，即时是电脑上浏览器加载都很慢，何况是手机 上的浏览器，我的原则是，要美化，但不能太庞大，因为考虑到手机加载的速度。里面用到了很多css子选择器，低级浏览器如：IE9以下系列并不支持，所以 本文件只支持Firefox、Safari、Chrome等高级浏览器。手机上的浏览器完全没有问题。\r\n注意：这个目录文件的子文件下，不要有.php 、 .htm、.html文件，否则将展示的不是目录！\r\n下载文件\r\n<a href="http://download.ksyoulee.org/other/apache-list.rar">点我下载</a>\r\n\r\n把文件解压到host根目录下，\r\nhost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readme.txt\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.htaccess\r\n\r\n其它apache环境配置参考\r\n开启 ssi、htaccess 支持\r\n\r\n配置httpd.conf\r\n搜索“AddType text/html .shtml”\r\n找到： \r\n# AddType text/html .shtml \r\n# AddOutputFilter INCLUDES .shtml \r\n去掉#\r\nAddType text/html .shtml \r\nAddOutputFilter INCLUDES .shtml \r\n\r\n搜索“Options”\r\nOptions Indexes FollowSymLinks MultiViews IncludesNoExec\r\nAllowOverride All\r\nOrder allow,deny\r\nallow from all\r\n\r\n\r\n\r\nOK，重启服务器，完成！', 'apache修改htaccess下载列表样式美化', '', 'inherit', 'open', '2012-11-01 11:25:01', 341, 'http://xpmyblog.sinaapp.com/?p=536', 0, 'revision', '', 0),
(537, 1, '2012-08-24 10:39:16', '上网下载rarlinux这款软件，先解压，然后进入解压目录：\r\n＃cd rar\r\n＃make\r\n看见下面这些信息就是安装成功了\r\nmkdir -p /usr/local/bin \r\nmkdir -p /usr/local/lib \r\ncp rar unrar /usr/local/bin \r\ncp rarfiles.lst /etc \r\ncp default.sfx /usr/local/lib\r\n\r\n但是在运行命令rar时,出现下面这个问题,\r\nrar: /lib/i686/nosegneg/libc.so.6: version `GLIBC_2.7'' not found (required by rar)\r\n\r\n解决办法：\r\n\r\ncp rar_static /usr/local/bin/rar\r\n先记住两个常用命令吧：\r\n\r\nrar x vpsyou.rar //解压 vpsyou.rar 到当前目录\r\n rar vpsyou.rar ./vpsyou.com/ //将 vpsyou.com 目录打包为 vpsyou.rar', 'Centos下解压rar文件的方法  ', '', 'inherit', 'open', '2012-08-24 10:39:16', 283, 'http://xpmyblog.sinaapp.com/?p=537', 0, 'revision', '', 0);

-- --------------------------------------------------------

--
-- 表的结构 `terms`
--

CREATE TABLE IF NOT EXISTS `terms` (
  `term_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL DEFAULT '',
  `slug` varchar(200) NOT NULL DEFAULT '',
  `term_group` bigint(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`term_id`),
  UNIQUE KEY `slug` (`slug`),
  KEY `name` (`name`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=44 ;

--
-- 转存表中的数据 `terms`
--

INSERT INTO `terms` (`term_id`, `name`, `slug`, `term_group`) VALUES
(1, '生活', '%e7%94%9f%e6%b4%bb', 0),
(2, '链接表', '%e9%93%be%e6%8e%a5%e8%a1%a8', 0),
(3, 'PHP', 'php', 0),
(4, 'Linux', 'linux', 0),
(9, '数据', '%e6%95%b0%e6%8d%ae', 0),
(10, 'JS+HTML+DIV+CSS', 'jshtmldivcss', 0),
(14, 'IOS', 'ios', 0),
(15, '其他', '%e5%85%b6%e4%bb%96', 0),
(16, 'Python', 'python', 0),
(17, '分页', '%e5%88%86%e9%a1%b5', 0),
(18, 'centos', 'centos', 0),
(19, '笑话', '%e7%ac%91%e8%af%9d', 0),
(20, '苦逼', '%e8%8b%a6%e9%80%bc', 0),
(21, '冷笑话', '%e5%86%b7%e7%ac%91%e8%af%9d', 0),
(22, '浏览器', '%e6%b5%8f%e8%a7%88%e5%99%a8', 0),
(23, '趣味', '%e8%b6%a3%e5%91%b3', 0),
(24, '爱好', '%e7%88%b1%e5%a5%bd', 0),
(25, 'http', 'http', 0),
(26, 'mysql', 'mysql', 0),
(27, 'redis', 'redis', 0),
(28, 'win7', 'win7', 0),
(29, 'C', 'c', 0),
(30, 'java', 'java', 0),
(31, 'python', 'python-2', 0),
(32, 'php', 'php-2', 0),
(33, 'sae', 'sae', 0),
(34, 'apache', 'apache', 0),
(35, 'nginx', 'nginx', 0),
(36, 'vim', 'vim', 0),
(37, 'ubuntu', 'ubuntu', 0),
(38, 'javascript', 'javascript', 0),
(39, 'html', 'html', 0),
(40, 'jQuery', 'jquery', 0),
(41, 'ios', 'ios-2', 0),
(42, '命令', '%e5%91%bd%e4%bb%a4', 0),
(43, '字符串', '%e5%ad%97%e7%ac%a6%e4%b8%b2', 0);

-- --------------------------------------------------------

--
-- 表的结构 `term_relationships`
--

CREATE TABLE IF NOT EXISTS `term_relationships` (
  `article_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `term_taxonomy_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `term_order` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`article_id`,`term_taxonomy_id`),
  KEY `term_taxonomy_id` (`term_taxonomy_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `term_relationships`
--

INSERT INTO `term_relationships` (`article_id`, `term_taxonomy_id`, `term_order`) VALUES
(1, 2, 0),
(2, 2, 0),
(4, 3, 0),
(4, 34, 0),
(11, 1, 0),
(11, 24, 0),
(16, 1, 0),
(16, 24, 0),
(20, 4, 0),
(20, 38, 0),
(32, 3, 0),
(32, 33, 0),
(42, 15, 0),
(42, 31, 0),
(44, 1, 0),
(44, 23, 0),
(46, 3, 0),
(46, 33, 0),
(48, 3, 0),
(48, 33, 0),
(57, 9, 0),
(57, 28, 0),
(63, 10, 0),
(63, 41, 0),
(72, 3, 0),
(72, 33, 0),
(77, 3, 0),
(77, 33, 0),
(82, 9, 0),
(82, 27, 0),
(91, 1, 0),
(91, 22, 0),
(93, 10, 0),
(93, 40, 0),
(100, 10, 0),
(100, 39, 0),
(102, 4, 0),
(102, 37, 0),
(104, 3, 0),
(104, 33, 0),
(106, 3, 0),
(106, 33, 0),
(108, 3, 0),
(108, 33, 0),
(110, 3, 0),
(110, 33, 0),
(115, 1, 0),
(115, 19, 0),
(117, 1, 0),
(117, 19, 0),
(119, 4, 0),
(119, 35, 0),
(139, 3, 0),
(139, 33, 0),
(146, 15, 0),
(146, 30, 0),
(152, 10, 0),
(152, 40, 0),
(156, 3, 0),
(156, 33, 0),
(158, 3, 0),
(158, 33, 0),
(160, 3, 0),
(160, 33, 0),
(163, 10, 0),
(163, 39, 0),
(170, 4, 0),
(170, 37, 0),
(172, 1, 0),
(172, 19, 0),
(175, 3, 0),
(175, 33, 0),
(180, 3, 0),
(180, 33, 0),
(196, 3, 0),
(196, 33, 0),
(202, 15, 0),
(202, 29, 0),
(205, 3, 0),
(205, 33, 0),
(209, 4, 0),
(209, 18, 0),
(212, 4, 0),
(212, 36, 0),
(214, 1, 0),
(214, 20, 0),
(220, 4, 0),
(220, 18, 0),
(220, 35, 0),
(224, 10, 0),
(224, 39, 0),
(226, 4, 0),
(226, 36, 0),
(232, 1, 0),
(232, 19, 0),
(240, 9, 0),
(240, 26, 0),
(242, 10, 0),
(242, 39, 0),
(248, 3, 0),
(248, 10, 0),
(248, 33, 0),
(248, 39, 0),
(276, 14, 0),
(276, 42, 0),
(280, 14, 0),
(280, 42, 0),
(283, 4, 0),
(283, 18, 0),
(296, 3, 0),
(296, 33, 0),
(301, 3, 0),
(301, 33, 0),
(335, 4, 0),
(335, 18, 0),
(337, 10, 0),
(337, 39, 0),
(341, 4, 0),
(341, 35, 0),
(348, 4, 0),
(348, 18, 0),
(350, 3, 0),
(350, 33, 0),
(390, 16, 0),
(390, 32, 0),
(396, 3, 0),
(396, 33, 0),
(409, 9, 0),
(409, 25, 0),
(419, 16, 0),
(419, 32, 0),
(424, 1, 0),
(481, 10, 0),
(481, 39, 0),
(491, 19, 0),
(562, 4, 0),
(562, 43, 0),
(567, 3, 0),
(567, 33, 0),
(567, 44, 0),
(568, 33, 0),
(568, 44, 0),
(569, 33, 0),
(569, 44, 0),
(571, 33, 0),
(571, 44, 0),
(572, 33, 0),
(572, 44, 0),
(573, 9, 0),
(573, 26, 0),
(574, 26, 0);

-- --------------------------------------------------------

--
-- 表的结构 `term_taxonomy`
--

CREATE TABLE IF NOT EXISTS `term_taxonomy` (
  `term_taxonomy_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `term_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `taxonomy` varchar(32) NOT NULL DEFAULT '',
  `description` longtext NOT NULL,
  `parent` bigint(20) unsigned NOT NULL DEFAULT '0',
  `count` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`term_taxonomy_id`),
  UNIQUE KEY `term_id_taxonomy` (`term_id`,`taxonomy`),
  KEY `taxonomy` (`taxonomy`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=45 ;

--
-- 转存表中的数据 `term_taxonomy`
--

INSERT INTO `term_taxonomy` (`term_taxonomy_id`, `term_id`, `taxonomy`, `description`, `parent`, `count`) VALUES
(1, 1, 'category', '发表关于保时捷的文章', 0, 9),
(2, 2, 'link_category', '', 0, 7),
(3, 3, 'category', '发表关于PHP文章', 0, 24),
(4, 4, 'category', '', 0, 13),
(9, 9, 'category', '', 0, 5),
(10, 10, 'category', '', 0, 10),
(14, 14, 'category', '', 0, 2),
(15, 15, 'category', '', 0, 3),
(16, 16, 'category', '', 0, 2),
(17, 17, 'post_tag', '', 0, 0),
(18, 18, 'post_tag', '', 0, 5),
(19, 19, 'post_tag', '', 0, 4),
(20, 20, 'post_tag', '', 0, 1),
(21, 21, 'post_tag', '', 0, 0),
(22, 22, 'post_tag', '', 0, 1),
(23, 23, 'post_tag', '', 0, 1),
(24, 24, 'post_tag', '', 0, 2),
(25, 25, 'post_tag', '', 0, 1),
(26, 26, 'post_tag', '', 0, 2),
(27, 9, 'post_tag', '', 0, 1),
(28, 27, 'post_tag', '', 0, 1),
(29, 28, 'post_tag', '', 0, 1),
(30, 29, 'post_tag', '', 0, 1),
(31, 30, 'post_tag', '', 0, 1),
(32, 31, 'post_tag', '', 0, 2),
(33, 32, 'post_tag', '', 0, 23),
(34, 33, 'post_tag', '', 0, 1),
(35, 34, 'post_tag', '', 0, 3),
(36, 35, 'post_tag', '', 0, 2),
(37, 36, 'post_tag', '', 0, 2),
(38, 37, 'post_tag', '', 0, 1),
(39, 38, 'post_tag', '', 0, 7),
(40, 39, 'post_tag', '', 0, 2),
(41, 40, 'post_tag', '', 0, 1),
(42, 41, 'post_tag', '', 0, 2),
(43, 42, 'post_tag', '', 0, 1),
(44, 43, 'post_tag', '', 0, 1);

-- --------------------------------------------------------

--
-- 表的结构 `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `user_login` varchar(60) NOT NULL DEFAULT '',
  `user_pass` varchar(64) NOT NULL DEFAULT '',
  `user_nicename` varchar(50) NOT NULL DEFAULT '',
  `user_email` varchar(100) NOT NULL DEFAULT '',
  `user_url` varchar(100) NOT NULL DEFAULT '',
  `user_registered` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `user_activation_key` varchar(60) NOT NULL DEFAULT '',
  `user_status` int(11) NOT NULL DEFAULT '0',
  `display_name` varchar(250) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `user_login_key` (`user_login`),
  KEY `user_nicename` (`user_nicename`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

--
-- 转存表中的数据 `users`
--

INSERT INTO `users` (`id`, `user_login`, `user_pass`, `user_nicename`, `user_email`, `user_url`, `user_registered`, `user_activation_key`, `user_status`, `display_name`) VALUES
(1, 'xpmozong', 'e10adc3949ba59abbe56e057f20f883e', 'xpmozong', '361131953@qq.com', '', '0000-00-00 00:00:00', '', 0, '');

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
